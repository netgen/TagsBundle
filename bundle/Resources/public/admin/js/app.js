(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.NgUiInit=t():e.NgUiInit=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";(function(e){var n,r,i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
r="undefined"!=typeof window?window:void 0,i=function(r,i){var a=[],o=r.document,d=Object.getPrototypeOf,c=a.slice,l=a.concat,h=a.push,u=a.indexOf,f={},p=f.toString,g=f.hasOwnProperty,_=g.toString,m=_.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},b={type:!0,src:!0,noModule:!0};function j(e,t,n){var r,i=(t=t||o).createElement("script");if(i.text=e,n)for(r in b)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function k(e){return null==e?e+"":"object"===(void 0===e?"undefined":s(e))||"function"==typeof e?f[p.call(e)]||"object":void 0===e?"undefined":s(e)}var w=function e(t,n){return new e.fn.init(t,n)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(e){var t=!!e&&"length"in e&&e.length,n=k(e);return!y(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return c.call(this)},get:function(e){return null==e?c.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:a.sort,splice:a.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},d=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[d]||{},d++),"object"===(void 0===o?"undefined":s(o))||y(o)||(o={}),d===c&&(o=this,d--);d<c;d++)if(null!=(e=arguments[d]))for(t in e)n=o[t],o!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,a=n&&Array.isArray(n)?n:[]):a=n&&w.isPlainObject(n)?n:{},o[t]=w.extend(l,a,r)):void 0!==r&&(o[t]=r));return o},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=d(e))||"function"==typeof(n=g.call(t,"constructor")&&t.constructor)&&_.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){j(e)},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,s=e.length,a=!n;i<s;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,a=[];if(T(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return l.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=a[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var N=
/*!
  * Sizzle CSS Selector Engine v2.3.3
  * https://sizzlejs.com/
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license
  * http://jquery.org/license
  *
  * Date: 2016-08-08
  */
function(e){var t,n,r,i,s,a,o,d,c,l,h,u,f,p,g,_,m,v,y,x="sizzle"+1*new Date,b=e.document,j=0,k=0,w=ae(),C=ae(),T=ae(),N=function(e,t){return e===t&&(h=!0),0},S={}.hasOwnProperty,E=[],A=E.pop,O=E.push,L=E.push,D=E.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+M+"*("+H+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+M+"*\\]",I=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),W=new RegExp("^"+M+"*,"+M+"*"),B=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),U=new RegExp(I),K=new RegExp("^"+H+"$"),X={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+q+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,V=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){u()},ie=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(E=D.call(b.childNodes),b.childNodes),E[b.childNodes.length].nodeType}catch(e){L={apply:E.length?function(e,t){O.apply(e,D.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var s,o,c,l,h,p,m,v=t&&t.ownerDocument,j=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==j&&9!==j&&11!==j)return r;if(!i&&((t?t.ownerDocument||t:b)!==f&&u(t),t=t||f,g)){if(11!==j&&(h=G.exec(e)))if(s=h[1]){if(9===j){if(!(c=t.getElementById(s)))return r;if(c.id===s)return r.push(c),r}else if(v&&(c=v.getElementById(s))&&y(t,c)&&c.id===s)return r.push(c),r}else{if(h[2])return L.apply(r,t.getElementsByTagName(e)),r;if((s=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(s)),r}if(n.qsa&&!T[e+" "]&&(!_||!_.test(e))){if(1!==j)v=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(te,ne):t.setAttribute("id",l=x),o=(p=a(e)).length;o--;)p[o]="#"+l+" "+me(p[o]);m=p.join(","),v=Q.test(e)&&ge(t.parentNode)||t}if(m)try{return L.apply(r,v.querySelectorAll(m)),r}catch(e){}finally{l===x&&t.removeAttribute("id")}}}return d(e.replace(R,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function oe(e){return e[x]=!0,e}function de(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ue(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return oe(function(t){return t=+t,oe(function(n,r){for(var i,s=e([],n.length,t),a=s.length;a--;)n[i=s[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},u=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:b;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!s(f),b!==f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=de(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=de(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=V.test(f.getElementsByClassName),n.getById=de(function(e){return p.appendChild(e).id=x,!f.getElementsByName||!f.getElementsByName(x).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(i=t.getElementsByName(e),r=0;s=i[r++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],_=[],(n.qsa=V.test(f.querySelectorAll))&&(de(function(e){p.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+M+"*(?:value|"+q+")"),e.querySelectorAll("[id~="+x+"-]").length||_.push("~="),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||_.push(".#.+[+~]")}),de(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(n.matchesSelector=V.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&de(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),m.push("!=",I)}),_=_.length&&new RegExp(_.join("|")),m=m.length&&new RegExp(m.join("|")),t=V.test(p.compareDocumentPosition),y=t||V.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===f||e.ownerDocument===b&&y(b,e)?-1:t===f||t.ownerDocument===b&&y(b,t)?1:l?P(l,e)-P(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,a=[e],o=[t];if(!i||!s)return e===f?-1:t===f?1:i?-1:s?1:l?P(l,e)-P(l,t):0;if(i===s)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;a[r]===o[r];)r++;return r?le(a[r],o[r]):a[r]===b?-1:o[r]===b?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&u(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!T[t+" "]&&(!m||!m.test(t))&&(!_||!_.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==f&&u(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==f&&u(e);var i=r.attrHandle[t.toLowerCase()],s=i&&S.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==s?s:n.attributes||!g?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.escape=function(e){return(e+"").replace(te,ne)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,s=0;if(h=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(N),h){for(;t=e[s++];)t===e[s]&&(i=r.push(s));for(;i--;)e.splice(r[i],1)}return l=null,e},i=se.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:oe,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&w(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,d){var c,l,h,u,f,p,g=s!==a?"nextSibling":"previousSibling",_=t.parentNode,m=o&&t.nodeName.toLowerCase(),v=!d&&!o,y=!1;if(_){if(s){for(;g;){for(u=t;u=u[g];)if(o?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?_.firstChild:_.lastChild],a&&v){for(y=(f=(c=(l=(h=(u=_)[x]||(u[x]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===j&&c[1])&&c[2],u=f&&_.childNodes[f];u=++f&&u&&u[g]||(y=f=0)||p.pop();)if(1===u.nodeType&&++y&&u===t){l[e]=[j,f,y];break}}else if(v&&(y=f=(c=(l=(h=(u=t)[x]||(u[x]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===j&&c[1]),!1===y)for(;(u=++f&&u&&u[g]||(y=f=0)||p.pop())&&((o?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++y||(v&&((l=(h=u[x]||(u[x]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]=[j,y]),u!==t)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,n){for(var r,s=i(e,t),a=s.length;a--;)e[r=P(e,s[a])]=!(n[r]=s[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:oe(function(e){var t=[],n=[],r=o(e.replace(R,"$1"));return r[x]?oe(function(e,t,n,i){for(var s,a=r(e,null,i,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:oe(function(e){return function(t){return se(e,t).length>0}}),contains:oe(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:oe(function(e){return K.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ue(t);function _e(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=t.next,s=i||r,a=n&&"parentNode"===s,o=k++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,d){var c,l,h,u=[j,o];if(d){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,d))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(h=t[x]||(t[x]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[s])&&c[0]===j&&c[1]===o)return u[2]=c[2];if(l[s]=u,u[2]=e(t,n,d))return!0}return!1}}function ye(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n,r,i){for(var s,a=[],o=0,d=e.length,c=null!=t;o<d;o++)(s=e[o])&&(n&&!n(s,r,i)||(a.push(s),c&&t.push(o)));return a}function be(e,t,n,r,i,s){return r&&!r[x]&&(r=be(r)),i&&!i[x]&&(i=be(i,s)),oe(function(s,a,o,d){var c,l,h,u=[],f=[],p=a.length,g=s||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",o.nodeType?[o]:o,[]),_=!e||!s&&t?g:xe(g,u,e,o,d),m=n?i||(s?e:p||r)?[]:a:_;if(n&&n(_,m,o,d),r)for(c=xe(m,f),r(c,[],o,d),l=c.length;l--;)(h=c[l])&&(m[f[l]]=!(_[f[l]]=h));if(s){if(i||e){if(i){for(c=[],l=m.length;l--;)(h=m[l])&&c.push(_[l]=h);i(null,m=[],c,d)}for(l=m.length;l--;)(h=m[l])&&(c=i?P(s,h):u[l])>-1&&(s[c]=!(a[c]=h))}}else m=xe(m===a?m.splice(p,m.length):m),i?i(null,a,m,d):L.apply(a,m)})}function je(e){for(var t,n,i,s=e.length,a=r.relative[e[0].type],o=a||r.relative[" "],d=a?1:0,l=ve(function(e){return e===t},o,!0),h=ve(function(e){return P(t,e)>-1},o,!0),u=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):h(e,n,r));return t=null,i}];d<s;d++)if(n=r.relative[e[d].type])u=[ve(ye(u),n)];else{if((n=r.filter[e[d].type].apply(null,e[d].matches))[x]){for(i=++d;i<s&&!r.relative[e[i].type];i++);return be(d>1&&ye(u),d>1&&me(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(R,"$1"),n,d<i&&je(e.slice(d,i)),i<s&&je(e=e.slice(i)),i<s&&me(e))}u.push(n)}return ye(u)}return _e.prototype=r.filters=r.pseudos,r.setFilters=new _e,a=se.tokenize=function(e,t){var n,i,s,a,o,d,c,l=C[e+" "];if(l)return t?0:l.slice(0);for(o=e,d=[],c=r.preFilter;o;){for(a in n&&!(i=W.exec(o))||(i&&(o=o.slice(i[0].length)||o),d.push(s=[])),n=!1,(i=B.exec(o))&&(n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),o=o.slice(n.length)),r.filter)!(i=X[a].exec(o))||c[a]&&!(i=c[a](i))||(n=i.shift(),s.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?se.error(e):C(e,d).slice(0)},o=se.compile=function(e,t){var n,i=[],s=[],o=T[e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)(o=je(t[n]))[x]?i.push(o):s.push(o);(o=T(e,function(e,t){var n=t.length>0,i=e.length>0,s=function(s,a,o,d,l){var h,p,_,m=0,v="0",y=s&&[],x=[],b=c,k=s||i&&r.find.TAG("*",l),w=j+=null==b?1:Math.random()||.1,C=k.length;for(l&&(c=a===f||a||l);v!==C&&null!=(h=k[v]);v++){if(i&&h){for(p=0,a||h.ownerDocument===f||(u(h),o=!g);_=e[p++];)if(_(h,a||f,o)){d.push(h);break}l&&(j=w)}n&&((h=!_&&h)&&m--,s&&y.push(h))}if(m+=v,n&&v!==m){for(p=0;_=t[p++];)_(y,x,a,o);if(s){if(m>0)for(;v--;)y[v]||x[v]||(x[v]=A.call(d));x=xe(x)}L.apply(d,x),l&&!s&&x.length>0&&m+t.length>1&&se.uniqueSort(d)}return l&&(j=w,c=b),y};return n?oe(s):s}(s,i))).selector=e}return o},d=se.select=function(e,t,n,i){var s,d,c,l,h,u="function"==typeof e&&e,f=!i&&a(e=u.selector||e);if(n=n||[],1===f.length){if((d=f[0]=f[0].slice(0)).length>2&&"ID"===(c=d[0]).type&&9===t.nodeType&&g&&r.relative[d[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(Z,ee),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(d.shift().value.length)}for(s=X.needsContext.test(e)?0:d.length;s--&&(c=d[s],!r.relative[l=c.type]);)if((h=r.find[l])&&(i=h(c.matches[0].replace(Z,ee),Q.test(d[0].type)&&ge(t.parentNode)||t))){if(d.splice(s,1),!(e=i.length&&me(d)))return L.apply(n,i),n;break}}return(u||o(e,f))(i,t,!g,n,!t||Q.test(e)&&ge(t.parentNode)||t),n},n.sortStable=x.split("").sort(N).join("")===x,n.detectDuplicates=!!h,u(),n.sortDetached=de(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),de(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&de(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),de(function(e){return null==e.getAttribute("disabled")})||ce(q,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(r);w.find=N,w.expr=N.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=N.uniqueSort,w.text=N.getText,w.isXMLDoc=N.isXML,w.contains=N.contains,w.escapeSelector=N.escape;var S=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=w.expr.match.needsContext;function O(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return y(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&A.test(e)?w(e):e||[],!1).length}});var P,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||P,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),L.test(r[1])&&w.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=o.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,P=w(o);var M=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],a="string"!=typeof e&&w(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?w.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return O(e,"iframe")?e.contentDocument:(O(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(H[e]||w.uniqueSort(i),M.test(e)&&i.reverse()),this.pushStack(i)}});var I=/[^\x20\t\r\n\f]+/g;function $(e){return e}function R(e){throw e}function W(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(I)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,r,i,s=[],a=[],o=-1,d=function(){for(i=i||e.once,r=t=!0;a.length;o=-1)for(n=a.shift();++o<s.length;)!1===s[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=s.length,n=!1);e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(o=s.length-1,a.push(n)),function t(n){w.each(n,function(n,r){y(r)?e.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==k(r)&&t(r)})}(arguments),n&&!t&&d()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,s,n))>-1;)s.splice(n,1),n<=o&&o--}),this},has:function(e){return e?w.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=a=[],n||t||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||d()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},w.extend({Deferred:function(e){var t=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,r){var i=y(e[r[4]])&&e[r[4]];a[r[1]](function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,n,i){var a=0;function o(e,t,n,i){return function(){var d=this,c=arguments,l=function(){var r,l;if(!(e<a)){if((r=n.apply(d,c))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"===(void 0===r?"undefined":s(r))||"function"==typeof r)&&r.then,y(l)?i?l.call(r,o(a,t,$,i),o(a,t,R,i)):(a++,l.call(r,o(a,t,$,i),o(a,t,R,i),o(a,t,$,t.notifyWith))):(n!==$&&(d=void 0,c=[r]),(i||t.resolveWith)(d,c))}},h=i?l:function(){try{l()}catch(r){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(r,h.stackTrace),e+1>=a&&(n!==R&&(d=void 0,c=[r]),t.rejectWith(d,c))}};e?h():(w.Deferred.getStackHook&&(h.stackTrace=w.Deferred.getStackHook()),r.setTimeout(h))}}return w.Deferred(function(r){t[0][3].add(o(0,r,y(i)?i:$,r.notifyWith)),t[1][3].add(o(0,r,y(e)?e:$)),t[2][3].add(o(0,r,y(n)?n:R))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},a={};return w.each(t,function(e,r){var s=r[2],o=r[5];i[r[1]]=s.add,o&&s.add(function(){n=o},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=s.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),i=c.call(arguments),s=w.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?c.call(arguments):n,--t||s.resolveWith(r,i)}};if(t<=1&&(W(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||y(i[n]&&i[n].then)))return s.then();for(;n--;)W(i[n],a(n),s.reject);return s.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&B.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){r.setTimeout(function(){throw e})};var z=w.Deferred();function U(){o.removeEventListener("DOMContentLoaded",U),r.removeEventListener("load",U),w.ready()}w.fn.ready=function(e){return z.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||z.resolveWith(o,[w]))}}),w.ready.then=z.then,"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?r.setTimeout(w.ready):(o.addEventListener("DOMContentLoaded",U),r.addEventListener("load",U));var K=function e(t,n,r,i,s,a,o){var d=0,c=t.length,l=null==r;if("object"===k(r))for(d in s=!0,r)e(t,n,d,r[d],!0,a,o);else if(void 0!==i&&(s=!0,y(i)||(o=!0),l&&(o?(n.call(t,i),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)})),n))for(;d<c;d++)n(t[d],r,o?i:i.call(t[d],d,n(t[d],r)));return s?t:l?n.call(t):c?n(t[0],r):a},X=/^-ms-/,Y=/-([a-z])/g;function J(e,t){return t.toUpperCase()}function V(e){return e.replace(X,"ms-").replace(Y,J)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(I)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Z=new Q,ee=new Q,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ne=/[A-Z]/g;function re(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:te.test(e)?JSON.parse(e):e)}(n)}catch(e){}ee.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return ee.hasData(e)||Z.hasData(e)},data:function(e,t,n){return ee.access(e,t,n)},removeData:function(e,t){ee.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=ee.get(a),1===a.nodeType&&!Z.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=V(r.slice(5)),re(a,r,i[r]));Z.set(a,"hasDataAttrs",!0)}return i}return"object"===(void 0===e?"undefined":s(e))?this.each(function(){ee.set(this,e)}):K(this,function(t){var n;if(a&&void 0===t)return void 0!==(n=ee.get(a,e))?n:void 0!==(n=re(a,e))?n:void 0;this.each(function(){ee.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ee.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),s=w._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,function(){w.dequeue(e,t)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:w.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),s=this,a=this.length,o=function(){--r||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(s[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(o));return o(),i.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,se=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],oe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},de=function(e,t,n,r){var i,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];for(s in i=n.apply(e,r||[]),t)e.style[s]=a[s];return i};function ce(e,t,n,r){var i,s,a=20,o=r?function(){return r.cur()}:function(){return w.css(e,t,"")},d=o(),c=n&&n[3]||(w.cssNumber[t]?"":"px"),l=(w.cssNumber[t]||"px"!==c&&+d)&&se.exec(w.css(e,t));if(l&&l[3]!==c){for(d/=2,c=c||l[3],l=+d||1;a--;)w.style(e,t,l+c),(1-s)*(1-(s=o()/d||.5))<=0&&(a=0),l/=s;l*=2,w.style(e,t,l+c),n=n||[]}return n&&(l=+l||+d||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var le={};function he(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function ue(e,t){for(var n,r,i=[],s=0,a=e.length;s<a;s++)(r=e[s]).style&&(n=r.style.display,t?("none"===n&&(i[s]=Z.get(r,"display")||null,i[s]||(r.style.display="")),""===r.style.display&&oe(r)&&(i[s]=he(r))):"none"!==n&&(i[s]="none",Z.set(r,"display",n)));for(s=0;s<a;s++)null!=i[s]&&(e[s].style.display=i[s]);return e}w.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){oe(this)?w(this).show():w(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ge=/^$|^module$|\/(?:java|ecma)script/i,_e={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&O(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}_e.optgroup=_e.option,_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td;var ye,xe,be=/<|&#?\w+;/;function je(e,t,n,r,i){for(var s,a,o,d,c,l,h=t.createDocumentFragment(),u=[],f=0,p=e.length;f<p;f++)if((s=e[f])||0===s)if("object"===k(s))w.merge(u,s.nodeType?[s]:s);else if(be.test(s)){for(a=a||h.appendChild(t.createElement("div")),o=(pe.exec(s)||["",""])[1].toLowerCase(),d=_e[o]||_e._default,a.innerHTML=d[1]+w.htmlPrefilter(s)+d[2],l=d[0];l--;)a=a.lastChild;w.merge(u,a.childNodes),(a=h.firstChild).textContent=""}else u.push(t.createTextNode(s));for(h.textContent="",f=0;s=u[f++];)if(r&&w.inArray(s,r)>-1)i&&i.push(s);else if(c=w.contains(s.ownerDocument,s),a=me(h.appendChild(s),"script"),c&&ve(a),n)for(l=0;s=a[l++];)ge.test(s.type||"")&&n.push(s);return h}ye=o.createDocumentFragment().appendChild(o.createElement("div")),(xe=o.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),ye.appendChild(xe),v.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var ke=o.documentElement,we=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function Se(){return!1}function Ee(){try{return o.activeElement}catch(e){}}function Ae(e,t,n,r,i,a){var o,d;if("object"===(void 0===t?"undefined":s(t))){for(d in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,d,n,r,t[d],a);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===a&&(o=i,(i=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var s,a,o,d,c,l,h,u,f,p,g,_=Z.get(e);if(_)for(n.handler&&(n=(s=n).handler,i=s.selector),i&&w.find.matchesSelector(ke,i),n.guid||(n.guid=w.guid++),(d=_.events)||(d=_.events={}),(a=_.handle)||(a=_.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(I)||[""]).length;c--;)f=g=(o=Te.exec(t[c])||[])[1],p=(o[2]||"").split(".").sort(),f&&(h=w.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=w.event.special[f]||{},l=w.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:p.join(".")},s),(u=d[f])||((u=d[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,l):u.push(l),w.event.global[f]=!0)},remove:function(e,t,n,r,i){var s,a,o,d,c,l,h,u,f,p,g,_=Z.hasData(e)&&Z.get(e);if(_&&(d=_.events)){for(c=(t=(t||"").match(I)||[""]).length;c--;)if(f=g=(o=Te.exec(t[c])||[])[1],p=(o[2]||"").split(".").sort(),f){for(h=w.event.special[f]||{},u=d[f=(r?h.delegateType:h.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=u.length;s--;)l=u[s],!i&&g!==l.origType||n&&n.guid!==l.guid||o&&!o.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(u.splice(s,1),l.selector&&u.delegateCount--,h.remove&&h.remove.call(e,l));a&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,p,_.handle)||w.removeEvent(e,f,_.handle),delete d[f])}else for(f in d)w.event.remove(e,f+t[c],n,r,!0);w.isEmptyObject(d)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,s,a,o=w.event.fix(e),d=new Array(arguments.length),c=(Z.get(this,"events")||{})[o.type]||[],l=w.event.special[o.type]||{};for(d[0]=o,t=1;t<arguments.length;t++)d[t]=arguments[t];if(o.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,o)){for(a=w.event.handlers.call(this,o,c),t=0;(i=a[t++])&&!o.isPropagationStopped();)for(o.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(s.namespace)||(o.handleObj=s,o.data=s.data,void 0!==(r=((w.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,d))&&!1===(o.result=r)&&(o.preventDefault(),o.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,r,i,s,a,o=[],d=t.delegateCount,c=e.target;if(d&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],a={},n=0;n<d;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(c)>-1:w.find(i,this,null,[c]).length),a[i]&&s.push(r);s.length&&o.push({elem:c,handlers:s})}return c=this,d<t.length&&o.push({elem:c,handlers:t.slice(d)}),o},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&O(this,"input"))return this.click(),!1},_default:function(e){return O(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===(void 0===e?"undefined":s(e))){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){w.event.remove(this,e,n,t)})}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Le=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return O(e,"table")&&O(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,s,a,o,d,c;if(1===t.nodeType){if(Z.hasData(e)&&(s=Z.access(e),a=Z.set(t,s),c=s.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)w.event.add(t,i,c[i][n]);ee.hasData(e)&&(o=ee.access(e),d=w.extend({},o),ee.set(t,d))}}function Ie(e,t,n,r){t=l.apply([],t);var i,s,a,o,d,c,h=0,u=e.length,f=u-1,p=t[0],g=y(p);if(g||u>1&&"string"==typeof p&&!v.checkClone&&De.test(p))return e.each(function(i){var s=e.eq(i);g&&(t[0]=p.call(this,i,s.html())),Ie(s,t,n,r)});if(u&&(s=(i=je(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=s),s||r)){for(o=(a=w.map(me(i,"script"),Me)).length;h<u;h++)d=i,h!==f&&(d=w.clone(d,!0,!0),o&&w.merge(a,me(d,"script"))),n.call(e[h],d,h);if(o)for(c=a[a.length-1].ownerDocument,w.map(a,He),h=0;h<o;h++)d=a[h],ge.test(d.type||"")&&!Z.access(d,"globalEval")&&w.contains(c,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(d.src):j(d.textContent.replace(Pe,""),c,d))}return e}function $e(e,t,n){for(var r,i=t?w.filter(t,e):e,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||w.cleanData(me(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(me(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Oe,"<$1></$2>")},clone:function(e,t,n){var r,i,s,a,o,d,c,l=e.cloneNode(!0),h=w.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=me(l),r=0,i=(s=me(e)).length;r<i;r++)o=s[r],d=a[r],void 0,"input"===(c=d.nodeName.toLowerCase())&&fe.test(o.type)?d.checked=o.checked:"input"!==c&&"textarea"!==c||(d.defaultValue=o.defaultValue);if(t)if(n)for(s=s||me(e),a=a||me(l),r=0,i=s.length;r<i;r++)Fe(s[r],a[r]);else Fe(e,l);return(a=me(l,"script")).length>0&&ve(a,!h&&me(e,"script")),l},cleanData:function(e){for(var t,n,r,i=w.event.special,s=0;void 0!==(n=e[s]);s++)if(G(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[ee.expando]&&(n[ee.expando]=void 0)}}}),w.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return K(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return K(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!_e[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ie(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),s=i.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),w(i[a])[t](n),h.apply(r,n.get());return this.pushStack(r)}});var Re=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Be=new RegExp(ae.join("|"),"i");function ze(e,t,n){var r,i,s,a,o=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!v.pixelBoxStyles()&&Re.test(a)&&Be.test(t)&&(r=o.width,i=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=r,o.minWidth=i,o.maxWidth=s)),void 0!==a?a+"":a}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ke.appendChild(c).appendChild(l);var e=r.getComputedStyle(l);n="1%"!==e.top,d=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),i=36===t(e.width),l.style.position="absolute",s=36===l.offsetWidth||"absolute",ke.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var n,i,s,a,d,c=o.createElement("div"),l=o.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,w.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),d},scrollboxSize:function(){return e(),s}}))}();var Ke=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"},Ve=["Webkit","Moz","ms"],Ge=o.createElement("div").style;function Qe(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=function(e){if(e in Ge)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ve.length;n--;)if((e=Ve[n]+t)in Ge)return e}(e)||e),t}function Ze(e,t,n){var r=se.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,s){var a="width"===t?1:0,o=0,d=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(d+=w.css(e,n+ae[a],!0,i)),r?("content"===n&&(d-=w.css(e,"padding"+ae[a],!0,i)),"margin"!==n&&(d-=w.css(e,"border"+ae[a]+"Width",!0,i))):(d+=w.css(e,"padding"+ae[a],!0,i),"padding"!==n?d+=w.css(e,"border"+ae[a]+"Width",!0,i):o+=w.css(e,"border"+ae[a]+"Width",!0,i));return!r&&s>=0&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-d-o-.5))),d}function tt(e,t,n){var r=We(e),i=ze(e,t,r),s="border-box"===w.css(e,"boxSizing",!1,r),a=s;if(Re.test(i)){if(!n)return i;i="auto"}return a=a&&(v.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+et(e,t,n||(s?"border":"content"),a,r,i)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,d=V(t),c=Xe.test(t),l=e.style;if(c||(t=Qe(d)),o=w.cssHooks[t]||w.cssHooks[d],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:l[t];"string"===(a=void 0===n?"undefined":s(n))&&(i=se.exec(n))&&i[1]&&(n=ce(e,t,i),a="number"),null!=n&&n==n&&("number"===a&&(n+=i&&i[3]||(w.cssNumber[d]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,s,a,o=V(t);return Xe.test(t)||(t=Qe(o)),(a=w.cssHooks[t]||w.cssHooks[o])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=ze(e,t,r)),"normal"===i&&t in Je&&(i=Je[t]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Ke.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,r):de(e,Ye,function(){return tt(e,t,r)})},set:function(e,n,r){var i,s=We(e),a="border-box"===w.css(e,"boxSizing",!1,s),o=r&&et(e,t,r,a,s);return a&&v.scrollboxSize()===s.position&&(o-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-et(e,t,"border",!1,s)-.5)),o&&(i=se.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ze(0,n,o)}}}),w.cssHooks.marginLeft=Ue(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-de(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ae[r]+t]=s[r]||s[r-2]||s[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ze)}),w.fn.extend({css:function(e,t){return K(this,function(e,t,n){var r,i,s={},a=0;if(Array.isArray(t)){for(r=We(e),i=t.length;a<i;a++)s[t[a]]=w.css(e,t[a],!1,r);return s}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=nt,nt.prototype={constructor:nt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}},nt.prototype.init.prototype=nt.prototype,nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},nt.propHooks.scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=nt.prototype.init,w.fx.step={};var rt,it,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function ot(){it&&(!1===o.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ot):r.setTimeout(ot,w.fx.interval),w.fx.tick())}function dt(){return r.setTimeout(function(){rt=void 0}),rt=Date.now()}function ct(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ae[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),s=0,a=i.length;s<a;s++)if(r=i[s].call(n,t,e))return r}function ht(e,t,n){var r,i,s=0,a=ht.prefilters.length,o=w.Deferred().always(function(){delete d.elem}),d=function(){if(i)return!1;for(var t=rt||dt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),s=0,a=c.tweens.length;s<a;s++)c.tweens[s].run(r);return o.notifyWith(e,[c,r,n]),r<1&&a?n:(a||o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,r,i,s,a;for(n in e)if(i=t[r=V(n)],s=e[n],Array.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in s=a.expand(s),delete e[r],s)n in e||(e[n]=s[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);s<a;s++)if(r=ht.prefilters[s].call(c,e,l,c.opts))return y(r.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return w.map(l,lt,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(d,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,se.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(I);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ht.tweeners[n]=ht.tweeners[n]||[],ht.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,s,a,o,d,c,l,h="width"in t||"height"in t,u=this,f={},p=e.style,g=e.nodeType&&oe(e),_=Z.get(e,"fxshow");for(r in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],s=s||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!_||void 0===_[r])continue;g=!0}f[r]=_&&_[r]||w.style(e,r)}if((d=!w.isEmptyObject(t))||!w.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=_&&_.display)&&(c=Z.get(e,"display")),"none"===(l=w.css(e,"display"))&&(c?l=c:(ue([e],!0),c=e.style.display||c,l=w.css(e,"display"),ue([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===w.css(e,"float")&&(d||(u.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),d=!1,f)d||(_?"hidden"in _&&(g=_.hidden):_=Z.access(e,"fxshow",{display:c}),s&&(_.hidden=!g),g&&ue([e],!0),u.done(function(){for(r in g||ue([e]),Z.remove(e,"fxshow"),f)w.style(e,r,f[r])})),d=lt(g?_[r]:0,r,u),r in _||(_[r]=d.start,g&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"===(void 0===e?"undefined":s(e))?w.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),s=w.speed(t,n,r),a=function(){var t=ht(this,w.extend({},e),s);(i||Z.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=w.timers,a=Z.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&at.test(i)&&r(a[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Z.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,r,i)}}),w.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),rt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){it||(it=!0,ot())},w.fx.stop=function(){it=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,t){return e=w.fx&&w.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e=o.createElement("input"),t=o.createElement("select").appendChild(o.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=o.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var ut,ft=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return K(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?w.prop(e,t,n):(1===s&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&O(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(I);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ut={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ft[t]||w.find.attr;ft[t]=function(e,t,r){var i,s,a=t.toLowerCase();return r||(s=ft[a],ft[a]=i,i=null!=n(e,t,r)?a:null,ft[a]=s),i}});var pt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function _t(e){return(e.match(I)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}w.fn.extend({prop:function(e,t){return K(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,i,s,a,o,d=0;if(y(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=vt(e)).length)for(;n=this[d++];)if(i=mt(n),r=1===n.nodeType&&" "+_t(i)+" "){for(a=0;s=t[a++];)r.indexOf(" "+s+" ")<0&&(r+=s+" ");i!==(o=_t(r))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,r,i,s,a,o,d=0;if(y(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;n=this[d++];)if(i=mt(n),r=1===n.nodeType&&" "+_t(i)+" "){for(a=0;s=t[a++];)for(;r.indexOf(" "+s+" ")>-1;)r=r.replace(" "+s+" "," ");i!==(o=_t(r))&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":s(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,s,a;if(r)for(i=0,s=w(this),a=vt(e);t=a[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+_t(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(yt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:_t(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,s=e.selectedIndex,a="select-one"===e.type,o=a?null:[],d=a?s+1:i.length;for(r=s<0?d:a?s:0;r<d;r++)if(((n=i[r]).selected||r===s)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,s=w.makeArray(t),a=i.length;a--;)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},v.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in r;var xt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(e,t,n,i){var a,d,c,l,h,u,f,p,_=[n||o],m=g.call(e,"type")?e.type:e,v=g.call(e,"namespace")?e.namespace.split("."):[];if(d=p=c=n=n||o,3!==n.nodeType&&8!==n.nodeType&&!xt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),h=m.indexOf(":")<0&&"on"+m,(e=e[w.expando]?e:new w.Event(m,"object"===(void 0===e?"undefined":s(e))&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:w.makeArray(t,[e]),f=w.event.special[m]||{},i||!f.trigger||!1!==f.trigger.apply(n,t))){if(!i&&!f.noBubble&&!x(n)){for(l=f.delegateType||m,xt.test(l+m)||(d=d.parentNode);d;d=d.parentNode)_.push(d),c=d;c===(n.ownerDocument||o)&&_.push(c.defaultView||c.parentWindow||r)}for(a=0;(d=_[a++])&&!e.isPropagationStopped();)p=d,e.type=a>1?l:f.bindType||m,(u=(Z.get(d,"events")||{})[e.type]&&Z.get(d,"handle"))&&u.apply(d,t),(u=h&&d[h])&&u.apply&&G(d)&&(e.result=u.apply(d,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(_.pop(),t)||!G(n)||h&&y(n[m])&&!x(n)&&((c=n[h])&&(n[h]=null),w.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,bt),n[m](),e.isPropagationStopped()&&p.removeEventListener(m,bt),w.event.triggered=void 0,c&&(n[h]=c)),e.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),v.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Z.access(r,t);i||r.addEventListener(e,n,!0),Z.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Z.access(r,t)-1;i?Z.access(r,t,i):(r.removeEventListener(e,n,!0),Z.remove(r,t))}}});var jt=r.location,kt=Date.now(),wt=/\?/;w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t};var Ct=/\[\]$/,Tt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Et(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||Ct.test(e)?r(e,i):Et(e+"["+("object"===(void 0===i?"undefined":s(i))&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==k(t))r(e,t);else for(i in t)Et(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)Et(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&St.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}});var At=/%20/g,Ot=/#.*$/,Lt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,qt=/^\/\//,Mt={},Ht={},Ft="*/".concat("*"),It=o.createElement("a");function $t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(I)||[];if(y(n))for(;r=s[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Rt(e,t,n,r){var i={},s=e===Ht;function a(o){var d;return i[o]=!0,w.each(e[o]||[],function(e,o){var c=o(t,n,r);return"string"!=typeof c||s||i[c]?s?!(d=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),d}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Wt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}It.href=jt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,w.ajaxSettings),t):Wt(w.ajaxSettings,e)},ajaxPrefilter:$t(Mt),ajaxTransport:$t(Ht),ajax:function(e,t){"object"===(void 0===e?"undefined":s(e))&&(t=e,e=void 0),t=t||{};var n,i,a,d,c,l,h,u,f,p,g=w.ajaxSetup({},t),_=g.context||g,m=g.context&&(_.nodeType||_.jquery)?w(_):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),x=g.statusCode||{},b={},j={},k="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(h){if(!d)for(d={};t=Dt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?a:null},setRequestHeader:function(e,t){return null==h&&(e=j[e.toLowerCase()]=j[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==h&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),T(0,t),this}};if(v.promise(C),g.url=((e||g.url||jt.href)+"").replace(qt,jt.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(I)||[""],null==g.crossDomain){l=o.createElement("a");try{l.href=g.url,l.href=l.href,g.crossDomain=It.protocol+"//"+It.host!=l.protocol+"//"+l.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=w.param(g.data,g.traditional)),Rt(Mt,g,t,C),h)return C;for(f in(u=w.event&&g.global)&&0==w.active++&&w.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Pt.test(g.type),i=g.url.replace(Ot,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(At,"+")):(p=g.url.slice(i.length),g.data&&(g.processData||"string"==typeof g.data)&&(i+=(wt.test(i)?"&":"?")+g.data,delete g.data),!1===g.cache&&(i=i.replace(Lt,"$1"),p=(wt.test(i)?"&":"?")+"_="+kt+++p),g.url=i+p),g.ifModified&&(w.lastModified[i]&&C.setRequestHeader("If-Modified-Since",w.lastModified[i]),w.etag[i]&&C.setRequestHeader("If-None-Match",w.etag[i])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ft+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(f,g.headers[f]);if(g.beforeSend&&(!1===g.beforeSend.call(_,C,g)||h))return C.abort();if(k="abort",y.add(g.complete),C.done(g.success),C.fail(g.error),n=Rt(Ht,g,t,C)){if(C.readyState=1,u&&m.trigger("ajaxSend",[C,g]),h)return C;g.async&&g.timeout>0&&(c=r.setTimeout(function(){C.abort("timeout")},g.timeout));try{h=!1,n.send(b,T)}catch(e){if(h)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,s,o){var d,l,f,p,b,j=t;h||(h=!0,c&&r.clearTimeout(c),n=void 0,a=o||"",C.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(p=function(e,t,n){for(var r,i,s,a,o=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in o)if(o[i]&&o[i].test(r)){d.unshift(i);break}if(d[0]in n)s=d[0];else{for(i in n){if(!d[0]||e.converters[i+" "+d[0]]){s=i;break}a||(a=i)}s=s||a}if(s)return s!==d[0]&&d.unshift(s),n[s]}(g,C,s)),p=function(e,t,n,r){var i,s,a,o,d,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(s=l.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!d&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=s,s=l.shift())if("*"===s)s=d;else if("*"!==d&&d!==s){if(!(a=c[d+" "+s]||c["* "+s]))for(i in c)if((o=i.split(" "))[1]===s&&(a=c[d+" "+o[0]]||c["* "+o[0]])){!0===a?a=c[i]:!0!==c[i]&&(s=o[0],l.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+d+" to "+s}}}return{state:"success",data:t}}(g,p,C,d),d?(g.ifModified&&((b=C.getResponseHeader("Last-Modified"))&&(w.lastModified[i]=b),(b=C.getResponseHeader("etag"))&&(w.etag[i]=b)),204===e||"HEAD"===g.type?j="nocontent":304===e?j="notmodified":(j=p.state,l=p.data,d=!(f=p.error))):(f=j,!e&&j||(j="error",e<0&&(e=0))),C.status=e,C.statusText=(t||j)+"",d?v.resolveWith(_,[l,j,C]):v.rejectWith(_,[C,j,f]),C.statusCode(x),x=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[C,g,d?l:f]),y.fireWith(_,[C,j]),u&&(m.trigger("ajaxComplete",[C,g]),--w.active||w.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},zt=w.ajaxSettings.xhr();v.cors=!!zt&&"withCredentials"in zt,v.ajax=zt=!!zt,w.ajaxTransport(function(e){var t,n;if(v.cors||zt&&!e.crossDomain)return{send:function(i,s){var a,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)o[a]=e.xhrFields[a];for(a in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)o.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?s(0,"error"):s(o.status,o.statusText):s(Bt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}});var Ut,Kt=[],Xt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||w.expando+"_"+kt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,n){var i,s,a,o=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Xt,"$1"+i):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},e.dataTypes[0]="json",s=r[i],r[i]=function(){a=arguments},n.always(function(){void 0===s?w(r).removeProp(i):r[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(i)),a&&y(s)&&s(a[0]),a=s=void 0}),"script"}),v.createHTMLDocument=((Ut=o.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=o.implementation.createHTMLDocument("")).createElement("base")).href=o.location.href,t.head.appendChild(r)):t=o),i=L.exec(e),s=!n&&[],i?[t.createElement(i[1])]:(i=je([e],t,s),s&&s.length&&w(s).remove(),w.merge([],i.childNodes)));var r,i,s},w.fn.load=function(e,t,n){var r,i,a,o=this,d=e.indexOf(" ");return d>-1&&(r=_t(e.slice(d)),e=e.slice(0,d)),y(t)?(n=t,t=void 0):t&&"object"===(void 0===t?"undefined":s(t))&&(i="POST"),o.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,s,a,o,d,c=w.css(e,"position"),l=w(e),h={};"static"===c&&(e.style.position="relative"),o=l.offset(),s=w.css(e,"top"),d=w.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+d).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(s)||0,i=parseFloat(d)||0),y(t)&&(t=t.call(e,n,w.extend({},o))),null!=t.top&&(h.top=t.top-o.top+a),null!=t.left&&(h.left=t.left-o.left+i),"using"in t?t.using.call(e,h):l.css(h)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ke})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return K(this,function(e,r,i){var s;if(x(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===i)return s?s[t]:e[r];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=Ue(v.pixelPosition,function(e,n){if(n)return n=ze(e,t),Re.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,s){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(!0===i||!0===s?"margin":"border");return K(this,function(t,n,i){var s;return x(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?w.css(t,n,o):w.style(t,n,i,o)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=c.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(c.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=O,w.isFunction=y,w.isWindow=x,w.camelCase=V,w.type=k,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return w}.apply(t,[]))||(e.exports=n);var Yt=r.jQuery,Jt=r.$;return w.noConflict=function(e){return r.$===w&&(r.$=Jt),e&&r.jQuery===w&&(r.jQuery=Yt),w},i||(r.jQuery=r.$=w),w},"object"===s(e)&&"object"===s(e.exports)?e.exports=r.document?i(r,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(r)}).call(this,n(4)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(){var e=document.querySelectorAll("input[data-enable]");Array.from(e).reduce(function(e,t){var n=t.dataset.enable;return e.includes(n)||e.push(n),e},[]).forEach(function(e){return new i(e)})};var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.inputs=document.querySelectorAll('input[type="checkbox"][data-enable="'+t+'"]'),this.buttons=document.querySelectorAll('[data-enabler="'+t+'"]'),this.init()}return r(e,[{key:"init",value:function(){this.toggleButtons(),this.setupEvents()}},{key:"isChecked",value:function(){return Array.from(this.inputs).some(function(e){return e.checked})}},{key:"toggleButtons",value:function(){var e=!this.isChecked();this.buttons.forEach(function(t){t.disabled=e})}},{key:"setupEvents",value:function(){var e=this;this.inputs.forEach(function(t){return t.addEventListener("change",e.toggleButtons.bind(e))})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.dataset.nguiresize||(this.el=t,this.settings=Object.assign({},{connectWith:!1,minWidth:140},n),this.handle=document.createElement("div"),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.init())}return r(e,[{key:"init",value:function(){this.el.dataset.nguiresize=!0,this.settings.connectWith&&(this.connected=document.querySelector(this.settings.connectWith)),this.initialResize(),this.el.classList.add("ng-ui-resizable"),this.handle.classList.add("ng-ui-resizable-handle"),this.el.appendChild(this.handle),this.setupEvents()}},{key:"setupEvents",value:function(){var e=this;this.handle.addEventListener("mousedown",function(t){t.preventDefault(),document.getElementsByTagName("body")[0].classList.add("ng-ui-resizing"),window.addEventListener("mousemove",e.onMouseMove,!1),window.addEventListener("mouseup",e.onMouseUp,!1)})}},{key:"onMouseUp",value:function(){window.removeEventListener("mousemove",this.onMouseMove,!1),window.removeEventListener("mouseup",this.onMouseUp,!1);var e=document.getElementsByTagName("body")[0];e.classList.contains("ng-ui-resizing")&&(e.classList.remove("ng-ui-resizing"),window.sessionStorage.ngUiResize=this.el.offsetWidth)}},{key:"onMouseMove",value:function(e){this.resizeEl(e.pageX-this.el.offsetLeft)}},{key:"initialResize",value:function(){(window.sessionStorage.ngUiResize||this.el.offsetWidth)<this.settings.minWidth?this.resizeEl(this.settings.minWidth):window.sessionStorage.ngUiResize&&this.resizeEl(window.sessionStorage.ngUiResize)}},{key:"resizeEl",value:function(e){e<this.settings.minWidth||(Object.assign(this.el.style,{flex:"0 0 "+e+"px"}),this.settings.connectWith&&this.connected&&(this.connected.style.width=e+"px"))}}]),e}();t.default=i},function(e,t,n){"use strict";var r,i,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=[n(0)],void 0===(s="function"==typeof(r=function(e,t){
/*!
  * jsTree 3.3.5
  * http://jstree.com/
  *
  * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
  *
  * Licensed same as jquery - under the terms of the MIT License
  *   http://www.opensource.org/licenses/mit-license.php
  */
/*!
  * if using jslint please allow for the jQuery global and use following options:
  * jslint: loopfunc: true, browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
  */
if(!e.jstree){var n=0,r=!1,i=!1,s=!1,o=[],d=e("script:last").attr("src"),c=window.document;e.jstree={version:"3.3.5",defaults:{plugins:[]},plugins:{},path:d&&-1!==d.indexOf("/")?d.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,r){var i=new e.jstree.core(++n),s=r;return r=e.extend(!0,{},e.jstree.defaults,r),s&&s.plugins&&(r.plugins=s.plugins),e.each(r.plugins,function(e,t){"core"!==e&&(i=i.plugin(t,r[t]))}),e(t).data("jstree",i),i.init(t,r),i},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(c).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,r=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!r||!r.length)try{r=e(t)}catch(e){}if(!r||!r.length)try{r=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?n=r:e(".jstree").each(function(){var r=e(this).data("jstree");if(r&&r._model.data[t])return n=r,!1}),n},e.fn.jstree=function(n){var r="string"==typeof n,i=Array.prototype.slice.call(arguments,1),s=null;return!(!0===n&&!this.length)&&(this.each(function(){var a=e.jstree.reference(this),o=r&&a?a[n]:null;if(s=r&&o?o.apply(a,i):null,a||r||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(a&&!r||!0===n)&&(s=a||!1),null!==s&&s!==t)return!1}),null!==s&&s!==t?s:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()});else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=c.createElement("LI");return n.setAttribute("role","treeitem"),(e=c.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=c.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=c.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),t=t.sort().join("-").toLowerCase();var n,r,i=this.settings.core.keyboard;for(n in i)if(i.hasOwnProperty(n)&&("-"!==(r=n)&&"+"!==r&&(r=(r=r.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),r===t))return i[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,r=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(c.selection&&c.selection.empty)c.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),r=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==c.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,r=[];for(t=0,n=this._data.core.selected.length;t<n;t++)r=r.concat(this._model.data[this._data.core.selected[t]].parents);for(r=e.vakata.array_unique(r),t=0,n=r.length;t<n;t++)this.open_node(r[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var i=String.fromCharCode(r.which).toLowerCase(),s=this.element.find(".jstree-anchor").filter(":visible"),a=s.index(c.activeElement)||0,o=!1;if((t+=i).length>1){if(s.slice(a).each(e.proxy(function(n,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).focus(),o=!0,!1},this)),o)return;if(s.slice(0,a).each(e.proxy(function(n,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).focus(),o=!0,!1},this)),o)return}if(new RegExp("^"+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(s.slice(a+1).each(e.proxy(function(t,n){if(e(n).text().toLowerCase().charAt(0)===i)return e(n).focus(),o=!0,!1},this)),o)return;if(s.slice(0,a+1).each(e.proxy(function(t,n){if(e(n).text().toLowerCase().charAt(0)===i)return e(n).focus(),o=!0,!1},this)),o)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-r>500&&!this._data.core.focused&&this.settings.core.restore_focus){r=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(c).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var r;t&&t.id&&(t=t.id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=e(t,this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=e(t,this.element)).length||!r.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,r){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var i,s,a=[];for(a.push(r?t.id:t.text),i=0,s=t.parents.length;i<s;i++)a.push(r?t.parents[i]:this.get_text(t.parents[i]));return a=a.reverse().slice(1),n?a.join(n):a},get_next_dom:function(t,n){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return e(r)}r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return null!==r?e(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);if(null!==r){for(t=e(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(r=t[0].parentNode.parentNode)||!r.className||-1===r.className.indexOf("jstree-node"))&&e(r)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var r,i,s,a,o;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,s=0,a=t.parents.length;s<a;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,function(n){return-1===e.inArray(n,t.children_d)});for(r=0,i=t.children_d.length;r<i;r++)this._model.data[t.children_d[r]].state.selected&&(o=!0),delete this._model.data[t.children_d[r]];o&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(n){return-1===e.inArray(n,t.children_d)})),t.children=[],t.children_d=[],o&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var r=this.get_node(t,!0),i=0,s=0,a=this._model.data,o=!1;for(i=0,s=t.children.length;i<s;i++)if(a[t.children[i]]&&!a[t.children[i]].state.hidden){o=!0;break}t.state.loaded&&r&&r.length&&(r.removeClass("jstree-closed jstree-open jstree-leaf"),o?"#"!==t.id&&r.addClass(t.state.opened?"jstree-open":"jstree-closed"):r.addClass("jstree-leaf")),r.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n,r){var i,s,a=!0,o=function(){this._load_nodes(e,t,!0)},d=this._model.data,c=[];for(i=0,s=e.length;i<s;i++)d[e[i]]&&(!d[e[i]].state.loaded&&!d[e[i]].state.failed||!n&&r)&&(this.is_loading(e[i])||this.load_node(e[i],o),a=!1);if(a){for(i=0,s=e.length;i<s;i++)d[e[i]]&&d[e[i]].state.loaded&&c.push(e[i]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,s=[],a=this._model.data,o=a[t.id].children_d;for(t.state&&!t.state.loaded&&s.push(t.id),r=0,i=o.length;r<i;r++)a[o[r]]&&a[o[r]].state&&!a[o[r]].state.loaded&&s.push(o[r]);s.length?this._load_nodes(s,function(){this.load_all(t,n)}):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var r,i=this.settings.core.data,s=function(){return 3!==this.nodeType&&8!==this.nodeType};return i?e.isFunction(i)?i.call(this,t,e.proxy(function(r){!1===r?n.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(s):r,function(e){n.call(this,e)})},this)):"object"===(void 0===i?"undefined":a(i))?i.url?(i=e.extend(!0,{},i),e.isFunction(i.url)&&(i.url=i.url.call(this,t)),e.isFunction(i.data)&&(i.data=i.data.call(this,t)),e.ajax(i).done(e.proxy(function(r,i,o){var d=o.getResponseHeader("Content-Type");return d&&-1!==d.indexOf("json")||"object"===(void 0===r?"undefined":a(r))?this._append_json_data(t,r,function(e){n.call(this,e)}):d&&-1!==d.indexOf("html")||"string"==typeof r?this._append_html_data(t,e(e.parseHTML(r)).filter(s),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:o})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(r=e.isArray(i)?e.extend(!0,[],i):e.isPlainObject(i)?e.extend(!0,{},i):i,t.id===e.jstree.root?this._append_json_data(t,r,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof i?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(i)).filter(s),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,r){(t=this.get_node(t)).children=[],t.children_d=[];var i,s,a,o=n.is("ul")?n.children():n,d=t.id,c=[],l=[],h=this._model.data,u=h[d],f=this._data.core.selected.length;for(o.each(e.proxy(function(t,n){(i=this._parse_model_from_html(e(n),d,u.parents.concat()))&&(c.push(i),l.push(i),h[i].children_d.length&&(l=l.concat(h[i].children_d)))},this)),u.children=c,u.children_d=l,s=0,a=u.parents.length;s<a;s++)h[u.parents[s]].children_d=h[u.parents[s]].children_d.concat(l);this.trigger("model",{nodes:l,parent:d}),d!==e.jstree.root?(this._node_changed(d),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,n,r,i){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&"string"==typeof(n=n.d)&&(n=JSON.parse(n)),e.isArray(n)||(n=[n]);var s=null,o={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},d=function(e,t){e.data&&(e=e.data);var n,r,i,s,o=e.dat,d=e.par,c=[],l=[],h=[],u=e.df,f=e.t_id,p=e.t_cnt,g=e.m,_=g[d],m=e.sel,v=function e(n,r,i){i=i?i.concat():[],r&&i.unshift(r);var s,o,d,c,l=n.id.toString(),f={id:l,text:n.text||"",icon:n.icon===t||n.icon,parent:r,parents:i,children:n.children||[],children_d:n.children_d||[],data:n.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in u)u.hasOwnProperty(s)&&(f.state[s]=u[s]);if(n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(f.icon=n.data.jstree.icon),f.icon!==t&&null!==f.icon&&""!==f.icon||(f.icon=!0),n&&n.data&&(f.data=n.data,n.data.jstree))for(s in n.data.jstree)n.data.jstree.hasOwnProperty(s)&&(f.state[s]=n.data.jstree[s]);if(n&&"object"===a(n.state))for(s in n.state)n.state.hasOwnProperty(s)&&(f.state[s]=n.state[s]);if(n&&"object"===a(n.li_attr))for(s in n.li_attr)n.li_attr.hasOwnProperty(s)&&(f.li_attr[s]=n.li_attr[s]);if(f.li_attr.id||(f.li_attr.id=l),n&&"object"===a(n.a_attr))for(s in n.a_attr)n.a_attr.hasOwnProperty(s)&&(f.a_attr[s]=n.a_attr[s]);for(n&&n.children&&!0===n.children&&(f.state.loaded=!1,f.children=[],f.children_d=[]),g[f.id]=f,s=0,o=f.children.length;s<o;s++)d=e(g[f.children[s]],f.id,i),c=g[d],f.children_d.push(d),c.children_d.length&&(f.children_d=f.children_d.concat(c.children_d));return delete n.data,delete n.children,g[f.id].original=n,f.state.selected&&h.push(f.id),f.id},y=function e(n,r,i){i=i?i.concat():[],r&&i.unshift(r);var s,o,d,c,l,_=!1;do{_="j"+f+"_"+ ++p}while(g[_]);for(s in l={id:!1,text:"string"==typeof n?n:"",icon:"object"!==(void 0===n?"undefined":a(n))||n.icon===t||n.icon,parent:r,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(s)&&(l.state[s]=u[s]);if(n&&n.id&&(l.id=n.id.toString()),n&&n.text&&(l.text=n.text),n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(l.icon=n.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),n&&n.data&&(l.data=n.data,n.data.jstree))for(s in n.data.jstree)n.data.jstree.hasOwnProperty(s)&&(l.state[s]=n.data.jstree[s]);if(n&&"object"===a(n.state))for(s in n.state)n.state.hasOwnProperty(s)&&(l.state[s]=n.state[s]);if(n&&"object"===a(n.li_attr))for(s in n.li_attr)n.li_attr.hasOwnProperty(s)&&(l.li_attr[s]=n.li_attr[s]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=_),l.li_attr.id||(l.li_attr.id=l.id),n&&"object"===a(n.a_attr))for(s in n.a_attr)n.a_attr.hasOwnProperty(s)&&(l.a_attr[s]=n.a_attr[s]);if(n&&n.children&&n.children.length){for(s=0,o=n.children.length;s<o;s++)d=e(n.children[s],l.id,i),c=g[d],l.children.push(d),c.children_d.length&&(l.children_d=l.children_d.concat(c.children_d));l.children_d=l.children_d.concat(l.children)}return n&&n.children&&!0===n.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete n.data,delete n.children,l.original=n,g[l.id]=l,l.state.selected&&h.push(l.id),l.id};if(o.length&&o[0].id!==t&&o[0].parent!==t){for(r=0,i=o.length;r<i;r++)o[r].children||(o[r].children=[]),o[r].state||(o[r].state={}),g[o[r].id.toString()]=o[r];for(r=0,i=o.length;r<i;r++)g[o[r].parent.toString()]?(g[o[r].parent.toString()].children.push(o[r].id.toString()),_.children_d.push(o[r].id.toString())):(this._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:o[r].id.toString(),parent:o[r].parent.toString()})},this.settings.core.error.call(this,this._data.core.last_error));for(r=0,i=_.children.length;r<i;r++)n=v(g[_.children[r]],d,_.parents.concat()),l.push(n),g[n].children_d.length&&(l=l.concat(g[n].children_d));for(r=0,i=_.parents.length;r<i;r++)g[_.parents[r]].children_d=g[_.parents[r]].children_d.concat(l);s={cnt:p,mod:g,sel:m,par:d,dpc:l,add:h}}else{for(r=0,i=o.length;r<i;r++)(n=y(o[r],d,_.parents.concat()))&&(c.push(n),l.push(n),g[n].children_d.length&&(l=l.concat(g[n].children_d)));for(_.children=c,_.children_d=l,r=0,i=_.parents.length;r<i;r++)g[_.parents[r]].children_d=g[_.parents[r]].children_d.concat(l);s={cnt:p,mod:g,sel:m,par:d,dpc:l,add:h}}if("undefined"!=typeof window&&void 0!==window.document)return s;postMessage(s)},c=function(t,n){if(null!==this.element){this._cnt=t.cnt;var i,s=this._model.data;for(i in s)s.hasOwnProperty(i)&&s[i].state&&s[i].state.loading&&t.mod[i]&&(t.mod[i].state.loading=!0);if(this._model.data=t.mod,n){var a,o=t.add,d=t.sel,c=this._data.core.selected.slice();if(s=this._model.data,d.length!==c.length||e.vakata.array_unique(d.concat(c)).length!==d.length){for(i=0,a=d.length;i<a;i++)-1===e.inArray(d[i],o)&&-1===e.inArray(d[i],c)&&(s[d[i]].state.selected=!1);for(i=0,a=c.length;i<a;i++)-1===e.inArray(c[i],d)&&(s[c[i]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+d.toString()],{type:"text/javascript"}))),!this._data.core.working||i?(this._data.core.working=!0,(s=new window.Worker(this._wrk)).onmessage=e.proxy(function(e){c.call(this,e.data,!0);try{s.terminate(),s=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),o.par?s.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,r,!0])}catch(e){c.call(this,d(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else c.call(this,d(o),!1)}},_parse_model_from_html:function(n,r,i){i=i?[].concat(i):[],r&&i.unshift(r);var s,a,o,d,c,l=this._model.data,h={id:!1,text:!1,icon:!0,parent:r,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in this._model.default_state)this._model.default_state.hasOwnProperty(o)&&(h.state[o]=this._model.default_state[o]);if(d=e.vakata.attributes(n,!0),e.each(d,function(t,n){if(!(n=e.trim(n)).length)return!0;h.li_attr[t]=n,"id"===t&&(h.id=n.toString())}),(d=n.children("a").first()).length&&(d=e.vakata.attributes(d,!0),e.each(d,function(t,n){(n=e.trim(n)).length&&(h.a_attr[t]=n)})),(d=n.children("a").first().length?n.children("a").first().clone():n.clone()).children("ins, i, ul").remove(),d=d.html(),d=e("<div />").html(d),h.text=this.settings.core.force_text?d.text():d.html(),d=n.data(),h.data=d?e.extend(!0,{},d):null,h.state.opened=n.hasClass("jstree-open"),h.state.selected=n.children("a").hasClass("jstree-clicked"),h.state.disabled=n.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(o in h.data.jstree)h.data.jstree.hasOwnProperty(o)&&(h.state[o]=h.data.jstree[o]);(d=n.children("a").children(".jstree-themeicon")).length&&(h.icon=!d.hasClass("jstree-themeicon-hidden")&&d.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),d=n.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(l[c]);return h.id=h.li_attr.id?h.li_attr.id.toString():c,d.length?(d.each(e.proxy(function(t,n){s=this._parse_model_from_html(e(n),h.id,i),a=this._model.data[s],h.children.push(s),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d))},this)),h.children_d=h.children_d.concat(h.children)):n.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),l[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,s,o,d,c=e.id.toString(),l=this._model.data,h=this._model.default_state,u={id:c,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(u.state[i]=h[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(u.icon=e.data.jstree.icon),u.icon!==t&&null!==u.icon&&""!==u.icon||(u.icon=!0),e&&e.data&&(u.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(u.state[i]=e.data.jstree[i]);if(e&&"object"===a(e.state))for(i in e.state)e.state.hasOwnProperty(i)&&(u.state[i]=e.state[i]);if(e&&"object"===a(e.li_attr))for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(u.li_attr[i]=e.li_attr[i]);if(u.li_attr.id||(u.li_attr.id=c),e&&"object"===a(e.a_attr))for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(u.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),l[u.id]=u,i=0,s=u.children.length;i<s;i++)o=this._parse_model_from_flat_json(l[u.children[i]],u.id,r),d=l[o],u.children_d.push(o),d.children_d.length&&(u.children_d=u.children_d.concat(d.children_d));return delete e.data,delete e.children,l[u.id].original=e,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,s,o,d,c,l=!1,h=this._model.data,u=this._model.default_state;do{l="j"+this._id+"_"+ ++this._cnt}while(h[l]);for(i in c={id:!1,text:"string"==typeof e?e:"",icon:"object"!==(void 0===e?"undefined":a(e))||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(i)&&(c.state[i]=u[i]);if(e&&e.id&&(c.id=e.id.toString()),e&&e.text&&(c.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(c.state[i]=e.data.jstree[i]);if(e&&"object"===a(e.state))for(i in e.state)e.state.hasOwnProperty(i)&&(c.state[i]=e.state[i]);if(e&&"object"===a(e.li_attr))for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(c.li_attr[i]=e.li_attr[i]);if(c.li_attr.id&&!c.id&&(c.id=c.li_attr.id.toString()),c.id||(c.id=l),c.li_attr.id||(c.li_attr.id=c.id),e&&"object"===a(e.a_attr))for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(c.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,s=e.children.length;i<s;i++)o=this._parse_model_from_json(e.children[i],c.id,r),d=h[o],c.children.push(o),d.children_d.length&&(c.children_d=c.children_d.concat(d.children_d));c.children_d=c.children_d.concat(c.children)}return e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),delete e.data,delete e.children,c.original=e,h[c.id]=c,c.state.selected&&this._data.core.selected.push(c.id),c.id},_redraw:function(){var t,n,r,i=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),s=c.createElement("UL"),a=this._data.core.focused;for(n=0,r=i.length;n<r;n++)(t=this.redraw_node(i[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&s.appendChild(t);this._model.force_full_redraw&&(s.className=this.get_container_ul()[0].className,s.setAttribute("role","group"),this.element.empty().append(s)),null!==a&&((t=this.get_node(a,!0))&&t.length&&t.children(".jstree-anchor")[0]!==c.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:i})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),r=!1,i=!1,s=!1,a=c;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for((s=a.createElement("UL")).setAttribute("role","group"),s.className="jstree-children",r=0,i=n.children.length;r<i;r++)s.appendChild(this.redraw_node(n.children[r],!0,!0));t.appendChild(s)}},redraw_node:function(t,n,r,i){var s=this.get_node(t),a=!1,o=!1,d=!1,l=!1,h=!1,u=!1,f="",p=c,g=this._model.data,_=!1,m=null,v=0,y=0,x=!1,b=!1;if(!s)return!1;if(s.id===e.jstree.root)return this.redraw(!0);if(n=n||0===s.children.length,t=c.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(s.id[0])?"\\3"+s.id[0]+" "+s.id.substr(1).replace(e.jstree.idregex,"\\$&"):s.id.replace(e.jstree.idregex,"\\$&"))):c.getElementById(s.id))t=e(t),r||((a=t.parent().parent()[0])===this.element[0]&&(a=null),o=t.index()),n||!s.children.length||t.children(".jstree-children").length||(n=!0),n||(d=t.children(".jstree-children")[0]),_=t.children(".jstree-anchor")[0]===c.activeElement,t.remove();else if(n=!0,!r){if(!(null===(a=s.parent!==e.jstree.root?e("#"+s.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||a&&g[s.parent].state.opened))return!1;o=e.inArray(s.id,null===a?g[e.jstree.root].children:g[s.parent].children)}for(l in t=this._data.core.node.cloneNode(!0),f="jstree-node ",s.li_attr)if(s.li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"!==l?t.setAttribute(l,s.li_attr[l]):f+=s.li_attr[l]}for(s.a_attr.id||(s.a_attr.id=s.id+"_anchor"),t.setAttribute("aria-selected",!!s.state.selected),t.setAttribute("aria-level",s.parents.length),t.setAttribute("aria-labelledby",s.a_attr.id),s.state.disabled&&t.setAttribute("aria-disabled",!0),l=0,h=s.children.length;l<h;l++)if(!g[s.children[l]].state.hidden){x=!0;break}if(null!==s.parent&&g[s.parent]&&!s.state.hidden&&(l=e.inArray(s.id,g[s.parent].children),b=s.id,-1!==l))for(l++,h=g[s.parent].children.length;l<h&&(g[g[s.parent].children[l]].state.hidden||(b=g[s.parent].children[l]),b===s.id);l++);for(h in s.state.hidden&&(f+=" jstree-hidden"),s.state.loading&&(f+=" jstree-loading"),s.state.loaded&&!x?f+=" jstree-leaf":(f+=s.state.opened&&s.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",s.state.opened&&s.state.loaded)),b===s.id&&(f+=" jstree-last"),t.id=s.id,t.className=f,f=(s.state.selected?" jstree-clicked":"")+(s.state.disabled?" jstree-disabled":""),s.a_attr)if(s.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===s.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,s.a_attr[h]):f+=" "+s.a_attr[h]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(s.icon&&!0!==s.icon||!1===s.icon)&&(!1===s.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===s.icon.indexOf("/")&&-1===s.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+s.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+s.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(s.text)):t.childNodes[1].innerHTML+=s.text,n&&s.children.length&&(s.state.opened||i)&&s.state.loaded){for((u=p.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",l=0,h=s.children.length;l<h;l++)u.appendChild(this.redraw_node(s.children[l],n,!0));t.appendChild(u)}if(d&&t.appendChild(d),!r){for(a||(a=this.element[0]),l=0,h=a.childNodes.length;l<h;l++)if(a.childNodes[l]&&a.childNodes[l].className&&-1!==a.childNodes[l].className.indexOf("jstree-children")){m=a.childNodes[l];break}m||((m=p.createElement("UL")).setAttribute("role","group"),m.className="jstree-children",a.appendChild(m)),o<(a=m).childNodes.length?a.insertBefore(t,a.childNodes[o]):a.appendChild(t),_&&(v=this.element[0].scrollTop,y=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=y)}return s.state.opened&&!s.state.loaded&&(s.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(s.id,!1,0)},this),0)),t},open_node:function(n,r,i){var s,a,o,d;if(e.isArray(n)){for(n=n.slice(),s=0,a=n.length;s<a;s++)this.open_node(n[s],r,i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(i=i===t?this.settings.core.animation:i,this.is_closed(n)?this.is_loaded(n)?(o=this.get_node(n,!0),d=this,o.length&&(i&&o.children(".jstree-children").length&&o.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(o.children(".jstree-children")[0])&&this.draw_children(n),i?(this.trigger("before_open",{node:n}),o.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(i,function(){this.style.display="",d.element&&d.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),o[0].className=o[0].className.replace("jstree-closed","jstree-open"),o[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,r&&r.call(this,n,!0),o.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),i&&o.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy(function(){this.open_node(n,r,i)},this),500):void this.load_node(n,function(e,t){return t?this.open_node(e,r,i):!!r&&r.call(this,e,!1)}):(r&&r.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,r,i=t.parents;for(n=0,r=i.length;n<r;n+=1)n!==e.jstree.root&&this.open_node(i[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,r){var i,s,a,o;if(e.isArray(n)){for(n=n.slice(),i=0,s=n.length;i<s;i++)this.close_node(n[i],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&!this.is_closed(n)&&(r=r===t?this.settings.core.animation:r,a=this,o=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(o.length?r?o.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="",o.children(".jstree-children").remove(),a.element&&a.trigger("after_close",{node:n})}):(o[0].className=o[0].className.replace("jstree-open","jstree-closed"),o.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n})))},toggle_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,r){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,s,a,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!o.length){for(i=0,s=t.children_d.length;i<s;i++)this.is_closed(this._model.data[t.children_d[i]])&&(this._model.data[t.children_d[i]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||o,a=this,(o=this.is_closed(t)?o.find(".jstree-closed").addBack():o.find(".jstree-closed")).each(function(){a.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,r)},n||0)}),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),a=this;for(s.length&&(s=this.is_open(t)?s.find(".jstree-open").addBack():s.find(".jstree-open"),e(s.get().reverse()).each(function(){a.close_node(this,n||0)})),r=0,i=t.children_d.length;r<i;r++)this._model.data[t.children_d[r]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.enable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.disable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.hide_node(t[r],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.show_node(t[r],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&!r[n].state.hidden&&(r[n].state.hidden=!0,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:i}),i},show_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&r[n].state.hidden&&(r[n].state.hidden=!1,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:i}),i},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"===(void 0===n?"undefined":a(n))||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var r,i,s=this.get_node(e).id,o=this._data.core.last_clicked.id,d=this.get_node(this._data.core.last_clicked.parent).children,c=!1;for(r=0,i=d.length;r<i;r+=1)d[r]===s&&(c=!c),d[r]===o&&(c=!c),this.is_disabled(d[r])||!c&&d[r]!==s&&d[r]!==o?this.deselect_node(d[r],!0,n):this.is_hidden(d[r])||this.select_node(d[r],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,n,r,i){var s,a,o;if(e.isArray(t)){for(t=t.slice(),a=0,o=t.length;a<o;a++)this.select_node(t[a],n,r,i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(s=this._open_to(t)),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:i}))},deselect_node:function(t,n,r){var i,s,a;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.deselect_node(t[i],n,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))},select_all:function(t){var n,r,i=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,r=this._data.core.selected.length;n<r;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:i})},deselect_all:function(e){var t,n,r=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:r}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:r})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,r,i,s,a=this.get_selected(!0),o={};for(n=0,r=a.length;n<r;n++)o[a[n].id]=a[n];for(n=0,r=a.length;n<r;n++)for(i=0,s=a[n].children_d.length;i<s;i++)o[a[n].children_d[i]]&&delete o[a[n].children_d[i]];for(n in a=[],o)o.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var n,r,i=this.get_selected(!0),s=[];for(n=0,r=i.length;n<r;n++)i[n].children.length||s.push(i[n].id);return t?e.map(s,e.proxy(function(e){return this.get_node(e)},this)):s},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},
/*!
     'themes' : {
     	'name' : this.get_theme(),
     	'icons' : this._data.core.themes.icons,
     	'dots' : this._data.core.themes.dots
     },
     */
selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,r){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var i,s;if(n.core.loaded)return this.settings.core.loaded_state&&e.isArray(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,function(e){delete n.core.loaded,this.set_state(n,r)}):(delete n.core.loaded,this.set_state(n,r)),!1;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,r)}):(delete n.core.open,this.set_state(n,r)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,r),!1;if(n.core.selected)return i=this,n.core.initial_selection!==t&&n.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(n.core.selected,function(e,t){i.select_node(t,!1,!0)})),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,r),!1;for(s in n)n.hasOwnProperty(s)&&"core"!==s&&-1===e.inArray(s,this.settings.plugins)&&delete n[s];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,r),!1}return!e.isEmptyObject(n)||(n=null,r&&r.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,n){n&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],r=[],i=this._data.core.selected.concat([]);r.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){r.push(this.id),n.push(this.id)}),this._load_nodes(r,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(i),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var r,i,s=this._model.data,a=t.id;for(n=n.toString(),s[t.parent].children[e.inArray(t.id,s[t.parent].children)]=n,r=0,i=t.parents.length;r<i;r++)s[t.parents[r]].children_d[e.inArray(t.id,s[t.parents[r]].children_d)]=n;for(r=0,i=t.children.length;r<i;r++)s[t.children[r]].parent=n;for(r=0,i=t.children_d.length;r<i;r++)s[t.children_d[r]].parents[e.inArray(t.id,s[t.children_d[r]].parents)]=n;return-1!==(r=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[r]=n),(r=this.get_node(t.id,!0))&&(r.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete s[t.id],t.id=n,t.li_attr.id=n,s[n]=t,this.trigger("set_id",{node:t,new:t.id,old:a}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.set_text(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root||(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),0))},get_json:function(t,n,r){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!r&&(r=[]);var i,s,a={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(n&&n.flat?a.parent=t.parent:a.children=[],n&&n.no_state)delete a.state;else for(i in t.state)t.state.hasOwnProperty(i)&&(a.state[i]=t.state[i]);if(n&&n.no_li_attr&&delete a.li_attr,n&&n.no_a_attr&&delete a.a_attr,n&&n.no_id&&(delete a.id,a.li_attr&&a.li_attr.id&&delete a.li_attr.id,a.a_attr&&a.a_attr.id&&delete a.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&r.push(a),!n||!n.no_children)for(i=0,s=t.children.length;i<s;i++)n&&n.flat?this.get_json(t.children[i],n,r):a.children.push(this.get_json(t.children[i],n));return n&&n.flat?r:t.id===e.jstree.root?a.children:a},create_node:function(n,r,i,s,a){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(!(i=i===t?"last":i).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,r,i,s,!0)});var o,d,c,l;switch(r||(r={text:this.get_string("New node")}),(r="string"==typeof r?{text:r}:e.extend(!0,{},r)).text===t&&(r.text=this.get_string("New node")),n.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":o=this.get_node(n.parent),i=e.inArray(n.id,o.children),n=o;break;case"after":o=this.get_node(n.parent),i=e.inArray(n.id,o.children)+1,n=o;break;case"inside":case"first":i=0;break;case"last":i=n.children.length;break;default:i||(i=0)}if(i>n.children.length&&(i=n.children.length),r.id||(r.id=!0),!this.check("create_node",r,n,i))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===r.id&&delete r.id,!(r=this._parse_model_from_json(r,n.id,n.parents.concat())))return!1;for(o=this.get_node(r),(d=[]).push(r),d=d.concat(o.children_d),this.trigger("model",{nodes:d,parent:n.id}),n.children_d=n.children_d.concat(d),c=0,l=n.parents.length;c<l;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(d);for(r=o,o=[],c=0,l=n.children.length;c<l;c++)o[c>=i?c+1:c]=n.children[c];return o[i]=r.id,n.children=o,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(r),parent:n.id,position:i}),s&&s.call(this,this.get_node(r)),r.id},rename_node:function(t,n){var r,i,s;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.rename_node(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root||(s=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:s}),0):(this.settings.core.error.call(this,this._data.core.last_error),1)))},delete_node:function(t){var n,r,i,s,a,o,d,c,l,h,u,f;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(i=this.get_node(t.parent),s=e.inArray(t.id,i.children),h=!1,!this.check("delete_node",t,i,s))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==s&&(i.children=e.vakata.array_remove(i.children,s)),(a=t.children_d.concat([])).push(t.id),o=0,d=t.parents.length;o<d;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(t){return-1===e.inArray(t,a)});for(c=0,l=a.length;c<l;c++)if(this._model.data[a[c]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,a)})),this.trigger("delete_node",{node:t,parent:i.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:i.id}),c=0,l=a.length;c<l;c++)delete this._model.data[a[c]];return-1!==e.inArray(this._data.core.focused,a)&&(this._data.core.focused=null,u=this.element[0].scrollTop,f=this.element[0].scrollLeft,i.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(i,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=f),this.redraw_node(i,!0),!0},check:function(t,n,r,i,s){n=n&&n.id?n:this.get_node(n),r=r&&r.id?r:this.get_node(r);var a=t.match(/^move_node|copy_node|create_node$/i)?r:n,o=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||s&&s.is_multi||n.id!==r.id&&("move_node"!==t||e.inArray(n.id,r.children)!==i)&&-1===e.inArray(r.id,n.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(!1===a.functions[t]||!0===a.functions[t])?(!1===a.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),a.functions[t]):!(!1===o||e.isFunction(o)&&!1===o.call(this,t,n,r,i,s)||o&&!1===o[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,r,i,s,a,o,d){var c,l,h,u,f,p,g,_,m,v,y,x,b,j;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(n,r,i,s,!0,!1,d)});if(e.isArray(n)){if(1!==n.length){for(c=0,l=n.length;c<l;c++)(m=this.move_node(n[c],r,i,s,a,!1,d))&&(r=m,i="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(h=(n.parent||e.jstree.root).toString(),f=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,p=d||(this._model.data[n.id]?this:e.jstree.reference(n.id)),g=!p||!p._id||this._id!==p._id,u=p&&p._id&&h&&p._model.data[h]&&p._model.data[h].children?e.inArray(n.id,p._model.data[h].children):-1,p&&p._id&&(n=p._model.data[n.id]),g)return!!(m=this.copy_node(n,r,i,s,a,!1,d))&&(p&&p.delete_node(n),m);switch(r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,f.children);break;case"after":i=e.inArray(r.id,f.children)+1;break;case"inside":case"first":i=0;break;case"last":i=f.children.length;break;default:i||(i=0)}if(i>f.children.length&&(i=f.children.length),!this.check("move_node",n,f,i,{core:!0,origin:d,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(_=f.children.concat(),-1!==(m=e.inArray(n.id,_))&&(_=e.vakata.array_remove(_,m),i>m&&i--),m=[],v=0,y=_.length;v<y;v++)m[v>=i?v+1:v]=_[v];m[i]=n.id,f.children=m,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for((m=n.children_d.concat()).push(n.id),v=0,y=n.parents.length;v<y;v++){for(_=[],j=p._model.data[n.parents[v]].children_d,x=0,b=j.length;x<b;x++)-1===e.inArray(j[x],m)&&_.push(j[x]);p._model.data[n.parents[v]].children_d=_}for(p._model.data[h].children=e.vakata.array_remove_item(p._model.data[h].children,n.id),v=0,y=f.parents.length;v<y;v++)this._model.data[f.parents[v]].children_d=this._model.data[f.parents[v]].children_d.concat(m);for(_=[],v=0,y=f.children.length;v<y;v++)_[v>=i?v+1:v]=f.children[v];for(_[i]=n.id,f.children=_,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,(m=f.parents.concat()).unshift(f.id),j=n.parents.length,n.parents=m,m=m.concat(),v=0,y=n.children_d.length;v<y;v++)this._model.data[n.children_d[v]].parents=this._model.data[n.children_d[v]].parents.slice(0,-1*j),Array.prototype.push.apply(this._model.data[n.children_d[v]].parents,m);h!==e.jstree.root&&f.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(f.id)),o||this.redraw()}return s&&s.call(this,n,f,i),this.trigger("move_node",{node:n,parent:f.id,position:i,old_parent:h,old_position:u,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,r,i,s,a,o,d){var c,l,h,u,f,p,g,_,m,v;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(n,r,i,s,!0,!1,d)});if(e.isArray(n)){if(1!==n.length){for(c=0,l=n.length;c<l;c++)(u=this.copy_node(n[c],r,i,s,a,!0,d))&&(r=u,i="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(_=(n.parent||e.jstree.root).toString(),m=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,!(v=d||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!v._id||(this._id,v._id),v&&v._id&&(n=v._model.data[n.id]),r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,m.children);break;case"after":i=e.inArray(r.id,m.children)+1;break;case"inside":case"first":i=0;break;case"last":i=m.children.length;break;default:i||(i=0)}if(i>m.children.length&&(i=m.children.length),!this.check("copy_node",n,m,i,{core:!0,origin:d,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=v?v.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,m.id,m.parents.concat())))return!1;for(u=this.get_node(g),n&&n.state&&!1===n.state.loaded&&(u.state.loaded=!1),(h=[]).push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:m.id}),f=0,p=m.parents.length;f<p;f++)this._model.data[m.parents[f]].children_d=this._model.data[m.parents[f]].children_d.concat(h);for(h=[],f=0,p=m.children.length;f<p;f++)h[f>=i?f+1:f]=m.children[f];return h[i]=u.id,m.children=h,m.children_d.push(u.id),m.children_d=m.children_d.concat(u.children_d),m.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(m.id),o||this.redraw(m.id===e.jstree.root),s&&s.call(this,u,m,i),this.trigger("copy_node",{node:u,original:n,parent:m.id,position:i,old_parent:_,old_position:v&&v._id&&_&&v._model.data[_]&&v._model.data[_].children?e.inArray(n.id,v._model.data[_].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,a,o,d=[];for(a=0,o=t.length;a<o;a++)(n=this.get_node(t[a]))&&n.id&&n.id!==e.jstree.root&&d.push(n);if(!d.length)return!1;r=d,s=this,i="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,a,o,d=[];for(a=0,o=t.length;a<o;a++)(n=this.get_node(t[a]))&&n.id&&n.id!==e.jstree.root&&d.push(n);if(!d.length)return!1;r=d,s=this,i="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:i,node:r,inst:s}},can_paste:function(){return!1!==i&&!1!==r},paste:function(e,t){if(!((e=this.get_node(e))&&i&&i.match(/^(copy_node|move_node)$/)&&r))return!1;this[i](r,e,t,!1,!1,!1,s)&&this.trigger("paste",{parent:e.id,node:r,mode:i}),r=!1,i=!1,s=!1},clear_buffer:function(){r=!1,i=!1,s=!1,this.trigger("clear_buffer")},edit:function(t,n,r){var i,s,a,o,d,l,h,u,f,p=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(f=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),f.text=n,i=this._data.core.rtl,s=this.element.width(),this._data.core.focused=f.id,a=t.children(".jstree-anchor").focus(),o=e("<span>"),
/*!
   oi = obj.children("i:visible"),
   ai = a.children("i:visible"),
   w1 = oi.width() * oi.length,
   w2 = ai.width() * ai.length,
   */
d=n,l=e("<div />",{css:{position:"absolute",top:"-200px",left:i?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),h=e("<input />",{value:d,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(n){n.stopImmediatePropagation(),n.preventDefault();var i,s=o.children(".jstree-rename-input"),c=s.val(),u=this.settings.core.force_text;""===c&&(c=d),l.remove(),o.replaceWith(a),o.remove(),d=u?d:e("<div></div>").append(e.parseHTML(d)).html(),this.set_text(t,d),(i=!!this.rename_node(t,u?e("<div></div>").text(c).text():e("<div></div>").append(e.parseHTML(c)).html()))||this.set_text(t,d),this._data.core.focused=f.id,setTimeout(e.proxy(function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())},this),0),r&&r.call(this,f,i,p),h=null},this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=d),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(l.text("pW"+this.value).width(),s))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""},o.attr("class",a.attr("class")).append(a.contents().clone()).append(h),a.replaceWith(o),l.css(u),h.css(u).width(Math.min(l.text("pW"+h[0].value).width(),s))[0].select(),void e(c).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){h&&t.target!==h&&e(h).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),n=r+"/"+t+"/style.css"}n&&-1===e.inArray(n,o)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),o.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,r){var i,s,a,o;if(e.isArray(n)){for(n=n.slice(),i=0,s=n.length;i<s;i++)this.set_icon(n[i],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root||(o=n.icon,n.icon=!0===r||null===r||r===t||""===r||r,a=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===r?(a.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===r||null===r||r===t||""===r?(a.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),!1===o&&this.show_icon(n)):-1===r.indexOf("/")&&-1===r.indexOf(".")?(a.removeClass(o).css("background",""),a.addClass(r+" jstree-themeicon-custom").attr("rel",r),!1===o&&this.show_icon(n)):(a.removeClass(o).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),!1===o&&this.show_icon(n)),0))},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root||(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),0))},show_icon:function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root||(i=this.get_node(t,!0),t.icon=!i.length||i.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),i.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),0))}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var r=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,i){-1===e.inArray(i.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==i.value&&""!==e.trim(i.value)&&(n?r[i.name]=i.value:r.push(i.name))}),r},e.vakata.array_unique=function(e){var n,r,i=[],s={};for(n=0,r=e.length;n<r;n++)s[e[n]]===t&&(i.push(e[n]),s[e[n]]=!0);return i},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var r=e.inArray(n,t);return-1!==r?e.vakata.array_remove(t,r):t},e.vakata.array_filter=function(e,t,n,r,i){if(e.filter)return e.filter(t,n);for(i in r=[],e)~~i+""==i+""&&i>=0&&t.call(n,e[i],+i,e)&&r.push(e[i]);return r},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,r){var i,s;if(r||(r={}),"changed"===e.replace(".jstree","")){r.changed={selected:[],deselected:[]};var a={};for(i=0,s=n.length;i<s;i++)a[n[i]]=1;for(i=0,s=r.selected.length;i<s;i++)a[r.selected[i]]?a[r.selected[i]]=2:r.changed.selected.push(r.selected[i]);for(i=0,s=n.length;i<s;i++)1===a[n[i]]&&r.changed.deselected.push(n[i]);n=r.selected.slice()}t.trigger.call(this,e,r)},this.refresh=function(e,r){return n=[],t.refresh.apply(this,arguments)}};var l,h,u=c.createElement("I");u.className="jstree-icon jstree-checkbox",u.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,r){this.bind=function(){r.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,r,i=this._model.data,s=(i[t.parent],t.nodes);for(n=0,r=s.length;n<r;n++)i[s[n]].state.checked=i[s[n]].state.checked||i[s[n]].original&&i[s[n]].original.state&&i[s[n]].original.state.checked,i[s[n]].state.checked&&this._data.checkbox.selected.push(s[n])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",e.proxy(function(t,n){var r,i,s,a,o,d,c=this._model.data,l=c[n.parent],h=n.nodes,u=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(l.state[p?"selected":"checked"]){for(i=0,s=h.length;i<s;i++)c[h[i]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(h)}else for(i=0,s=h.length;i<s;i++)if(c[h[i]].state[p?"selected":"checked"]){for(a=0,o=c[h[i]].children_d.length;a<o;a++)c[c[h[i]].children_d[a]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[h[i]].children_d)}if(-1!==f.indexOf("up")){for(i=0,s=l.children_d.length;i<s;i++)c[l.children_d[i]].children.length||u.push(c[l.children_d[i]].parent);for(u=e.vakata.array_unique(u),a=0,o=u.length;a<o;a++)for(l=c[u[a]];l&&l.id!==e.jstree.root;){for(r=0,i=0,s=l.children.length;i<s;i++)r+=c[l.children[i]].state[p?"selected":"checked"];if(r!==s)break;l.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(l.id),(d=this.get_node(l,!0))&&d.length&&d.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var r,i,s,a,o=n.node,d=this._model.data,c=this.get_node(o.parent),l=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,u={},f=this._data[h?"core":"checkbox"].selected;for(r=0,i=f.length;r<i;r++)u[f[r]]=!0;if(-1!==l.indexOf("down")){var p=this._cascade_new_checked_state(o.id,!0),g=o.children_d.concat(o.id);for(r=0,i=g.length;r<i;r++)p.indexOf(g[r])>-1?u[g[r]]=!0:delete u[g[r]]}if(-1!==l.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(s=0,r=0,i=c.children.length;r<i;r++)s+=d[c.children[r]].state[h?"selected":"checked"];if(s!==i)break;c.state[h?"selected":"checked"]=!0,u[c.id]=!0,(a=this.get_node(c,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}for(r in f=[],u)u.hasOwnProperty(r)&&f.push(r);this._data[h?"core":"checkbox"].selected=f},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,n){var r,i,s,a=this.get_node(e.jstree.root),o=this._model.data;for(r=0,i=a.children_d.length;r<i;r++)(s=o[a.children_d[r]])&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(e,t){var n,r,i,s=t.node,a=(this.get_node(s,!0),this.settings.checkbox.cascade),o=this.settings.checkbox.tie_selection,d=this._data[o?"core":"checkbox"].selected,c=s.children_d.concat(s.id);if(-1!==a.indexOf("down")){var l=this._cascade_new_checked_state(s.id,!1);d=d.filter(function(e){return-1===c.indexOf(e)||l.indexOf(e)>-1})}if(-1!==a.indexOf("up")&&-1===d.indexOf(s.id)){for(n=0,r=s.parents.length;n<r;n++)(i=this._model.data[s.parents[n]]).state[o?"selected":"checked"]=!1,i&&i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=!1),(i=this.get_node(s.parents[n],!0))&&i.length&&i.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked");d=d.filter(function(e){return-1===s.parents.indexOf(e)})}this._data[o?"core":"checkbox"].selected=d},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,n){for(var r,i,s,a,o=this.get_node(n.parent),d=this._model.data,c=this.settings.checkbox.tie_selection;o&&o.id!==e.jstree.root&&!o.state[c?"selected":"checked"];){for(s=0,r=0,i=o.children.length;r<i;r++)s+=d[o.children[r]].state[c?"selected":"checked"];if(!(i>0&&s===i))break;o.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(o.id),(a=this.get_node(o,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var r,i,s,a,o,d=n.is_multi,c=n.old_parent,l=this.get_node(n.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!d)for(r=this.get_node(c);r&&r.id!==e.jstree.root&&!r.state[u?"selected":"checked"];){for(i=0,s=0,a=r.children.length;s<a;s++)i+=h[r.children[s]].state[u?"selected":"checked"];if(!(a>0&&i===a))break;r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(o=this.get_node(r,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),r=this.get_node(r.parent)}for(r=l;r&&r.id!==e.jstree.root;){for(i=0,s=0,a=r.children.length;s<a;s++)i+=h[r.children[s]].state[u?"selected":"checked"];if(i===a)r.state[u?"selected":"checked"]||(r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(o=this.get_node(r,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!r.state[u?"selected":"checked"])break;r.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,r.id),(o=this.get_node(r,!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}},this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var r,i,s,a,o={},d=this._model.data,c=this.settings.checkbox.tie_selection,l=this._data[c?"core":"checkbox"].selected,h=[],u=this,f=[];for(r=0,i=l.length;r<i;r++)if(d[l[r]]&&d[l[r]].parents)for(s=0,a=d[l[r]].parents.length;s<a&&o[d[l[r]].parents[s]]===t;s++)d[l[r]].parents[s]!==e.jstree.root&&(o[d[l[r]].parents[s]]=!0,h.push(d[l[r]].parents[s]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var n,c=u.get_node(this);if(c)if(c.state.loaded){for(r=0,i=c.children_d.length;r<i;r++)if(!(n=d[c.children_d[r]]).state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(o[n.id]===t&&n.id!==e.jstree.root&&(o[n.id]=!0,h.push(n.id)),s=0,a=n.parents.length;s<a;s++)o[n.parents[s]]===t&&n.parents[s]!==e.jstree.root&&(o[n.parents[s]]=!0,h.push(n.parents[s]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&!0===c.original.state.undetermined)for(o[c.id]===t&&c.id!==e.jstree.root&&(o[c.id]=!0,h.push(c.id)),s=0,a=c.parents.length;s<a;s++)o[c.parents[s]]===t&&c.parents[s]!==e.jstree.root&&(o[c.parents[s]]=!0,h.push(c.parents[s]))}),r=0,i=h.length;r<i;r++)d[h[r]].state[c?"selected":"checked"]||f.push(n?d[h[r]]:h[r]);return f},this._undetermined=function(){if(null!==this.element){var e,t,n,r=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=r.length;e<t;e++)(n=this.get_node(r[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,n,i,s){if(t=r.redraw_node.apply(this,arguments)){var a,o,d=null,c=null;for(a=0,o=t.childNodes.length;a<o;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(d.className+=" jstree-checked"),c=u.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(c.className+=" jstree-checkbox-disabled"),d.insertBefore(c,d.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,r,i=this.settings.checkbox.cascade,s=this.settings.checkbox.tie_selection,a=this._data[s?"core":"checkbox"].selected,o=this._model.data;if(!t||!0===t.state[s?"selected":"checked"]||-1===i.indexOf("undetermined")||-1===i.indexOf("down")&&-1===i.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,r=t.children_d.length;n<r;n++)if(-1!==e.inArray(t.children_d[n],a)||!o[t.children_d[n]].state.loaded&&o[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.disable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.enable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,r,i,s=this.settings.checkbox.tie_selection,a=this._model.data[e],o=[],d=[];if(!this.settings.checkbox.cascade_to_disabled&&a.state.disabled||!this.settings.checkbox.cascade_to_hidden&&a.state.hidden)i=this.get_checked_descendants(e),a.state[s?"selected":"checked"]&&i.push(a.id),o=o.concat(i);else{if(a.children)for(n=0,r=a.children.length;n<r;n++){var c=a.children[n];i=this._cascade_new_checked_state(c,t),o=o.concat(i),i.indexOf(c)>-1&&d.push(c)}var l=this.get_node(a,!0),h=d.length>0&&d.length<a.children.length;a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=h),h?(a.state[s?"selected":"checked"]=!1,l.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked")):t&&d.length===a.children.length?(a.state[s?"selected":"checked"]=t,o.push(a.id),l.attr("aria-selected",!0).children(".jstree-anchor").addClass(s?"jstree-clicked":"jstree-checked")):(a.state[s?"selected":"checked"]=!1,l.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked"))}return o},this.get_checked_descendants=function(e){var t=this,n=t.settings.checkbox.tie_selection,r=t._model.data[e];return r.children_d.filter(function(e){return t._model.data[e].state[n?"selected":"checked"]})},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var r,i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;i<s;i++)this.check_node(t[i],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var r,i,s;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.uncheck_node(t[r],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),s.length&&s.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,r,i,s,a=this.get_checked(!0),o={};for(n=0,r=a.length;n<r;n++)o[a[n].id]=a[n];for(n=0,r=a.length;n<r;n++)for(i=0,s=a[n].children_d.length;i<s;i++)o[a[n].children_d[i]]&&delete o[a[n].children_d[i]];for(n in a=[],o)o.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,r,i=this.get_checked(!0),s=[];for(n=0,r=i.length;n<r;n++)i[n].children.length||s.push(i[n].id);return t?e.map(s,e.proxy(function(e){return this.get_node(e)},this)):s},this.load_node=function(t,n){var i,s,a;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(a=this.get_node(t))&&a.state.loaded)for(i=0,s=a.children_d.length;i<s;i++)this._model.data[a.children_d[i]].state.checked&&(this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,a.children_d[i]));return r.load_node.apply(this,arguments)},this.get_state=function(){var e=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var i=r.set_state.apply(this,arguments);if(i&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var s=this;e.each(t.checkbox,function(e,t){s.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return i},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){if(this.settings.conditionalselect.call(this,this.get_node(e),n))return t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.create_node(r,{},"last",function(e){try{n.edit(e)}catch(t){setTimeout(function(){n.edit(e)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",
/*!
     "shortcut"			: 113,
     "shortcut_label"	: 'F2',
     "icon"				: "glyphicon glyphicon-leaf",
     */
action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.delete_node(n.get_selected()):n.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.cut(n.get_top_selected()):n.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.copy(n.get_top_selected()):n.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(n,r){this.bind=function(){r.bind.call(this);var t,n,i=0,s=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),i=e.ctrlKey?+new Date:0,(t||s)&&(i=+new Date+1e4),s&&clearTimeout(s),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!i||+new Date-i>250)&&e.vakata.context.hide(),i=0},this)).on("touchstart.jstree",".jstree-anchor",function(r){r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(t=r.originalEvent.changedTouches[0].clientX,n=r.originalEvent.changedTouches[0].clientY,s=setTimeout(function(){e(r.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(r){s&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(Math.abs(t-r.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-r.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(s),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){s&&clearTimeout(s)}),
/*!
   if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
   	var el = null, tm = null;
   	this.element
   		.on("touchstart", ".jstree-anchor", function (e) {
   			el = e.currentTarget;
   			tm = +new Date();
   			$(document).one("touchend", function (e) {
   				e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
   				e.currentTarget = e.target;
   				tm = ((+(new Date())) - tm);
   				if(e.target === el && tm > 600 && tm < 1000) {
   					e.preventDefault();
   					$(el).trigger('contextmenu', e);
   				}
   				el = null;
   				tm = null;
   			});
   		});
   }
   */
e(c).on("context_hide.vakata.jstree",e.proxy(function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),r.teardown.call(this)},this.show_contextmenu=function(n,r,i,s){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var a=this.settings.contextmenu,o=this.get_node(n,!0),d=o.children(".jstree-anchor"),c=!1,l=!1;(a.show_at_node||r===t||i===t)&&(c=d.offset(),r=c.left,i=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,s),l=a.items,e.isFunction(l)&&(l=l.call(this,n,e.proxy(function(e){this._show_contextmenu(n,r,i,e)},this))),e.isPlainObject(l)&&this._show_contextmenu(n,r,i,l)},this._show_contextmenu=function(t,n,r,i){var s=this.get_node(t,!0),a=s.children(".jstree-anchor");e(c).one("context_show.vakata.jstree",e.proxy(function(t,n){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(r),a.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:n,y:r},i),this.trigger("show_contextmenu",{node:t,x:n,y:r})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(c).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,r){if(!t)return!1;r||(n.html="",n.items=[]);var i,s="",a=!1;return r&&(s+="<ul>"),e.each(t,function(t,r){if(!r)return!0;n.items.push(r),!a&&r.separator_before&&(s+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,s+="<li class='"+(r._class||"")+(!0===r._disabled||e.isFunction(r._disabled)&&r._disabled({item:r,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",s+="<a href='#' rel='"+(n.items.length-1)+"' "+(r.title?"title='"+r.title+"'":"")+">",e.vakata.context.settings.icons&&(s+="<i ",r.icon&&(-1!==r.icon.indexOf("/")||-1!==r.icon.indexOf(".")?s+=" style='background:url(\""+r.icon+"\") center center no-repeat' ":s+=" class='"+r.icon+"' "),s+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),s+=(e.isFunction(r.label)?r.label({item:t,reference:n.reference,element:n.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"</span>":"")+"</a>",r.submenu&&(i=e.vakata.context._parse(r.submenu,!0))&&(s+=i),s+="</li>",r.separator_after&&(s+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0)}),s=s.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(s+="</ul>"),r||(n.html=s,e.vakata.context._trigger("parse")),s.length>10&&s},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var r=n.children("ul"),i=n.offset().left,s=i+n.outerWidth(),a=n.offset().top,o=r.width(),d=r.height(),c=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();t?n[s-(o+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[s+o>c&&i>c-s?"addClass":"removeClass"]("vakata-context-right"),a+d+10>l&&r.css("bottom","-1px"),n.hasClass("vakata-context-right")?i<o&&r.css("margin-right",i-o):c-s<o&&r.css("margin-left",c-s-o),r.show()}},show:function(r,i,s){var a,o,d,c,l,h,u,f;switch(n.element&&n.element.length&&n.element.width(""),!0){case!i&&!r:return!1;case!!i&&!!r:n.reference=r,n.position_x=i.x,n.position_y=i.y;break;case!i&&!!r:n.reference=r,a=r.offset(),n.position_x=a.left+r.outerHeight(),n.position_y=a.top;break;case!!i&&!r:n.position_x=i.x,n.position_y=i.y}r&&!s&&e(r).data("vakata_contextmenu")&&(s=e(r).data("vakata_contextmenu")),e.vakata.context._parse(s)&&n.element.html(n.html),n.items.length&&(n.element.appendTo("body"),o=n.element,d=n.position_x,c=n.position_y,l=o.width(),h=o.height(),u=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(d-=o.outerWidth()-e(r).outerWidth())<e(window).scrollLeft()+20&&(d=e(window).scrollLeft()+20),d+l+20>u&&(d=u-(l+20)),c+h+20>f&&(c=f-(h+20)),n.element.css({left:d,top:c}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var r=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(r&&clearTimeout(r),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(r=setTimeout(function(){e.vakata.context.hide()},e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var r=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(c).on("mousedown.vakata.jstree",function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,r){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in c.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),r=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,i=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(i=e.vakata.html.escape(i)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[n],t))){if(l={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:r>1?this.get_top_selected():[n.id]},h=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,l,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+i+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:h,data:l})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:h,data:l}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:h,data:l}),!1},this))},this.redraw_node=function(e,t,r,i){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var s,a,o=null;for(s=0,a=e.childNodes.length;s<a;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){o=e.childNodes[s];break}o&&o.setAttribute("draggable",!0)}return e}},e(function(){var n=!1,r=!1,i=!1,s=!1,a=e('<div id="jstree-marker">&#160;</div>').hide();e(c).on("dnd_start.vakata.jstree",function(e,t){n=!1,i=!1,t&&t.data&&t.data.jstree&&a.appendTo("body")}).on("dnd_move.vakata.jstree",function(o,d){var c=d.event.target!==i.target;if(s&&(d.event&&"dragover"===d.event.type&&!c||clearTimeout(s)),d&&d.data&&d.data.jstree&&(!d.event.target.id||"jstree-marker"!==d.event.target.id)){i=d.event;var l,h,u,f,p,g,_,m,v,y,x,b,j,k,w,C,T=e.jstree.reference(d.event.target),N=!1,S=!1,E=!1;if(T&&T._data&&T._data.dnd)if(a.attr("class","jstree-"+T.get_theme()+(T.settings.core.themes.responsive?" jstree-dnd-responsive":"")),w=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey)),d.helper.children().attr("class","jstree-"+T.get_theme()+" jstree-"+T.get_theme()+"-"+T.get_theme_variant()+" "+(T.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[w?"show":"hide"](),d.event.target!==T.element[0]&&d.event.target!==T.get_container_ul()[0]||0!==T.get_container_ul().children().length){if((N=T.settings.dnd.large_drop_target?e(d.event.target).closest(".jstree-node").children(".jstree-anchor"):e(d.event.target).closest(".jstree-anchor"))&&N.length&&N.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(S=N.offset(),E=(d.event.pageY!==t?d.event.pageY:d.event.originalEvent.pageY)-S.top,u=N.outerHeight(),g=E<u/3?["b","i","a"]:E>u-u/3?["a","i","b"]:E>u/2?["i","a","b"]:["i","b","a"],e.each(g,function(t,i){switch(i){case"b":l=S.left-6,h=S.top,f=T.get_parent(N),p=N.parent().index();break;case"i":j=T.settings.dnd.inside_pos,k=T.get_node(N.parent()),l=S.left-2,h=S.top+u/2+1,f=k.id,p="first"===j?0:"last"===j?k.children.length:Math.min(j,k.children.length);break;case"a":l=S.left-6,h=S.top+u,f=T.get_parent(N),p=N.parent().index()+1}for(_=!0,m=0,v=d.data.nodes.length;m<v;m++)if(y=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",x=p,"move_node"===y&&"a"===i&&d.data.origin&&d.data.origin===T&&f===T.get_parent(d.data.nodes[m])&&(b=T.get_node(f),x>e.inArray(d.data.nodes[m],b.children)&&(x-=1)),!(_=_&&(T&&T.settings&&T.settings.dnd&&!1===T.settings.dnd.check_while_dragging||T.check(y,d.data.origin&&d.data.origin!==T?d.data.origin.get_node(d.data.nodes[m]):d.data.nodes[m],f,x,{dnd:!0,ref:T.get_node(N.parent()),pos:i,origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==T,is_foreign:!d.data.origin})))){T&&T.last_error&&(r=T.last_error());break}var o,E;if("i"===i&&N.parent().is(".jstree-closed")&&T.settings.dnd.open_timeout&&(d.event&&"dragover"===d.event.type&&!c||(s&&clearTimeout(s),s=setTimeout((o=T,E=N,function(){o.open_node(E)}),T.settings.dnd.open_timeout))),_)return(C=T.get_node(f,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),C.addClass("jstree-dnd-parent")),n={ins:T,par:f,pos:"i"!==i||"last"!==j||0!==p||T.is_loaded(k)?p:"last"},a.css({left:l+"px",top:h+"px"}).show(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"),r={},g=!0,!1}),!0===g))return}else{for(_=!0,m=0,v=d.data.nodes.length;m<v&&(_=_&&T.check(d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",d.data.origin&&d.data.origin!==T?d.data.origin.get_node(d.data.nodes[m]):d.data.nodes[m],e.jstree.root,"last",{dnd:!0,ref:T.get_node(e.jstree.root),pos:"i",origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==T,is_foreign:!d.data.origin}));m++);if(_)return n={ins:T,par:e.jstree.root,pos:"last"},a.hide(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,d.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect="none"),a.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(a.hide(),n=!1,i=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,o){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),s&&clearTimeout(s),o&&o.data&&o.data.jstree){a.hide().detach();var d,c,l=[];if(n){for(d=0,c=o.data.nodes.length;d<c;d++)l[d]=o.data.origin?o.data.origin.get_node(o.data.nodes[d]):o.data.nodes[d];n.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](l,n.par,n.pos,!1,!1,!1,o.data.origin)}else(d=e(o.event.target).closest(".jstree")).length&&r&&r.error&&"check"===r.error&&(d=d.jstree(!0))&&d.settings.core.error.call(this,r);i=!1,n=!1}}).on("keyup.jstree keydown.jstree",function(t,o){(o=e.vakata.dnd._get())&&o.data&&o.data.jstree&&("keyup"===t.type&&27===t.which?(s&&clearTimeout(s),n=!1,r=!1,i=!1,s=!1,a.hide().detach(),e.vakata.dnd._clean()):(o.helper.find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),i&&(i.metaKey=t.metaKey,i.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",i))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,r,i){i===t&&(i=e.vakata.dnd._get()),i.event=r,e(c).triggerHandler("dnd_"+n+".vakata",i)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(c).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var r=n.scroll_e.scrollTop(),i=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(r+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(i+n.scroll_l*e.vakata.dnd.settings.scroll_speed),r===n.scroll_e.scrollTop()&&i===n.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,r,i){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=r,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==i&&(n.helper=e("<div id='vakata-dnd'></div>").html(i).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(c).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo("body"),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var r=!1,i=!1,s=!1,a=!1,o=!1,d=!1,l=!1,h=!1,u=!1,f=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var r=e(this),i=r.offset();if(this.scrollHeight>this.offsetHeight&&(i.top+r.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-i.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(i.left+r.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-i.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l)return n.scroll_e=e(this),!1}),n.scroll_e||(r=e(c),i=e(window),s=r.height(),a=i.height(),o=r.width(),d=i.width(),l=r.scrollTop(),h=r.scrollLeft(),s>a&&t.pageY-l<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),s>a&&a-(t.pageY-l)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),o>d&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),o>d&&d-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=r)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),s&&u+25>s&&(u=s-50),o&&f+n.helper_w>o&&(f=o-(n.helper_w+2)),n.helper.css({left:f+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var r=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){r&&clearTimeout(r)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,r,i,s){var o,d,c,l=this.settings.massload,h=(JSON.stringify(t),[]),u=this._model.data;if(!i){for(o=0,d=t.length;o<d;o++)u[t[o]]&&(u[t[o]].state.loaded||u[t[o]].state.failed)&&!s||(h.push(t[o]),(c=this.get_node(t[o],!0))&&c.length&&c.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},h.length){if(e.isFunction(l))return l.call(this,h,e.proxy(function(e){var a,o;if(e)for(a in e)e.hasOwnProperty(a)&&(this._data.massload[a]=e[a]);for(a=0,o=t.length;a<o;a++)(c=this.get_node(t[a],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,s)},this));if("object"===(void 0===l?"undefined":a(l))&&l&&l.url)return l=e.extend(!0,{},l),e.isFunction(l.url)&&(l.url=l.url.call(this,h)),e.isFunction(l.data)&&(l.data=l.data.call(this,h)),e.ajax(l).done(e.proxy(function(e,a,o){var d,l;if(e)for(d in e)e.hasOwnProperty(d)&&(this._data.massload[d]=e[d]);for(d=0,l=t.length;d<l;d++)(c=this.get_node(t[d],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,s)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,r,i,s)},this))}}return n._load_nodes.call(this,t,r,i,s)},this._load_node=function(t,r){var i,s=this._data.massload[t.id],a=null;return s?(a=this["string"==typeof s?"_append_html_data":"_append_json_data"](t,"string"==typeof s?e(e.parseHTML(s)).filter(function(){return 3!==this.nodeType}):s,function(e){r.call(this,e)}),(i=this.get_node(t.id,!0))&&i.length&&i.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],a):n._load_node.call(this,t,r)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,n){if(this._data.search.som&&n.res.length){var r,i,s,a,o=this._model.data,d=[];for(r=0,i=n.res.length;r<i;r++)if(o[n.res[r]]&&!o[n.res[r]].state.hidden&&(d.push(n.res[r]),d=d.concat(o[n.res[r]].parents),this._data.search.smc))for(s=0,a=o[n.res[r]].children_d.length;s<a;s++)o[o[n.res[r]].children_d[s]]&&!o[o[n.res[r]].children_d[s]].state.hidden&&d.push(o[n.res[r]].children_d[s]);d=e.vakata.array_remove_item(e.vakata.array_unique(d),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(d,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(n,r,i,s,a,o){if(!1===n||""===e.trim(n.toString()))return this.clear_search();s=(s=this.get_node(s))&&s.id?s.id:null,n=n.toString();var d,c,l=this.settings.search,h=!!l.ajax&&l.ajax,u=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!a&&this.clear_search(),i===t&&(i=l.show_only_matches),o===t&&(o=l.show_only_matches_children),!r&&!1!==h)return e.isFunction(h)?h.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,i,s,a,o)})},this),s):((h=e.extend({},h)).data||(h.data={}),h.data.str=n,s&&(h.data.inside=s),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,i,s,a,o)})},this)),this._data.search.lastRequest);if(a||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=i,this._data.search.smc=o),f=new e.vakata.search(n,!0,{caseSensitive:l.case_sensitive,fuzzy:l.fuzzy}),e.each(u[s||e.jstree.root].children_d,function(e,t){var r=u[t];r.text&&!r.state.hidden&&(!l.search_leaves_only||r.state.loaded&&0===r.children.length)&&(l.search_callback&&l.search_callback.call(this,n,r)||!l.search_callback&&f.search(r.text).isMatch)&&(p.push(t),g=g.concat(r.parents))}),p.length){for(g=e.vakata.array_unique(g),d=0,c=g.length;d<c;d++)g[d]!==e.jstree.root&&u[g[d]]&&!0===this.open_node(g[d],null,0)&&this._data.search.opn.push(g[d]);a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:i})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,i,s){if((t=r.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var a,o,d=null;for(a=0,o=t.childNodes.length;a<o;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(d.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,r){r=r||{},!1!==(r=e.extend({},e.vakata.search.defaults,r)).fuzzy&&(r.fuzzy=!0),t=r.caseSensitive?t:t.toLowerCase();var i,s,a,o,d=r.location,c=r.distance,l=r.threshold,h=t.length;return h>32&&(r.fuzzy=!1),r.fuzzy&&(i=1<<h-1,s=function(){var e={},n=0;for(n=0;n<h;n++)e[t.charAt(n)]=0;for(n=0;n<h;n++)e[t.charAt(n)]|=1<<h-n-1;return e}(),a=function(e,t){var n=e/h,r=Math.abs(d-t);return c?n+r/c:r?1:n}),o=function(e){if(e=r.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var n,o,c,u,f,p,g,_,m,v=e.length,y=l,x=e.indexOf(t,d),b=h+v,j=1,k=[];for(-1!==x&&(y=Math.min(a(0,x),y),-1!==(x=e.lastIndexOf(t,d+h))&&(y=Math.min(a(0,x),y))),x=-1,n=0;n<h;n++){for(c=0,u=b;c<u;)a(n,d+u)<=y?c=u:b=u,u=Math.floor((b-c)/2+c);for(b=u,p=Math.max(1,d-u+1),g=Math.min(d+u,v)+h,(_=new Array(g+2))[g+1]=(1<<n)-1,o=g;o>=p;o--)if(m=s[e.charAt(o-1)],_[o]=0===n?(_[o+1]<<1|1)&m:(_[o+1]<<1|1)&m|(f[o+1]|f[o])<<1|1|f[o+1],_[o]&i&&(j=a(n,o-1))<=y){if(y=j,x=o-1,k.push(x),!(x>d))break;p=Math.max(1,2*d-x)}if(a(n+1,d)>y)break;f=_}return{isMatch:x>=0,score:j}},!0===n?{search:o}:o(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var r,i;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(r=0,i=t.children_d.length;r<i;r++)this.sort(t.children_d[r],!1)}};var f=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){f&&clearTimeout(f),f=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl||(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!t||(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(n,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),0)))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,r){this.init=function(n,i){var s,a;if(i&&i.types&&i.types.default)for(s in i.types)if("default"!==s&&s!==e.jstree.root&&i.types.hasOwnProperty(s))for(a in i.types.default)i.types.default.hasOwnProperty(a)&&i.types[s][a]===t&&(i.types[s][a]=i.types.default[a]);r.init.call(this,n,i),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){r.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(n,r){var i,s,o,d=this._model.data,c=r.nodes,l=this.settings.types,h="default";for(i=0,s=c.length;i<s;i++){if(h="default",d[c[i]].original&&d[c[i]].original.type&&l[d[c[i]].original.type]&&(h=d[c[i]].original.type),d[c[i]].data&&d[c[i]].data.jstree&&d[c[i]].data.jstree.type&&l[d[c[i]].data.jstree.type]&&(h=d[c[i]].data.jstree.type),d[c[i]].type=h,!0===d[c[i]].icon&&l[h].icon!==t&&(d[c[i]].icon=l[h].icon),l[h].li_attr!==t&&"object"===a(l[h].li_attr))for(o in l[h].li_attr)if(l[h].li_attr.hasOwnProperty(o)){if("id"===o)continue;d[c[i]].li_attr[o]===t?d[c[i]].li_attr[o]=l[h].li_attr[o]:"class"===o&&(d[c[i]].li_attr.class=l[h].li_attr.class+" "+d[c[i]].li_attr.class)}if(l[h].a_attr!==t&&"object"===a(l[h].a_attr))for(o in l[h].a_attr)if(l[h].a_attr.hasOwnProperty(o)){if("id"===o)continue;d[c[i]].a_attr[o]===t?d[c[i]].a_attr[o]=l[h].a_attr[o]:"href"===o&&"#"===d[c[i]].a_attr[o]?d[c[i]].a_attr.href=l[h].a_attr.href:"class"===o&&(d[c[i]].a_attr.class=l[h].a_attr.class+" "+d[c[i]].a_attr.class)}}d[e.jstree.root].type=e.jstree.root},this)),r.bind.call(this)},this.get_json=function(t,n,i){var s,a,o=this._model.data,d=n?e.extend(!0,{},n,{no_id:!1}):{},c=r.get_json.call(this,t,d,i);if(!1===c)return!1;if(e.isArray(c))for(s=0,a=c.length;s<a;s++)c[s].type=c[s].id&&o[c[s].id]&&o[c[s].id].type?o[c[s].id].type:"default",n&&n.no_id&&(delete c[s].id,c[s].li_attr&&c[s].li_attr.id&&delete c[s].li_attr.id,c[s].a_attr&&c[s].a_attr.id&&delete c[s].a_attr.id);else c.type=c.id&&o[c.id]&&o[c.id].type?o[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,r=t.length;n<r;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,i,s,a,o){if(!1===r.check.call(this,n,i,s,a,o))return!1;i=i&&i.id?i:this.get_node(i),s=s&&s.id?s:this.get_node(s);var d,c,l,h,u=i&&i.id?o&&o.origin?o.origin:e.jstree.reference(i.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(i.id,s.children)){if((d=this.get_rules(s)).max_children!==t&&-1!==d.max_children&&d.max_children===s.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})},!1;if(d.valid_children!==t&&-1!==d.valid_children&&-1===e.inArray(i.type||"default",d.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})},!1;if(u&&i.children_d&&i.parents){for(c=0,l=0,h=i.children_d.length;l<h;l++)c=Math.max(c,u[i.children_d[l]].parents.length);c=c-i.parents.length+1}(c<=0||c===t)&&(c=1);do{if(d.max_depth!==t&&-1!==d.max_depth&&d.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})},!1;s=this.get_node(s.parent),d=this.get_rules(s),c++}while(s)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,r){var i,s,o,d,c,l,h,u,f=this._model.data;if(e.isArray(n)){for(n=n.slice(),s=0,o=n.length;s<o;s++)this.set_type(n[s],r);return!0}if(i=this.settings.types,n=this.get_node(n),!i[r]||!n)return!1;if((h=this.get_node(n,!0))&&h.length&&(u=h.children(".jstree-anchor")),d=n.type,c=this.get_icon(n),n.type=r,(!0===c||!i[d]||i[d].icon!==t&&c===i[d].icon)&&this.set_icon(n,i[r].icon===t||i[r].icon),i[d]&&i[d].li_attr!==t&&"object"===a(i[d].li_attr))for(l in i[d].li_attr)if(i[d].li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"===l?(f[n.id].li_attr.class=(f[n.id].li_attr.class||"").replace(i[d].li_attr[l],""),h&&h.removeClass(i[d].li_attr[l])):f[n.id].li_attr[l]===i[d].li_attr[l]&&(f[n.id].li_attr[l]=null,h&&h.removeAttr(l))}if(i[d]&&i[d].a_attr!==t&&"object"===a(i[d].a_attr))for(l in i[d].a_attr)if(i[d].a_attr.hasOwnProperty(l)){if("id"===l)continue;"class"===l?(f[n.id].a_attr.class=(f[n.id].a_attr.class||"").replace(i[d].a_attr[l],""),u&&u.removeClass(i[d].a_attr[l])):f[n.id].a_attr[l]===i[d].a_attr[l]&&("href"===l?(f[n.id].a_attr[l]="#",u&&u.attr("href","#")):(delete f[n.id].a_attr[l],u&&u.removeAttr(l)))}if(i[r].li_attr!==t&&"object"===a(i[r].li_attr))for(l in i[r].li_attr)if(i[r].li_attr.hasOwnProperty(l)){if("id"===l)continue;f[n.id].li_attr[l]===t?(f[n.id].li_attr[l]=i[r].li_attr[l],h&&("class"===l?h.addClass(i[r].li_attr[l]):h.attr(l,i[r].li_attr[l]))):"class"===l&&(f[n.id].li_attr.class=i[r].li_attr[l]+" "+f[n.id].li_attr.class,h&&h.addClass(i[r].li_attr[l]))}if(i[r].a_attr!==t&&"object"===a(i[r].a_attr))for(l in i[r].a_attr)if(i[r].a_attr.hasOwnProperty(l)){if("id"===l)continue;f[n.id].a_attr[l]===t?(f[n.id].a_attr[l]=i[r].a_attr[l],u&&("class"===l?u.addClass(i[r].a_attr[l]):u.attr(l,i[r].a_attr[l]))):"href"===l&&"#"===f[n.id].a_attr[l]?(f[n.id].a_attr.href=i[r].a_attr.href,u&&u.attr("href",i[r].a_attr.href)):"class"===l&&(f[n.id].a_attr.class=i[r].a_attr.class+" "+f[n.id].a_attr.class,u&&u.addClass(i[r].a_attr[l]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,r){this.check=function(t,n,i,s,a){if(!1===r.check.call(this,t,n,i,s,a))return!1;if(n=n&&n.id?n:this.get_node(n),!(i=i&&i.id?i:this.get_node(i))||!i.children)return!0;var o,d,c,l="rename_node"===t?s:n.text,h=[],u=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this._model.data;for(o=0,d=i.children.length;o<d;o++)c=p[i.children[o]].text,u||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(c);switch(u||(l=l.toLowerCase()),f&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return c=n.text||"",u||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(o=-1===e.inArray(l,h)||n.text&&c===l)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),o;case"create_node":return(o=-1===e.inArray(l,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),o;case"copy_node":return(o=-1===e.inArray(l,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),o;case"move_node":return(o=n.parent===i.id&&(!a||!a.is_multi)||-1===e.inArray(l,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),o}return!0},this.create_node=function(n,i,s,a,o){if(!i||i.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return r.create_node.call(this,n,i,s,a,o);if(!(s=s===t?"last":s).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return r.create_node.call(this,n,i,s,a,o);i||(i={});var d,c,l,h,u,f,p=this._model.data,g=this.settings.unique.case_sensitive,_=this.settings.unique.trim_whitespace,m=this.settings.unique.duplicate;for(c=d=this.get_string("New node"),l=[],h=0,u=n.children.length;h<u;h++)f=p[n.children[h]].text,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),l.push(f);for(h=1,f=c,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(f,l);)c=m.call(this,d,++h).toString(),f=c,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));i.text=c}return r.create_node.call(this,n,i,s,a,o)}};var p=c.createElement("DIV");if(p.setAttribute("unselectable","on"),p.setAttribute("role","presentation"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,r,i=!1;for(n=0,r=t.selected.length;n<r;n++)(i=this.get_node(t.selected[n],!0))&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}},this))
/*!
   .on("mousedown.jstree touchstart.jstree", ".jstree-wholerow", function (e) {
   		if(e.target === e.currentTarget) {
   			var a = $(e.currentTarget).closest(".jstree-node").children(".jstree-anchor");
   			e.target = a[0];
   			a.trigger(e);
   		}
   	})
   */.on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,r,i,s){if(t=n.redraw_node.apply(this,arguments)){var a=p.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(a.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(a.className+=" jstree-wholerow-hovered"),t.insertBefore(a,t.childNodes[0])}return t}},c.registerElement&&Object&&Object.create){var g=Object.create(HTMLElement.prototype);g.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{c.registerElement("vakata-jstree",{prototype:g})}catch(e){}}}})?r.apply(t,i):r)||(e.exports=s)},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),a=(r=s)&&r.__esModule?r:{default:r};n(3);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.dataset.nguitree||(this.settings=Object.assign({},{modal:!1,treeClassName:"ng-ui-tree",modalClassName:"ng-modal"},n),this.el=t,this.tree=this.el.querySelector("."+this.settings.treeClassName),this.$tree=(0,a.default)(this.tree),this.disableSubtree=this.tree.dataset.disablesubtree,this.settings.modal&&(this.modal=this.el.querySelector("."+this.settings.modalClassName),this.modalInit()),this.treeInit())}return i(e,[{key:"treeInit",value:function(){var t=this;this.el.dataset.nguitree=!0,this.$tree.jstree({plugins:["sort","contextmenu","ui"],contextmenu:{select_node:!1,items:this.settings.modal?"":e.treeContextMenu},core:{worker:!1,data:{url:function(e){var n=t.tree.dataset.path,r=t.tree.dataset.rootitemid;return n.replace("_itemId_",e.id).replace("#",r+"/true")}},themes:{name:"ng-ui"}}}).on("ready.jstree",function(e,n){var r=t.tree.dataset.selecteditempath||"/0/";r=r.replace(/^\//,"").replace(/\/$/,"").split("/"),t.$tree.jstree(!0).load_node(r,function(){var e=r[r.length-1];n.instance.select_node(e),t.settings.modal||t.$tree.find("a#"+e+"_anchor").addClass("selected")}),""!==t.disableSubtree&&t.disableSubtree.toString().split(",").forEach(function(e){t.disableNode(e)})}).on("load_node.jstree",function(e,n){""!==t.disableSubtree&&-1!==t.disableSubtree.toString().split(",").indexOf(n.node.id)&&t.disableNode(n.node.id)}).on("open_node.jstree",function(){""!==t.disableSubtree&&t.disableNode(t.disableSubtree)}).on("click",".jstree-anchor",function(e){var n=(0,a.default)(e.currentTarget).jstree(!0).get_node((0,a.default)(e.currentTarget));if(""!==t.disableSubtree){if(t.disableSubtree=t.disableSubtree.toString().split(","),-1!==t.disableSubtree.indexOf(n.id))return;if(t.disableSubtree.filter(function(e){return-1!==n.parents.indexOf(e)}).length>0)return}t.settings.modal?(t.el.querySelector("input.item-id").value=n.id,void 0===n.text||"0"===n.id?t.el.querySelector("span.ng-ui-keyword").innerHTML=t.el.dataset.novaluetext:t.el.querySelector("span.ng-ui-keyword").innerHTML=n.text,t.closeModal()):document.location.href=n.a_attr.href})}},{key:"disableNode",value:function(e){this.$tree.find("li#"+e).addClass("disabled")}},{key:"modalInit",value:function(){var e=this;(0,a.default)(this.el).on("click",".modal-tree-button",this.openModal.bind(this)),(0,a.default)(this.modal).on("click",".close",this.closeModal.bind(this)),(0,a.default)(window).on("click",function(t){t.target.className===e.settings.modalClassName&&e.closeModal()})}},{key:"openModal",value:function(){this.settings.modal&&(0,a.default)(this.modal).show()}},{key:"closeModal",value:function(){this.settings.modal&&(0,a.default)(this.modal).hide()}}],[{key:"treeContextMenu",value:function(e){var t={};return e.data.context_menu.forEach(function(e){t[e.name]={label:e.text,action:function(){window.location.href=e.url}}}),t}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.controls=this.el.querySelectorAll(".ng-ui-tab-control"),this.init()}return r(e,[{key:"init",value:function(){this.el.dataset.nguitabs||(this.el.dataset.nguitabs=!0,this.setupEvents(),this.initialSelect())}},{key:"initialSelect",value:function(){var e=this.controls[0];localStorage.tagsTabActive&&this.controls.forEach(function(t){t.hash===localStorage.tagsTabActive&&(e=t)}),this.showTab(e)}},{key:"setupEvents",value:function(){var e=this;this.controls.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var n=t.currentTarget;localStorage.tagsTabActive=n.hash,e.toggleActive(n)})})}},{key:"toggleActive",value:function(e){this.deactivateTab(),this.showTab(e)}},{key:"deactivateTab",value:function(){var e=this.el.querySelector("[data-tab].active");this.controls.forEach(function(e){e.parentNode.classList.contains("active")&&e.parentNode.classList.remove("active")}),e&&e.classList.remove("active")}},{key:"showTab",value:function(e){e&&e.parentNode.classList.add("active");var t=this.el.querySelector('[data-tab="'+e.hash+'"]');t&&t.classList.add("active")}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.init()}return r(e,[{key:"init",value:function(){this.el.dataset.nguibtn||(this.setupEvents(),this.el.dataset.nguibtn=!0)}},{key:"setupEvents",value:function(){var e=this;this.el.addEventListener("click",function(e){e.currentTarget.attributes.disabled&&e.preventDefault()}),this.el.addEventListener("mousedown",function(t){e.removeEffect(),e.addEffect(t)})}},{key:"addEffect",value:function(e){var t=document.createElement("span");t.classList.add("ng-ui-btn-effect"),this.el.appendChild(t),this.calcPos(e,t),t.addEventListener("animationend",this.removeEffect.bind(this))}},{key:"removeEffect",value:function(){this.el.querySelector(".ng-ui-btn-effect")&&this.el.removeChild(this.el.querySelector(".ng-ui-btn-effect"))}},{key:"calcPos",value:function(e,t){var n=this.el.offsetWidth,r=e.pageX-this.el.offsetLeft,i=e.pageY-this.el.offsetTop,s=r<=n/2?2.4*(n-r):2.4*r,a={left:r+"px",top:i+"px",width:s+"px",height:s+"px"};Object.assign(t.style,a)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NgUiTreeInit=t.NgUiTabsInit=t.NgUiBtnInit=t.NgUiInit=void 0;var r=d(n(7)),i=d(n(6)),s=d(n(5)),a=d(n(2)),o=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=document.getElementsByClassName(e||"ng-ui-btn");[].forEach.call(t,function(e){return new r.default(e)})}function l(e){var t=document.getElementsByClassName(e||"ng-ui-tabs");[].forEach.call(t,function(e){return new i.default(e)})}function h(e,t){var n=document.getElementsByClassName(e||"ng-ui-tree-wrapper");[].forEach.call(n,function(e){return new s.default(e,t)})}t.NgUiInit=function(){var e,t,n;c(),l(),h(),(0,o.default)(),n=document.getElementsByClassName(e||"ng-ui-sidebar-resizable"),[].forEach.call(n,function(e){return new a.default(e,t||{connectWith:".ng-ui-logo"})})},t.NgUiBtnInit=c,t.NgUiTabsInit=l,t.NgUiTreeInit=h}])});
},{}],2:[function(require,module,exports){
'use strict';

var _adminUi = require('@netgen/admin-ui');

function ngTagsInit() {
  (0, _adminUi.NgUiInit)();
  (0, _adminUi.NgUiTreeInit)('ng-ui-tree-wrapper');
  (0, _adminUi.NgUiTreeInit)('ng-ui-modal-tree', { modal: true });
}

window.addEventListener('load', function () {
  ngTagsInit();
});

},{"@netgen/admin-ui":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi8uLi8uLi8uLi9hZG1pbi11aS9kaXN0L2pzL2J1bmRsZS5qcyIsImJ1bmRsZS9SZXNvdXJjZXMvZXM2L2FwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMzRkE7O0FBRUEsU0FBUyxVQUFULEdBQXNCO0FBQ3BCO0FBQ0EsNkJBQWEsb0JBQWI7QUFDQSw2QkFBYSxrQkFBYixFQUFpQyxFQUFFLE9BQU8sSUFBVCxFQUFqQztBQUNEOztBQUVELE9BQU8sZ0JBQVAsQ0FBd0IsTUFBeEIsRUFBZ0MsWUFBTTtBQUNwQztBQUNELENBRkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLk5nVWlJbml0PXQoKTplLk5nVWlJbml0PXQoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBpPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQscil7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIGkgaW4gZSluLmQocixpLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiXCIsbihuLnM9OCl9KFtmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBuLHIsaSxzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O1xuLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjMuMVxuICogaHR0cHM6Ly9qcXVlcnkuY29tL1xuICpcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTgtMDEtMjBUMTc6MjRaXG4gKi9cbnI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dm9pZCAwLGk9ZnVuY3Rpb24ocixpKXt2YXIgYT1bXSxvPXIuZG9jdW1lbnQsZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YsYz1hLnNsaWNlLGw9YS5jb25jYXQsaD1hLnB1c2gsdT1hLmluZGV4T2YsZj17fSxwPWYudG9TdHJpbmcsZz1mLmhhc093blByb3BlcnR5LF89Zy50b1N0cmluZyxtPV8uY2FsbChPYmplY3QpLHY9e30seT1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZcIm51bWJlclwiIT10eXBlb2YgZS5ub2RlVHlwZX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxiPXt0eXBlOiEwLHNyYzohMCxub01vZHVsZTohMH07ZnVuY3Rpb24gaihlLHQsbil7dmFyIHIsaT0odD10fHxvKS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2lmKGkudGV4dD1lLG4pZm9yKHIgaW4gYiluW3JdJiYoaVtyXT1uW3JdKTt0LmhlYWQuYXBwZW5kQ2hpbGQoaSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKX1mdW5jdGlvbiBrKGUpe3JldHVybiBudWxsPT1lP2UrXCJcIjpcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpzKGUpKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZT9mW3AuY2FsbChlKV18fFwib2JqZWN0XCI6dm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnMoZSl9dmFyIHc9ZnVuY3Rpb24gZSh0LG4pe3JldHVybiBuZXcgZS5mbi5pbml0KHQsbil9LEM9L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nO2Z1bmN0aW9uIFQoZSl7dmFyIHQ9ISFlJiZcImxlbmd0aFwiaW4gZSYmZS5sZW5ndGgsbj1rKGUpO3JldHVybiF5KGUpJiYheChlKSYmKFwiYXJyYXlcIj09PW58fDA9PT10fHxcIm51bWJlclwiPT10eXBlb2YgdCYmdD4wJiZ0LTEgaW4gZSl9dy5mbj13LnByb3RvdHlwZT17anF1ZXJ5OlwiMy4zLjFcIixjb25zdHJ1Y3Rvcjp3LGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gYy5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/Yy5jYWxsKHRoaXMpOmU8MD90aGlzW2UrdGhpcy5sZW5ndGhdOnRoaXNbZV19LHB1c2hTdGFjazpmdW5jdGlvbihlKXt2YXIgdD13Lm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxlKTtyZXR1cm4gdC5wcmV2T2JqZWN0PXRoaXMsdH0sZWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gdy5lYWNoKHRoaXMsZSl9LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sody5tYXAodGhpcyxmdW5jdGlvbih0LG4pe3JldHVybiBlLmNhbGwodCxuLHQpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKGU8MD90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhuPj0wJiZuPHQ/W3RoaXNbbl1dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcigpfSxwdXNoOmgsc29ydDphLnNvcnQsc3BsaWNlOmEuc3BsaWNlfSx3LmV4dGVuZD13LmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksYSxvPWFyZ3VtZW50c1swXXx8e30sZD0xLGM9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIG8mJihsPW8sbz1hcmd1bWVudHNbZF18fHt9LGQrKyksXCJvYmplY3RcIj09PSh2b2lkIDA9PT1vP1widW5kZWZpbmVkXCI6cyhvKSl8fHkobyl8fChvPXt9KSxkPT09YyYmKG89dGhpcyxkLS0pO2Q8YztkKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW2RdKSlmb3IodCBpbiBlKW49b1t0XSxvIT09KHI9ZVt0XSkmJihsJiZyJiYody5pc1BsYWluT2JqZWN0KHIpfHwoaT1BcnJheS5pc0FycmF5KHIpKSk/KGk/KGk9ITEsYT1uJiZBcnJheS5pc0FycmF5KG4pP246W10pOmE9biYmdy5pc1BsYWluT2JqZWN0KG4pP246e30sb1t0XT13LmV4dGVuZChsLGEscikpOnZvaWQgMCE9PXImJihvW3RdPXIpKTtyZXR1cm4gb30sdy5leHRlbmQoe2V4cGFuZG86XCJqUXVlcnlcIisoXCIzLjMuMVwiK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLFwiXCIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGUpfSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuISghZXx8XCJbb2JqZWN0IE9iamVjdF1cIiE9PXAuY2FsbChlKSkmJighKHQ9ZChlKSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mKG49Zy5jYWxsKHQsXCJjb25zdHJ1Y3RvclwiKSYmdC5jb25zdHJ1Y3RvcikmJl8uY2FsbChuKT09PW0pfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSl7aihlKX0sZWFjaDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MDtpZihUKGUpKWZvcihuPWUubGVuZ3RoO3I8biYmITEhPT10LmNhbGwoZVtyXSxyLGVbcl0pO3IrKyk7ZWxzZSBmb3IociBpbiBlKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVhaztyZXR1cm4gZX0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOihlK1wiXCIpLnJlcGxhY2UoQyxcIlwiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8W107cmV0dXJuIG51bGwhPWUmJihUKE9iamVjdChlKSk/dy5tZXJnZShuLFwic3RyaW5nXCI9PXR5cGVvZiBlP1tlXTplKTpoLmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6dS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MCxzPWUubGVuZ3RoLGE9IW47aTxzO2krKykhdChlW2ldLGkpIT09YSYmci5wdXNoKGVbaV0pO3JldHVybiByfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGkscz0wLGE9W107aWYoVChlKSlmb3Iocj1lLmxlbmd0aDtzPHI7cysrKW51bGwhPShpPXQoZVtzXSxzLG4pKSYmYS5wdXNoKGkpO2Vsc2UgZm9yKHMgaW4gZSludWxsIT0oaT10KGVbc10scyxuKSkmJmEucHVzaChpKTtyZXR1cm4gbC5hcHBseShbXSxhKX0sZ3VpZDoxLHN1cHBvcnQ6dn0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKHcuZm5bU3ltYm9sLml0ZXJhdG9yXT1hW1N5bWJvbC5pdGVyYXRvcl0pLHcuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUsdCl7ZltcIltvYmplY3QgXCIrdCtcIl1cIl09dC50b0xvd2VyQ2FzZSgpfSk7dmFyIE49XG4vKiFcbiAgKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjNcbiAgKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAgKlxuICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICAqXG4gICogRGF0ZTogMjAxNi0wOC0wOFxuICAqL1xuZnVuY3Rpb24oZSl7dmFyIHQsbixyLGkscyxhLG8sZCxjLGwsaCx1LGYscCxnLF8sbSx2LHkseD1cInNpenpsZVwiKzEqbmV3IERhdGUsYj1lLmRvY3VtZW50LGo9MCxrPTAsdz1hZSgpLEM9YWUoKSxUPWFlKCksTj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGg9ITApLDB9LFM9e30uaGFzT3duUHJvcGVydHksRT1bXSxBPUUucG9wLE89RS5wdXNoLEw9RS5wdXNoLEQ9RS5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxxPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixNPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixIPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFwwLVxcXFx4YTBdKStcIixGPVwiXFxcXFtcIitNK1wiKihcIitIK1wiKSg/OlwiK00rXCIqKFsqXiR8IX5dPz0pXCIrTStcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiK0grXCIpKXwpXCIrTStcIipcXFxcXVwiLEk9XCI6KFwiK0grXCIpKD86XFxcXCgoKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK0YrXCIpKil8LiopXFxcXCl8KVwiLCQ9bmV3IFJlZ0V4cChNK1wiK1wiLFwiZ1wiKSxSPW5ldyBSZWdFeHAoXCJeXCIrTStcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrTStcIiskXCIsXCJnXCIpLFc9bmV3IFJlZ0V4cChcIl5cIitNK1wiKixcIitNK1wiKlwiKSxCPW5ldyBSZWdFeHAoXCJeXCIrTStcIiooWz4rfl18XCIrTStcIilcIitNK1wiKlwiKSx6PW5ldyBSZWdFeHAoXCI9XCIrTStcIiooW15cXFxcXSdcXFwiXSo/KVwiK00rXCIqXFxcXF1cIixcImdcIiksVT1uZXcgUmVnRXhwKEkpLEs9bmV3IFJlZ0V4cChcIl5cIitIK1wiJFwiKSxYPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrSCtcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitIK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrSCtcInxbKl0pXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitGKSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIitJKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIitNK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrTStcIiooPzooWystXXwpXCIrTStcIiooXFxcXGQrKXwpKVwiK00rXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrcStcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK00rXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK00rXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK00rXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxcZCQvaSxWPS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sRz0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxRPS9bK35dLyxaPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitNK1wiP3woXCIrTStcIil8LilcIixcImlnXCIpLGVlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1cIjB4XCIrdC02NTUzNjtyZXR1cm4gciE9cnx8bj90OnI8MD9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUocj4+MTB8NTUyOTYsMTAyMyZyfDU2MzIwKX0sdGU9LyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFwwLVxceDFmXFx4N2YtXFx1RkZGRlxcdy1dL2csbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9cIlxcMFwiPT09ZT9cIu+/vVwiOmUuc2xpY2UoMCwtMSkrXCJcXFxcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KStcIiBcIjpcIlxcXFxcIitlfSxyZT1mdW5jdGlvbigpe3UoKX0saWU9dmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYoXCJmb3JtXCJpbiBlfHxcImxhYmVsXCJpbiBlKX0se2RpcjpcInBhcmVudE5vZGVcIixuZXh0OlwibGVnZW5kXCJ9KTt0cnl7TC5hcHBseShFPUQuY2FsbChiLmNoaWxkTm9kZXMpLGIuY2hpbGROb2RlcyksRVtiLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlKXtMPXthcHBseTpFLmxlbmd0aD9mdW5jdGlvbihlLHQpe08uYXBwbHkoZSxELmNhbGwodCkpfTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPTA7ZVtuKytdPXRbcisrXTspO2UubGVuZ3RoPW4tMX19fWZ1bmN0aW9uIHNlKGUsdCxyLGkpe3ZhciBzLG8sYyxsLGgscCxtLHY9dCYmdC5vd25lckRvY3VtZW50LGo9dD90Lm5vZGVUeXBlOjk7aWYocj1yfHxbXSxcInN0cmluZ1wiIT10eXBlb2YgZXx8IWV8fDEhPT1qJiY5IT09aiYmMTEhPT1qKXJldHVybiByO2lmKCFpJiYoKHQ/dC5vd25lckRvY3VtZW50fHx0OmIpIT09ZiYmdSh0KSx0PXR8fGYsZykpe2lmKDExIT09aiYmKGg9Ry5leGVjKGUpKSlpZihzPWhbMV0pe2lmKDk9PT1qKXtpZighKGM9dC5nZXRFbGVtZW50QnlJZChzKSkpcmV0dXJuIHI7aWYoYy5pZD09PXMpcmV0dXJuIHIucHVzaChjKSxyfWVsc2UgaWYodiYmKGM9di5nZXRFbGVtZW50QnlJZChzKSkmJnkodCxjKSYmYy5pZD09PXMpcmV0dXJuIHIucHVzaChjKSxyfWVsc2V7aWYoaFsyXSlyZXR1cm4gTC5hcHBseShyLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLHI7aWYoKHM9aFszXSkmJm4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBMLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHMpKSxyfWlmKG4ucXNhJiYhVFtlK1wiIFwiXSYmKCFffHwhXy50ZXN0KGUpKSl7aWYoMSE9PWopdj10LG09ZTtlbHNlIGlmKFwib2JqZWN0XCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2ZvcigobD10LmdldEF0dHJpYnV0ZShcImlkXCIpKT9sPWwucmVwbGFjZSh0ZSxuZSk6dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLGw9eCksbz0ocD1hKGUpKS5sZW5ndGg7by0tOylwW29dPVwiI1wiK2wrXCIgXCIrbWUocFtvXSk7bT1wLmpvaW4oXCIsXCIpLHY9US50ZXN0KGUpJiZnZSh0LnBhcmVudE5vZGUpfHx0fWlmKG0pdHJ5e3JldHVybiBMLmFwcGx5KHIsdi5xdWVyeVNlbGVjdG9yQWxsKG0pKSxyfWNhdGNoKGUpe31maW5hbGx5e2w9PT14JiZ0LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIGQoZS5yZXBsYWNlKFIsXCIkMVwiKSx0LHIsaSl9ZnVuY3Rpb24gYWUoKXt2YXIgZT1bXTtyZXR1cm4gZnVuY3Rpb24gdChuLGkpe3JldHVybiBlLnB1c2gobitcIiBcIik+ci5jYWNoZUxlbmd0aCYmZGVsZXRlIHRbZS5zaGlmdCgpXSx0W24rXCIgXCJdPWl9fWZ1bmN0aW9uIG9lKGUpe3JldHVybiBlW3hdPSEwLGV9ZnVuY3Rpb24gZGUoZSl7dmFyIHQ9Zi5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7dHJ5e3JldHVybiEhZSh0KX1jYXRjaChlKXtyZXR1cm4hMX1maW5hbGx5e3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHQ9bnVsbH19ZnVuY3Rpb24gY2UoZSx0KXtmb3IodmFyIG49ZS5zcGxpdChcInxcIiksaT1uLmxlbmd0aDtpLS07KXIuYXR0ckhhbmRsZVtuW2ldXT10fWZ1bmN0aW9uIGxlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobilmb3IoO249bi5uZXh0U2libGluZzspaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBoZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuXCJpbnB1dFwiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiB1ZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihcImlucHV0XCI9PT1ufHxcImJ1dHRvblwiPT09bikmJnQudHlwZT09PWV9fWZ1bmN0aW9uIGZlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm5cImZvcm1cImluIHQ/dC5wYXJlbnROb2RlJiYhMT09PXQuZGlzYWJsZWQ/XCJsYWJlbFwiaW4gdD9cImxhYmVsXCJpbiB0LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlLmRpc2FibGVkPT09ZTp0LmRpc2FibGVkPT09ZTp0LmlzRGlzYWJsZWQ9PT1lfHx0LmlzRGlzYWJsZWQhPT0hZSYmaWUodCk9PT1lOnQuZGlzYWJsZWQ9PT1lOlwibGFiZWxcImluIHQmJnQuZGlzYWJsZWQ9PT1lfX1mdW5jdGlvbiBwZShlKXtyZXR1cm4gb2UoZnVuY3Rpb24odCl7cmV0dXJuIHQ9K3Qsb2UoZnVuY3Rpb24obixyKXtmb3IodmFyIGkscz1lKFtdLG4ubGVuZ3RoLHQpLGE9cy5sZW5ndGg7YS0tOyluW2k9c1thXV0mJihuW2ldPSEocltpXT1uW2ldKSl9KX0pfWZ1bmN0aW9uIGdlKGUpe3JldHVybiBlJiZ2b2lkIDAhPT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZlfWZvcih0IGluIG49c2Uuc3VwcG9ydD17fSxzPXNlLmlzWE1MPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hIXQmJlwiSFRNTFwiIT09dC5ub2RlTmFtZX0sdT1zZS5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdCxpLGE9ZT9lLm93bmVyRG9jdW1lbnR8fGU6YjtyZXR1cm4gYSE9PWYmJjk9PT1hLm5vZGVUeXBlJiZhLmRvY3VtZW50RWxlbWVudD8ocD0oZj1hKS5kb2N1bWVudEVsZW1lbnQsZz0hcyhmKSxiIT09ZiYmKGk9Zi5kZWZhdWx0VmlldykmJmkudG9wIT09aSYmKGkuYWRkRXZlbnRMaXN0ZW5lcj9pLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixyZSwhMSk6aS5hdHRhY2hFdmVudCYmaS5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIscmUpKSxuLmF0dHJpYnV0ZXM9ZGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPVwiaVwiLCFlLmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKX0pLG4uZ2V0RWxlbWVudHNCeVRhZ05hbWU9ZGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwZW5kQ2hpbGQoZi5jcmVhdGVDb21tZW50KFwiXCIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RofSksbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVYudGVzdChmLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLG4uZ2V0QnlJZD1kZShmdW5jdGlvbihlKXtyZXR1cm4gcC5hcHBlbmRDaGlsZChlKS5pZD14LCFmLmdldEVsZW1lbnRzQnlOYW1lfHwhZi5nZXRFbGVtZW50c0J5TmFtZSh4KS5sZW5ndGh9KSxuLmdldEJ5SWQ/KHIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShaLGVlKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKFwiaWRcIik9PT10fX0sci5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dC5nZXRFbGVtZW50QnlJZCYmZyl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9bbl06W119fSk6KHIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShaLGVlKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dm9pZCAwIT09ZS5nZXRBdHRyaWJ1dGVOb2RlJiZlLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gbiYmbi52YWx1ZT09PXR9fSxyLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT10LmdldEVsZW1lbnRCeUlkJiZnKXt2YXIgbixyLGkscz10LmdldEVsZW1lbnRCeUlkKGUpO2lmKHMpe2lmKChuPXMuZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW3NdO2ZvcihpPXQuZ2V0RWxlbWVudHNCeU5hbWUoZSkscj0wO3M9aVtyKytdOylpZigobj1zLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKSkmJm4udmFsdWU9PT1lKXJldHVybltzXX1yZXR1cm5bXX19KSxyLmZpbmQuVEFHPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09dC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOm4ucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAscz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKFwiKlwiPT09ZSl7Zm9yKDtuPXNbaSsrXTspMT09PW4ubm9kZVR5cGUmJnIucHVzaChuKTtyZXR1cm4gcn1yZXR1cm4gc30sci5maW5kLkNMQVNTPW4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT10LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmcpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0sbT1bXSxfPVtdLChuLnFzYT1WLnRlc3QoZi5xdWVyeVNlbGVjdG9yQWxsKSkmJihkZShmdW5jdGlvbihlKXtwLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD1cIjxhIGlkPSdcIit4K1wiJz48L2E+PHNlbGVjdCBpZD0nXCIreCtcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGUucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCYmXy5wdXNoKFwiWypeJF09XCIrTStcIiooPzonJ3xcXFwiXFxcIilcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fF8ucHVzaChcIlxcXFxbXCIrTStcIiooPzp2YWx1ZXxcIitxK1wiKVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK3grXCItXVwiKS5sZW5ndGh8fF8ucHVzaChcIn49XCIpLGUucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8Xy5wdXNoKFwiOmNoZWNrZWRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIit4K1wiKypcIikubGVuZ3RofHxfLnB1c2goXCIuIy4rWyt+XVwiKX0pLGRlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPVwiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7dmFyIHQ9Zi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJoaWRkZW5cIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJEXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCYmXy5wdXNoKFwibmFtZVwiK00rXCIqWypeJHwhfl0/PVwiKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoJiZfLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLHAuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbChcIjpkaXNhYmxlZFwiKS5sZW5ndGgmJl8ucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxfLnB1c2goXCIsLio6XCIpfSkpLChuLm1hdGNoZXNTZWxlY3Rvcj1WLnRlc3Qodj1wLm1hdGNoZXN8fHAud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxwLm1vek1hdGNoZXNTZWxlY3Rvcnx8cC5vTWF0Y2hlc1NlbGVjdG9yfHxwLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmRlKGZ1bmN0aW9uKGUpe24uZGlzY29ubmVjdGVkTWF0Y2g9di5jYWxsKGUsXCIqXCIpLHYuY2FsbChlLFwiW3MhPScnXTp4XCIpLG0ucHVzaChcIiE9XCIsSSl9KSxfPV8ubGVuZ3RoJiZuZXcgUmVnRXhwKF8uam9pbihcInxcIikpLG09bS5sZW5ndGgmJm5ldyBSZWdFeHAobS5qb2luKFwifFwiKSksdD1WLnRlc3QocC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikseT10fHxWLnRlc3QocC5jb250YWlucyk/ZnVuY3Rpb24oZSx0KXt2YXIgbj05PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISghcnx8MSE9PXIubm9kZVR5cGV8fCEobi5jb250YWlucz9uLmNvbnRhaW5zKHIpOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKX06ZnVuY3Rpb24oZSx0KXtpZih0KWZvcig7dD10LnBhcmVudE5vZGU7KWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxOPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gaD0hMCwwO3ZhciByPSFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiByfHwoMSYocj0oZS5vd25lckRvY3VtZW50fHxlKT09PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFuLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PXI/ZT09PWZ8fGUub3duZXJEb2N1bWVudD09PWImJnkoYixlKT8tMTp0PT09Znx8dC5vd25lckRvY3VtZW50PT09YiYmeShiLHQpPzE6bD9QKGwsZSktUChsLHQpOjA6NCZyPy0xOjEpfTpmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBoPSEwLDA7dmFyIG4scj0wLGk9ZS5wYXJlbnROb2RlLHM9dC5wYXJlbnROb2RlLGE9W2VdLG89W3RdO2lmKCFpfHwhcylyZXR1cm4gZT09PWY/LTE6dD09PWY/MTppPy0xOnM/MTpsP1AobCxlKS1QKGwsdCk6MDtpZihpPT09cylyZXR1cm4gbGUoZSx0KTtmb3Iobj1lO249bi5wYXJlbnROb2RlOylhLnVuc2hpZnQobik7Zm9yKG49dDtuPW4ucGFyZW50Tm9kZTspby51bnNoaWZ0KG4pO2Zvcig7YVtyXT09PW9bcl07KXIrKztyZXR1cm4gcj9sZShhW3JdLG9bcl0pOmFbcl09PT1iPy0xOm9bcl09PT1iPzE6MH0sZik6Zn0sc2UubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBzZShlLG51bGwsbnVsbCx0KX0sc2UubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1mJiZ1KGUpLHQ9dC5yZXBsYWNlKHosXCI9JyQxJ11cIiksbi5tYXRjaGVzU2VsZWN0b3ImJmcmJiFUW3QrXCIgXCJdJiYoIW18fCFtLnRlc3QodCkpJiYoIV98fCFfLnRlc3QodCkpKXRyeXt2YXIgcj12LmNhbGwoZSx0KTtpZihyfHxuLmRpc2Nvbm5lY3RlZE1hdGNofHxlLmRvY3VtZW50JiYxMSE9PWUuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIHJ9Y2F0Y2goZSl7fXJldHVybiBzZSh0LGYsbnVsbCxbZV0pLmxlbmd0aD4wfSxzZS5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT09ZiYmdShlKSx5KGUsdCl9LHNlLmF0dHI9ZnVuY3Rpb24oZSx0KXsoZS5vd25lckRvY3VtZW50fHxlKSE9PWYmJnUoZSk7dmFyIGk9ci5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scz1pJiZTLmNhbGwoci5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/aShlLHQsIWcpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cz9zOm4uYXR0cmlidXRlc3x8IWc/ZS5nZXRBdHRyaWJ1dGUodCk6KHM9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmcy5zcGVjaWZpZWQ/cy52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrXCJcIikucmVwbGFjZSh0ZSxuZSl9LHNlLmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2UpfSxzZS51bmlxdWVTb3J0PWZ1bmN0aW9uKGUpe3ZhciB0LHI9W10saT0wLHM9MDtpZihoPSFuLmRldGVjdER1cGxpY2F0ZXMsbD0hbi5zb3J0U3RhYmxlJiZlLnNsaWNlKDApLGUuc29ydChOKSxoKXtmb3IoO3Q9ZVtzKytdOyl0PT09ZVtzXSYmKGk9ci5wdXNoKHMpKTtmb3IoO2ktLTspZS5zcGxpY2UocltpXSwxKX1yZXR1cm4gbD1udWxsLGV9LGk9c2UuZ2V0VGV4dD1mdW5jdGlvbihlKXt2YXIgdCxuPVwiXCIscj0wLHM9ZS5ub2RlVHlwZTtpZihzKXtpZigxPT09c3x8OT09PXN8fDExPT09cyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPWkoZSl9ZWxzZSBpZigzPT09c3x8ND09PXMpcmV0dXJuIGUubm9kZVZhbHVlfWVsc2UgZm9yKDt0PWVbcisrXTspbis9aSh0KTtyZXR1cm4gbn0sKHI9c2Uuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86b2UsbWF0Y2g6WCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZShaLGVlKSxlWzNdPShlWzNdfHxlWzRdfHxlWzVdfHxcIlwiKS5yZXBsYWNlKFosZWUpLFwifj1cIj09PWVbMl0mJihlWzNdPVwiIFwiK2VbM10rXCIgXCIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLFwibnRoXCI9PT1lWzFdLnNsaWNlKDAsMyk/KGVbM118fHNlLmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKFwiZXZlblwiPT09ZVszXXx8XCJvZGRcIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHxcIm9kZFwiPT09ZVszXSkpOmVbM10mJnNlLmVycm9yKGVbMF0pLGV9LFBTRVVETzpmdW5jdGlvbihlKXt2YXIgdCxuPSFlWzZdJiZlWzJdO3JldHVybiBYLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXT9lWzJdPWVbNF18fGVbNV18fFwiXCI6biYmVS50ZXN0KG4pJiYodD1hKG4sITApKSYmKHQ9bi5pbmRleE9mKFwiKVwiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFosZWUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1lP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24oZSl7dmFyIHQ9d1tlK1wiIFwiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cChcIihefFwiK00rXCIpXCIrZStcIihcIitNK1wifCQpXCIpKSYmdyhlLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8dm9pZCAwIT09ZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1zZS5hdHRyKHIsZSk7cmV0dXJuIG51bGw9PWk/XCIhPVwiPT09dDohdHx8KGkrPVwiXCIsXCI9XCI9PT10P2k9PT1uOlwiIT1cIj09PXQ/aSE9PW46XCJePVwiPT09dD9uJiYwPT09aS5pbmRleE9mKG4pOlwiKj1cIj09PXQ/biYmaS5pbmRleE9mKG4pPi0xOlwiJD1cIj09PXQ/biYmaS5zbGljZSgtbi5sZW5ndGgpPT09bjpcIn49XCI9PT10PyhcIiBcIitpLnJlcGxhY2UoJCxcIiBcIikrXCIgXCIpLmluZGV4T2Yobik+LTE6XCJ8PVwiPT09dCYmKGk9PT1ufHxpLnNsaWNlKDAsbi5sZW5ndGgrMSk9PT1uK1wiLVwiKSl9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBzPVwibnRoXCIhPT1lLnNsaWNlKDAsMyksYT1cImxhc3RcIiE9PWUuc2xpY2UoLTQpLG89XCJvZi10eXBlXCI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbixkKXt2YXIgYyxsLGgsdSxmLHAsZz1zIT09YT9cIm5leHRTaWJsaW5nXCI6XCJwcmV2aW91c1NpYmxpbmdcIixfPXQucGFyZW50Tm9kZSxtPW8mJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx2PSFkJiYhbyx5PSExO2lmKF8pe2lmKHMpe2Zvcig7Zzspe2Zvcih1PXQ7dT11W2ddOylpZihvP3Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW06MT09PXUubm9kZVR5cGUpcmV0dXJuITE7cD1nPVwib25seVwiPT09ZSYmIXAmJlwibmV4dFNpYmxpbmdcIn1yZXR1cm4hMH1pZihwPVthP18uZmlyc3RDaGlsZDpfLmxhc3RDaGlsZF0sYSYmdil7Zm9yKHk9KGY9KGM9KGw9KGg9KHU9XylbeF18fCh1W3hdPXt9KSlbdS51bmlxdWVJRF18fChoW3UudW5pcXVlSURdPXt9KSlbZV18fFtdKVswXT09PWomJmNbMV0pJiZjWzJdLHU9ZiYmXy5jaGlsZE5vZGVzW2ZdO3U9KytmJiZ1JiZ1W2ddfHwoeT1mPTApfHxwLnBvcCgpOylpZigxPT09dS5ub2RlVHlwZSYmKyt5JiZ1PT09dCl7bFtlXT1baixmLHldO2JyZWFrfX1lbHNlIGlmKHYmJih5PWY9KGM9KGw9KGg9KHU9dClbeF18fCh1W3hdPXt9KSlbdS51bmlxdWVJRF18fChoW3UudW5pcXVlSURdPXt9KSlbZV18fFtdKVswXT09PWomJmNbMV0pLCExPT09eSlmb3IoOyh1PSsrZiYmdSYmdVtnXXx8KHk9Zj0wKXx8cC5wb3AoKSkmJigobz91Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT1tOjEhPT11Lm5vZGVUeXBlKXx8ISsreXx8KHYmJigobD0oaD11W3hdfHwodVt4XT17fSkpW3UudW5pcXVlSURdfHwoaFt1LnVuaXF1ZUlEXT17fSkpW2VdPVtqLHldKSx1IT09dCkpOyk7cmV0dXJuKHktPWkpPT09cnx8eSVyPT0wJiZ5L3I+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGUsdCl7dmFyIG4saT1yLnBzZXVkb3NbZV18fHIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcihcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIrZSk7cmV0dXJuIGlbeF0/aSh0KTppLmxlbmd0aD4xPyhuPVtlLGUsXCJcIix0XSxyLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9vZShmdW5jdGlvbihlLG4pe2Zvcih2YXIgcixzPWkoZSx0KSxhPXMubGVuZ3RoO2EtLTspZVtyPVAoZSxzW2FdKV09IShuW3JdPXNbYV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSwwLG4pfSk6aX19LHBzZXVkb3M6e25vdDpvZShmdW5jdGlvbihlKXt2YXIgdD1bXSxuPVtdLHI9byhlLnJlcGxhY2UoUixcIiQxXCIpKTtyZXR1cm4gclt4XT9vZShmdW5jdGlvbihlLHQsbixpKXtmb3IodmFyIHMsYT1yKGUsbnVsbCxpLFtdKSxvPWUubGVuZ3RoO28tLTspKHM9YVtvXSkmJihlW29dPSEodFtvXT1zKSl9KTpmdW5jdGlvbihlLGkscyl7cmV0dXJuIHRbMF09ZSxyKHQsbnVsbCxzLG4pLHRbMF09bnVsbCwhbi5wb3AoKX19KSxoYXM6b2UoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBzZShlLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOm9lKGZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZShaLGVlKSxmdW5jdGlvbih0KXtyZXR1cm4odC50ZXh0Q29udGVudHx8dC5pbm5lclRleHR8fGkodCkpLmluZGV4T2YoZSk+LTF9fSksbGFuZzpvZShmdW5jdGlvbihlKXtyZXR1cm4gSy50ZXN0KGV8fFwiXCIpfHxzZS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2UpLGU9ZS5yZXBsYWNlKFosZWUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG97aWYobj1nP3QubGFuZzp0LmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHx0LmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuKG49bi50b0xvd2VyQ2FzZSgpKT09PWV8fDA9PT1uLmluZGV4T2YoZStcIi1cIil9d2hpbGUoKHQ9dC5wYXJlbnROb2RlKSYmMT09PXQubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbih0KXt2YXIgbj1lLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmhhc2g7cmV0dXJuIG4mJm4uc2xpY2UoMSk9PT10LmlkfSxyb290OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09cH0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1mLmFjdGl2ZUVsZW1lbnQmJighZi5oYXNGb2N1c3x8Zi5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpmZSghMSksZGlzYWJsZWQ6ZmUoITApLGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJiEhZS5jaGVja2VkfHxcIm9wdGlvblwiPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PWUuc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4hci5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIEoudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFkudGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT10JiZcImJ1dHRvblwiPT09ZS50eXBlfHxcImJ1dHRvblwiPT09dH0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm5cImlucHV0XCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJlwidGV4dFwiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKXx8XCJ0ZXh0XCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpwZShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6cGUoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOnBlKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bbjwwP24rdDpuXX0pLGV2ZW46cGUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6cGUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpwZShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6bjstLXI+PTA7KWUucHVzaChyKTtyZXR1cm4gZX0pLGd0OnBlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1yLnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KXIucHNldWRvc1t0XT1oZSh0KTtmb3IodCBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KXIucHNldWRvc1t0XT11ZSh0KTtmdW5jdGlvbiBfZSgpe31mdW5jdGlvbiBtZShlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoLHI9XCJcIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gdmUoZSx0LG4pe3ZhciByPXQuZGlyLGk9dC5uZXh0LHM9aXx8cixhPW4mJlwicGFyZW50Tm9kZVwiPT09cyxvPWsrKztyZXR1cm4gdC5maXJzdD9mdW5jdGlvbih0LG4saSl7Zm9yKDt0PXRbcl07KWlmKDE9PT10Lm5vZGVUeXBlfHxhKXJldHVybiBlKHQsbixpKTtyZXR1cm4hMX06ZnVuY3Rpb24odCxuLGQpe3ZhciBjLGwsaCx1PVtqLG9dO2lmKGQpe2Zvcig7dD10W3JdOylpZigoMT09PXQubm9kZVR5cGV8fGEpJiZlKHQsbixkKSlyZXR1cm4hMH1lbHNlIGZvcig7dD10W3JdOylpZigxPT09dC5ub2RlVHlwZXx8YSlpZihsPShoPXRbeF18fCh0W3hdPXt9KSlbdC51bmlxdWVJRF18fChoW3QudW5pcXVlSURdPXt9KSxpJiZpPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXQ9dFtyXXx8dDtlbHNle2lmKChjPWxbc10pJiZjWzBdPT09aiYmY1sxXT09PW8pcmV0dXJuIHVbMl09Y1syXTtpZihsW3NdPXUsdVsyXT1lKHQsbixkKSlyZXR1cm4hMH1yZXR1cm4hMX19ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUubGVuZ3RoPjE/ZnVuY3Rpb24odCxuLHIpe2Zvcih2YXIgaT1lLmxlbmd0aDtpLS07KWlmKCFlW2ldKHQsbixyKSlyZXR1cm4hMTtyZXR1cm4hMH06ZVswXX1mdW5jdGlvbiB4ZShlLHQsbixyLGkpe2Zvcih2YXIgcyxhPVtdLG89MCxkPWUubGVuZ3RoLGM9bnVsbCE9dDtvPGQ7bysrKShzPWVbb10pJiYobiYmIW4ocyxyLGkpfHwoYS5wdXNoKHMpLGMmJnQucHVzaChvKSkpO3JldHVybiBhfWZ1bmN0aW9uIGJlKGUsdCxuLHIsaSxzKXtyZXR1cm4gciYmIXJbeF0mJihyPWJlKHIpKSxpJiYhaVt4XSYmKGk9YmUoaSxzKSksb2UoZnVuY3Rpb24ocyxhLG8sZCl7dmFyIGMsbCxoLHU9W10sZj1bXSxwPWEubGVuZ3RoLGc9c3x8ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wLGk9dC5sZW5ndGg7cjxpO3IrKylzZShlLHRbcl0sbik7cmV0dXJuIG59KHR8fFwiKlwiLG8ubm9kZVR5cGU/W29dOm8sW10pLF89IWV8fCFzJiZ0P2c6eGUoZyx1LGUsbyxkKSxtPW4/aXx8KHM/ZTpwfHxyKT9bXTphOl87aWYobiYmbihfLG0sbyxkKSxyKWZvcihjPXhlKG0sZikscihjLFtdLG8sZCksbD1jLmxlbmd0aDtsLS07KShoPWNbbF0pJiYobVtmW2xdXT0hKF9bZltsXV09aCkpO2lmKHMpe2lmKGl8fGUpe2lmKGkpe2ZvcihjPVtdLGw9bS5sZW5ndGg7bC0tOykoaD1tW2xdKSYmYy5wdXNoKF9bbF09aCk7aShudWxsLG09W10sYyxkKX1mb3IobD1tLmxlbmd0aDtsLS07KShoPW1bbF0pJiYoYz1pP1AocyxoKTp1W2xdKT4tMSYmKHNbY109IShhW2NdPWgpKX19ZWxzZSBtPXhlKG09PT1hP20uc3BsaWNlKHAsbS5sZW5ndGgpOm0pLGk/aShudWxsLGEsbSxkKTpMLmFwcGx5KGEsbSl9KX1mdW5jdGlvbiBqZShlKXtmb3IodmFyIHQsbixpLHM9ZS5sZW5ndGgsYT1yLnJlbGF0aXZlW2VbMF0udHlwZV0sbz1hfHxyLnJlbGF0aXZlW1wiIFwiXSxkPWE/MTowLGw9dmUoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSxvLCEwKSxoPXZlKGZ1bmN0aW9uKGUpe3JldHVybiBQKHQsZSk+LTF9LG8sITApLHU9W2Z1bmN0aW9uKGUsbixyKXt2YXIgaT0hYSYmKHJ8fG4hPT1jKXx8KCh0PW4pLm5vZGVUeXBlP2woZSxuLHIpOmgoZSxuLHIpKTtyZXR1cm4gdD1udWxsLGl9XTtkPHM7ZCsrKWlmKG49ci5yZWxhdGl2ZVtlW2RdLnR5cGVdKXU9W3ZlKHllKHUpLG4pXTtlbHNle2lmKChuPXIuZmlsdGVyW2VbZF0udHlwZV0uYXBwbHkobnVsbCxlW2RdLm1hdGNoZXMpKVt4XSl7Zm9yKGk9KytkO2k8cyYmIXIucmVsYXRpdmVbZVtpXS50eXBlXTtpKyspO3JldHVybiBiZShkPjEmJnllKHUpLGQ+MSYmbWUoZS5zbGljZSgwLGQtMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWVbZC0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZShSLFwiJDFcIiksbixkPGkmJmplKGUuc2xpY2UoZCxpKSksaTxzJiZqZShlPWUuc2xpY2UoaSkpLGk8cyYmbWUoZSkpfXUucHVzaChuKX1yZXR1cm4geWUodSl9cmV0dXJuIF9lLnByb3RvdHlwZT1yLmZpbHRlcnM9ci5wc2V1ZG9zLHIuc2V0RmlsdGVycz1uZXcgX2UsYT1zZS50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLGkscyxhLG8sZCxjLGw9Q1tlK1wiIFwiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTtmb3Iobz1lLGQ9W10sYz1yLnByZUZpbHRlcjtvOyl7Zm9yKGEgaW4gbiYmIShpPVcuZXhlYyhvKSl8fChpJiYobz1vLnNsaWNlKGlbMF0ubGVuZ3RoKXx8byksZC5wdXNoKHM9W10pKSxuPSExLChpPUIuZXhlYyhvKSkmJihuPWkuc2hpZnQoKSxzLnB1c2goe3ZhbHVlOm4sdHlwZTppWzBdLnJlcGxhY2UoUixcIiBcIil9KSxvPW8uc2xpY2Uobi5sZW5ndGgpKSxyLmZpbHRlcikhKGk9WFthXS5leGVjKG8pKXx8Y1thXSYmIShpPWNbYV0oaSkpfHwobj1pLnNoaWZ0KCkscy5wdXNoKHt2YWx1ZTpuLHR5cGU6YSxtYXRjaGVzOml9KSxvPW8uc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9vLmxlbmd0aDpvP3NlLmVycm9yKGUpOkMoZSxkKS5zbGljZSgwKX0sbz1zZS5jb21waWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4saT1bXSxzPVtdLG89VFtlK1wiIFwiXTtpZighbyl7Zm9yKHR8fCh0PWEoZSkpLG49dC5sZW5ndGg7bi0tOykobz1qZSh0W25dKSlbeF0/aS5wdXNoKG8pOnMucHVzaChvKTsobz1UKGUsZnVuY3Rpb24oZSx0KXt2YXIgbj10Lmxlbmd0aD4wLGk9ZS5sZW5ndGg+MCxzPWZ1bmN0aW9uKHMsYSxvLGQsbCl7dmFyIGgscCxfLG09MCx2PVwiMFwiLHk9cyYmW10seD1bXSxiPWMsaz1zfHxpJiZyLmZpbmQuVEFHKFwiKlwiLGwpLHc9ais9bnVsbD09Yj8xOk1hdGgucmFuZG9tKCl8fC4xLEM9ay5sZW5ndGg7Zm9yKGwmJihjPWE9PT1mfHxhfHxsKTt2IT09QyYmbnVsbCE9KGg9a1t2XSk7disrKXtpZihpJiZoKXtmb3IocD0wLGF8fGgub3duZXJEb2N1bWVudD09PWZ8fCh1KGgpLG89IWcpO189ZVtwKytdOylpZihfKGgsYXx8ZixvKSl7ZC5wdXNoKGgpO2JyZWFrfWwmJihqPXcpfW4mJigoaD0hXyYmaCkmJm0tLSxzJiZ5LnB1c2goaCkpfWlmKG0rPXYsbiYmdiE9PW0pe2ZvcihwPTA7Xz10W3ArK107KV8oeSx4LGEsbyk7aWYocyl7aWYobT4wKWZvcig7di0tOyl5W3ZdfHx4W3ZdfHwoeFt2XT1BLmNhbGwoZCkpO3g9eGUoeCl9TC5hcHBseShkLHgpLGwmJiFzJiZ4Lmxlbmd0aD4wJiZtK3QubGVuZ3RoPjEmJnNlLnVuaXF1ZVNvcnQoZCl9cmV0dXJuIGwmJihqPXcsYz1iKSx5fTtyZXR1cm4gbj9vZShzKTpzfShzLGkpKSkuc2VsZWN0b3I9ZX1yZXR1cm4gb30sZD1zZS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHMsZCxjLGwsaCx1PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUsZj0haSYmYShlPXUuc2VsZWN0b3J8fGUpO2lmKG49bnx8W10sMT09PWYubGVuZ3RoKXtpZigoZD1mWzBdPWZbMF0uc2xpY2UoMCkpLmxlbmd0aD4yJiZcIklEXCI9PT0oYz1kWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmZyYmci5yZWxhdGl2ZVtkWzFdLnR5cGVdKXtpZighKHQ9KHIuZmluZC5JRChjLm1hdGNoZXNbMF0ucmVwbGFjZShaLGVlKSx0KXx8W10pWzBdKSlyZXR1cm4gbjt1JiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZShkLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3Iocz1YLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6ZC5sZW5ndGg7cy0tJiYoYz1kW3NdLCFyLnJlbGF0aXZlW2w9Yy50eXBlXSk7KWlmKChoPXIuZmluZFtsXSkmJihpPWgoYy5tYXRjaGVzWzBdLnJlcGxhY2UoWixlZSksUS50ZXN0KGRbMF0udHlwZSkmJmdlKHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoZC5zcGxpY2UocywxKSwhKGU9aS5sZW5ndGgmJm1lKGQpKSlyZXR1cm4gTC5hcHBseShuLGkpLG47YnJlYWt9fXJldHVybih1fHxvKGUsZikpKGksdCwhZyxuLCF0fHxRLnRlc3QoZSkmJmdlKHQucGFyZW50Tm9kZSl8fHQpLG59LG4uc29ydFN0YWJsZT14LnNwbGl0KFwiXCIpLnNvcnQoTikuam9pbihcIlwiKT09PXgsbi5kZXRlY3REdXBsaWNhdGVzPSEhaCx1KCksbi5zb3J0RGV0YWNoZWQ9ZGUoZnVuY3Rpb24oZSl7cmV0dXJuIDEmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihmLmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKSl9KSxkZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxjZShcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIixmdW5jdGlvbihlLHQsbil7aWYoIW4pcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsXCJ0eXBlXCI9PT10LnRvTG93ZXJDYXNlKCk/MToyKX0pLG4uYXR0cmlidXRlcyYmZGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fGNlKFwidmFsdWVcIixmdW5jdGlvbihlLHQsbil7aWYoIW4mJlwiaW5wdXRcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxkZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKX0pfHxjZShxLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZighbilyZXR1cm4hMD09PWVbdF0/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHNlfShyKTt3LmZpbmQ9Tix3LmV4cHI9Ti5zZWxlY3RvcnMsdy5leHByW1wiOlwiXT13LmV4cHIucHNldWRvcyx3LnVuaXF1ZVNvcnQ9dy51bmlxdWU9Ti51bmlxdWVTb3J0LHcudGV4dD1OLmdldFRleHQsdy5pc1hNTERvYz1OLmlzWE1MLHcuY29udGFpbnM9Ti5jb250YWlucyx3LmVzY2FwZVNlbGVjdG9yPU4uZXNjYXBlO3ZhciBTPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT12b2lkIDAhPT1uOyhlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZTspaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJncoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxFPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxBPXcuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gTyhlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIEw9L148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2k7ZnVuY3Rpb24gRChlLHQsbil7cmV0dXJuIHkodCk/dy5ncmVwKGUsZnVuY3Rpb24oZSxyKXtyZXR1cm4hIXQuY2FsbChlLHIsZSkhPT1ufSk6dC5ub2RlVHlwZT93LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQhPT1ufSk6XCJzdHJpbmdcIiE9dHlwZW9mIHQ/dy5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHUuY2FsbCh0LGUpPi0xIT09bn0pOncuZmlsdGVyKHQsZSxuKX13LmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9XCI6bm90KFwiK2UrXCIpXCIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/dy5maW5kLm1hdGNoZXNTZWxlY3RvcihyLGUpP1tyXTpbXTp3LmZpbmQubWF0Y2hlcyhlLHcuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sdy5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMubGVuZ3RoLGk9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sodyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYody5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKyl3LmZpbmQoZSxpW3RdLG4pO3JldHVybiByPjE/dy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRCh0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRCh0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhRCh0aGlzLFwic3RyaW5nXCI9PXR5cGVvZiBlJiZBLnRlc3QoZSk/dyhlKTplfHxbXSwhMSkubGVuZ3RofX0pO3ZhciBQLHE9L14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC87KHcuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fFAsXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKCEocj1cIjxcIj09PWVbMF0mJlwiPlwiPT09ZVtlLmxlbmd0aC0xXSYmZS5sZW5ndGg+PTM/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIHc/dFswXTp0LHcubWVyZ2UodGhpcyx3LnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0Om8sITApKSxMLnRlc3QoclsxXSkmJncuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KXkodGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1vLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTp5KGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKHcpOncubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9dy5mbixQPXcobyk7dmFyIE09L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBGKGUsdCl7Zm9yKDsoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGU7KTtyZXR1cm4gZX13LmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PXcoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYody5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxzPVtdLGE9XCJzdHJpbmdcIiE9dHlwZW9mIGUmJncoZSk7aWYoIUEudGVzdChlKSlmb3IoO3I8aTtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZihuLm5vZGVUeXBlPDExJiYoYT9hLmluZGV4KG4pPi0xOjE9PT1uLm5vZGVUeXBlJiZ3LmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtzLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKHMubGVuZ3RoPjE/dy51bmlxdWVTb3J0KHMpOnMpfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT91LmNhbGwodyhlKSx0aGlzWzBdKTp1LmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHcudW5pcXVlU29ydCh3Lm1lcmdlKHRoaXMuZ2V0KCksdyhlLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX19KSx3LmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIFMoZSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMoZSxcInBhcmVudE5vZGVcIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gRihlLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIEYoZSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gUyhlLFwibmV4dFNpYmxpbmdcIil9LHByZXZBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIFMoZSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUyhlLFwibmV4dFNpYmxpbmdcIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUyhlLFwicHJldmlvdXNTaWJsaW5nXCIsbil9LHNpYmxpbmdzOmZ1bmN0aW9uKGUpe3JldHVybiBFKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gRShlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLFwiaWZyYW1lXCIpP2UuY29udGVudERvY3VtZW50OihPKGUsXCJ0ZW1wbGF0ZVwiKSYmKGU9ZS5jb250ZW50fHxlKSx3Lm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfX0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9dy5tYXAodGhpcyx0LG4pO3JldHVyblwiVW50aWxcIiE9PWUuc2xpY2UoLTUpJiYocj1uKSxyJiZcInN0cmluZ1wiPT10eXBlb2YgciYmKGk9dy5maWx0ZXIocixpKSksdGhpcy5sZW5ndGg+MSYmKEhbZV18fHcudW5pcXVlU29ydChpKSxNLnRlc3QoZSkmJmkucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhpKX19KTt2YXIgST0vW15cXHgyMFxcdFxcclxcblxcZl0rL2c7ZnVuY3Rpb24gJChlKXtyZXR1cm4gZX1mdW5jdGlvbiBSKGUpe3Rocm93IGV9ZnVuY3Rpb24gVyhlLHQsbixyKXt2YXIgaTt0cnl7ZSYmeShpPWUucHJvbWlzZSk/aS5jYWxsKGUpLmRvbmUodCkuZmFpbChuKTplJiZ5KGk9ZS50aGVuKT9pLmNhbGwoZSx0LG4pOnQuYXBwbHkodm9pZCAwLFtlXS5zbGljZShyKSl9Y2F0Y2goZSl7bi5hcHBseSh2b2lkIDAsW2VdKX19dy5DYWxsYmFja3M9ZnVuY3Rpb24oZSl7ZT1cInN0cmluZ1wiPT10eXBlb2YgZT9mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdy5lYWNoKGUubWF0Y2goSSl8fFtdLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9KGUpOncuZXh0ZW5kKHt9LGUpO3ZhciB0LG4scixpLHM9W10sYT1bXSxvPS0xLGQ9ZnVuY3Rpb24oKXtmb3IoaT1pfHxlLm9uY2Uscj10PSEwO2EubGVuZ3RoO289LTEpZm9yKG49YS5zaGlmdCgpOysrbzxzLmxlbmd0aDspITE9PT1zW29dLmFwcGx5KG5bMF0sblsxXSkmJmUuc3RvcE9uRmFsc2UmJihvPXMubGVuZ3RoLG49ITEpO2UubWVtb3J5fHwobj0hMSksdD0hMSxpJiYocz1uP1tdOlwiXCIpfSxjPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gcyYmKG4mJiF0JiYobz1zLmxlbmd0aC0xLGEucHVzaChuKSksZnVuY3Rpb24gdChuKXt3LmVhY2gobixmdW5jdGlvbihuLHIpe3kocik/ZS51bmlxdWUmJmMuaGFzKHIpfHxzLnB1c2gocik6ciYmci5sZW5ndGgmJlwic3RyaW5nXCIhPT1rKHIpJiZ0KHIpfSl9KGFyZ3VtZW50cyksbiYmIXQmJmQoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHcuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG47KG49dy5pbkFycmF5KHQscyxuKSk+LTE7KXMuc3BsaWNlKG4sMSksbjw9byYmby0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlP3cuaW5BcnJheShlLHMpPi0xOnMubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHMmJihzPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGk9YT1bXSxzPW49XCJcIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFzfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGk9YT1bXSxufHx0fHwocz1uPVwiXCIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhaX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gaXx8KG49W2UsKG49bnx8W10pLnNsaWNlP24uc2xpY2UoKTpuXSxhLnB1c2gobiksdHx8ZCgpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGMuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFyfX07cmV0dXJuIGN9LHcuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgdD1bW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLHcuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLHcuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLDJdLFtcInJlc29sdmVcIixcImRvbmVcIix3LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHcuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksMCxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLHcuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksdy5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwxLFwicmVqZWN0ZWRcIl1dLG49XCJwZW5kaW5nXCIsaT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGEuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSxjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gaS50aGVuKG51bGwsZSl9LHBpcGU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cmV0dXJuIHcuRGVmZXJyZWQoZnVuY3Rpb24obil7dy5lYWNoKHQsZnVuY3Rpb24odCxyKXt2YXIgaT15KGVbcls0XV0pJiZlW3JbNF1dO2FbclsxXV0oZnVuY3Rpb24oKXt2YXIgZT1pJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZ5KGUucHJvbWlzZSk/ZS5wcm9taXNlKCkucHJvZ3Jlc3Mobi5ub3RpZnkpLmRvbmUobi5yZXNvbHZlKS5mYWlsKG4ucmVqZWN0KTpuW3JbMF0rXCJXaXRoXCJdKHRoaXMsaT9bZV06YXJndW1lbnRzKX0pfSksZT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKGUsbixpKXt2YXIgYT0wO2Z1bmN0aW9uIG8oZSx0LG4saSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxjPWFyZ3VtZW50cyxsPWZ1bmN0aW9uKCl7dmFyIHIsbDtpZighKGU8YSkpe2lmKChyPW4uYXBwbHkoZCxjKSk9PT10LnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uXCIpO2w9ciYmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09cj9cInVuZGVmaW5lZFwiOnMocikpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiByKSYmci50aGVuLHkobCk/aT9sLmNhbGwocixvKGEsdCwkLGkpLG8oYSx0LFIsaSkpOihhKyssbC5jYWxsKHIsbyhhLHQsJCxpKSxvKGEsdCxSLGkpLG8oYSx0LCQsdC5ub3RpZnlXaXRoKSkpOihuIT09JCYmKGQ9dm9pZCAwLGM9W3JdKSwoaXx8dC5yZXNvbHZlV2l0aCkoZCxjKSl9fSxoPWk/bDpmdW5jdGlvbigpe3RyeXtsKCl9Y2F0Y2gocil7dy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZ3LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2socixoLnN0YWNrVHJhY2UpLGUrMT49YSYmKG4hPT1SJiYoZD12b2lkIDAsYz1bcl0pLHQucmVqZWN0V2l0aChkLGMpKX19O2U/aCgpOih3LkRlZmVycmVkLmdldFN0YWNrSG9vayYmKGguc3RhY2tUcmFjZT13LkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxyLnNldFRpbWVvdXQoaCkpfX1yZXR1cm4gdy5EZWZlcnJlZChmdW5jdGlvbihyKXt0WzBdWzNdLmFkZChvKDAscix5KGkpP2k6JCxyLm5vdGlmeVdpdGgpKSx0WzFdWzNdLmFkZChvKDAscix5KGUpP2U6JCkpLHRbMl1bM10uYWRkKG8oMCxyLHkobik/bjpSKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/dy5leHRlbmQoZSxpKTppfX0sYT17fTtyZXR1cm4gdy5lYWNoKHQsZnVuY3Rpb24oZSxyKXt2YXIgcz1yWzJdLG89cls1XTtpW3JbMV1dPXMuYWRkLG8mJnMuYWRkKGZ1bmN0aW9uKCl7bj1vfSx0WzMtZV1bMl0uZGlzYWJsZSx0WzMtZV1bM10uZGlzYWJsZSx0WzBdWzJdLmxvY2ssdFswXVszXS5sb2NrKSxzLmFkZChyWzNdLmZpcmUpLGFbclswXV09ZnVuY3Rpb24oKXtyZXR1cm4gYVtyWzBdK1wiV2l0aFwiXSh0aGlzPT09YT92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGFbclswXStcIldpdGhcIl09cy5maXJlV2l0aH0pLGkucHJvbWlzZShhKSxlJiZlLmNhbGwoYSxhKSxhfSx3aGVuOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj10LHI9QXJyYXkobiksaT1jLmNhbGwoYXJndW1lbnRzKSxzPXcuRGVmZXJyZWQoKSxhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtyW2VdPXRoaXMsaVtlXT1hcmd1bWVudHMubGVuZ3RoPjE/Yy5jYWxsKGFyZ3VtZW50cyk6biwtLXR8fHMucmVzb2x2ZVdpdGgocixpKX19O2lmKHQ8PTEmJihXKGUscy5kb25lKGEobikpLnJlc29sdmUscy5yZWplY3QsIXQpLFwicGVuZGluZ1wiPT09cy5zdGF0ZSgpfHx5KGlbbl0mJmlbbl0udGhlbikpKXJldHVybiBzLnRoZW4oKTtmb3IoO24tLTspVyhpW25dLGEobikscy5yZWplY3QpO3JldHVybiBzLnByb21pc2UoKX19KTt2YXIgQj0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLzt3LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtyLmNvbnNvbGUmJnIuY29uc29sZS53YXJuJiZlJiZCLnRlc3QoZS5uYW1lKSYmci5jb25zb2xlLndhcm4oXCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiBcIitlLm1lc3NhZ2UsZS5zdGFjayx0KX0sdy5yZWFkeUV4Y2VwdGlvbj1mdW5jdGlvbihlKXtyLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlfSl9O3ZhciB6PXcuRGVmZXJyZWQoKTtmdW5jdGlvbiBVKCl7by5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFUpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixVKSx3LnJlYWR5KCl9dy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gei50aGVuKGUpLmNhdGNoKGZ1bmN0aW9uKGUpe3cucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSx3LmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tdy5yZWFkeVdhaXQ6dy5pc1JlYWR5KXx8KHcuaXNSZWFkeT0hMCwhMCE9PWUmJi0tdy5yZWFkeVdhaXQ+MHx8ei5yZXNvbHZlV2l0aChvLFt3XSkpfX0pLHcucmVhZHkudGhlbj16LnRoZW4sXCJjb21wbGV0ZVwiPT09by5yZWFkeVN0YXRlfHxcImxvYWRpbmdcIiE9PW8ucmVhZHlTdGF0ZSYmIW8uZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP3Iuc2V0VGltZW91dCh3LnJlYWR5KTooby5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFUpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixVKSk7dmFyIEs9ZnVuY3Rpb24gZSh0LG4scixpLHMsYSxvKXt2YXIgZD0wLGM9dC5sZW5ndGgsbD1udWxsPT1yO2lmKFwib2JqZWN0XCI9PT1rKHIpKWZvcihkIGluIHM9ITAscillKHQsbixkLHJbZF0sITAsYSxvKTtlbHNlIGlmKHZvaWQgMCE9PWkmJihzPSEwLHkoaSl8fChvPSEwKSxsJiYobz8obi5jYWxsKHQsaSksbj1udWxsKToobD1uLG49ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwodyhlKSxuKX0pKSxuKSlmb3IoO2Q8YztkKyspbih0W2RdLHIsbz9pOmkuY2FsbCh0W2RdLGQsbih0W2RdLHIpKSk7cmV0dXJuIHM/dDpsP24uY2FsbCh0KTpjP24odFswXSxyKTphfSxYPS9eLW1zLS8sWT0vLShbYS16XSkvZztmdW5jdGlvbiBKKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBWKGUpe3JldHVybiBlLnJlcGxhY2UoWCxcIm1zLVwiKS5yZXBsYWNlKFksSil9dmFyIEc9ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfHw5PT09ZS5ub2RlVHlwZXx8IStlLm5vZGVUeXBlfTtmdW5jdGlvbiBRKCl7dGhpcy5leHBhbmRvPXcuZXhwYW5kbytRLnVpZCsrfVEudWlkPTEsUS5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sRyhlKSYmKGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMuY2FjaGUoZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpaVtWKHQpXT1uO2Vsc2UgZm9yKHIgaW4gdClpW1YocildPXRbcl07cmV0dXJuIGl9LGdldDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXMuY2FjaGUoZSk6ZVt0aGlzLmV4cGFuZG9dJiZlW3RoaXMuZXhwYW5kb11bVih0KV19LGFjY2VzczpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PXR8fHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChWKToodD1WKHQpKWluIHI/W3RdOnQubWF0Y2goSSl8fFtdKS5sZW5ndGg7Zm9yKDtuLS07KWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHx3LmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiF3LmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWj1uZXcgUSxlZT1uZXcgUSx0ZT0vXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sbmU9L1tBLVpdL2c7ZnVuY3Rpb24gcmUoZSx0LG4pe3ZhciByO2lmKHZvaWQgMD09PW4mJjE9PT1lLm5vZGVUeXBlKWlmKHI9XCJkYXRhLVwiK3QucmVwbGFjZShuZSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpLFwic3RyaW5nXCI9PXR5cGVvZihuPWUuZ2V0QXR0cmlidXRlKHIpKSl7dHJ5e249ZnVuY3Rpb24oZSl7cmV0dXJuXCJ0cnVlXCI9PT1lfHxcImZhbHNlXCIhPT1lJiYoXCJudWxsXCI9PT1lP251bGw6ZT09PStlK1wiXCI/K2U6dGUudGVzdChlKT9KU09OLnBhcnNlKGUpOmUpfShuKX1jYXRjaChlKXt9ZWUuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufXcuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBlZS5oYXNEYXRhKGUpfHxaLmhhc0RhdGEoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlZS5hY2Nlc3MoZSx0LG4pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7ZWUucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWi5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1oucmVtb3ZlKGUsdCl9fSksdy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksYT10aGlzWzBdLG89YSYmYS5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWUpe2lmKHRoaXMubGVuZ3RoJiYoaT1lZS5nZXQoYSksMT09PWEubm9kZVR5cGUmJiFaLmdldChhLFwiaGFzRGF0YUF0dHJzXCIpKSl7Zm9yKG49by5sZW5ndGg7bi0tOylvW25dJiYwPT09KHI9b1tuXS5uYW1lKS5pbmRleE9mKFwiZGF0YS1cIikmJihyPVYoci5zbGljZSg1KSkscmUoYSxyLGlbcl0pKTtaLnNldChhLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBpfXJldHVyblwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnMoZSkpP3RoaXMuZWFjaChmdW5jdGlvbigpe2VlLnNldCh0aGlzLGUpfSk6Syh0aGlzLGZ1bmN0aW9uKHQpe3ZhciBuO2lmKGEmJnZvaWQgMD09PXQpcmV0dXJuIHZvaWQgMCE9PShuPWVlLmdldChhLGUpKT9uOnZvaWQgMCE9PShuPXJlKGEsZSkpP246dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe2VlLnNldCh0aGlzLGUsdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZWUucmVtb3ZlKHRoaXMsZSl9KX19KSx3LmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fFwiZnhcIikrXCJxdWV1ZVwiLHI9Wi5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1aLmFjY2VzcyhlLHQsdy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fFwiZnhcIjt2YXIgbj13LnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxzPXcuX3F1ZXVlSG9va3MoZSx0KTtcImlucHJvZ3Jlc3NcIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJihcImZ4XCI9PT10JiZuLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLGRlbGV0ZSBzLnN0b3AsaS5jYWxsKGUsZnVuY3Rpb24oKXt3LmRlcXVldWUoZSx0KX0scykpLCFyJiZzJiZzLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10K1wicXVldWVIb29rc1wiO3JldHVybiBaLmdldChlLG4pfHxaLmFjY2VzcyhlLG4se2VtcHR5OncuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7Wi5yZW1vdmUoZSxbdCtcInF1ZXVlXCIsbl0pfSl9KX19KSx3LmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlJiYodD1lLGU9XCJmeFwiLG4tLSksYXJndW1lbnRzLmxlbmd0aDxuP3cucXVldWUodGhpc1swXSxlKTp2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dy5xdWV1ZSh0aGlzLGUsdCk7dy5fcXVldWVIb29rcyh0aGlzLGUpLFwiZnhcIj09PWUmJlwiaW5wcm9ncmVzc1wiIT09blswXSYmdy5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5kZXF1ZXVlKHRoaXMsZSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9dy5EZWZlcnJlZCgpLHM9dGhpcyxhPXRoaXMubGVuZ3RoLG89ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgocyxbc10pfTtmb3IoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8XCJmeFwiO2EtLTspKG49Wi5nZXQoc1thXSxlK1wicXVldWVIb29rc1wiKSkmJm4uZW1wdHkmJihyKyssbi5lbXB0eS5hZGQobykpO3JldHVybiBvKCksaS5wcm9taXNlKHQpfX0pO3ZhciBpZT0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2Usc2U9bmV3IFJlZ0V4cChcIl4oPzooWystXSk9fCkoXCIraWUrXCIpKFthLXolXSopJFwiLFwiaVwiKSxhZT1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sb2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIm5vbmVcIj09PShlPXR8fGUpLnN0eWxlLmRpc3BsYXl8fFwiXCI9PT1lLnN0eWxlLmRpc3BsYXkmJncuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpJiZcIm5vbmVcIj09PXcuY3NzKGUsXCJkaXNwbGF5XCIpfSxkZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxzLGE9e307Zm9yKHMgaW4gdClhW3NdPWUuc3R5bGVbc10sZS5zdHlsZVtzXT10W3NdO2ZvcihzIGluIGk9bi5hcHBseShlLHJ8fFtdKSx0KWUuc3R5bGVbc109YVtzXTtyZXR1cm4gaX07ZnVuY3Rpb24gY2UoZSx0LG4scil7dmFyIGkscyxhPTIwLG89cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiB3LmNzcyhlLHQsXCJcIil9LGQ9bygpLGM9biYmblszXXx8KHcuY3NzTnVtYmVyW3RdP1wiXCI6XCJweFwiKSxsPSh3LmNzc051bWJlclt0XXx8XCJweFwiIT09YyYmK2QpJiZzZS5leGVjKHcuY3NzKGUsdCkpO2lmKGwmJmxbM10hPT1jKXtmb3IoZC89MixjPWN8fGxbM10sbD0rZHx8MTthLS07KXcuc3R5bGUoZSx0LGwrYyksKDEtcykqKDEtKHM9bygpL2R8fC41KSk8PTAmJihhPTApLGwvPXM7bCo9Mix3LnN0eWxlKGUsdCxsK2MpLG49bnx8W119cmV0dXJuIG4mJihsPStsfHwrZHx8MCxpPW5bMV0/bCsoblsxXSsxKSpuWzJdOituWzJdLHImJihyLnVuaXQ9YyxyLnN0YXJ0PWwsci5lbmQ9aSkpLGl9dmFyIGxlPXt9O2Z1bmN0aW9uIGhlKGUpe3ZhciB0LG49ZS5vd25lckRvY3VtZW50LHI9ZS5ub2RlTmFtZSxpPWxlW3JdO3JldHVybiBpfHwodD1uLmJvZHkuYXBwZW5kQ2hpbGQobi5jcmVhdGVFbGVtZW50KHIpKSxpPXcuY3NzKHQsXCJkaXNwbGF5XCIpLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxcIm5vbmVcIj09PWkmJihpPVwiYmxvY2tcIiksbGVbcl09aSxpKX1mdW5jdGlvbiB1ZShlLHQpe2Zvcih2YXIgbixyLGk9W10scz0wLGE9ZS5sZW5ndGg7czxhO3MrKykocj1lW3NdKS5zdHlsZSYmKG49ci5zdHlsZS5kaXNwbGF5LHQ/KFwibm9uZVwiPT09biYmKGlbc109Wi5nZXQocixcImRpc3BsYXlcIil8fG51bGwsaVtzXXx8KHIuc3R5bGUuZGlzcGxheT1cIlwiKSksXCJcIj09PXIuc3R5bGUuZGlzcGxheSYmb2UocikmJihpW3NdPWhlKHIpKSk6XCJub25lXCIhPT1uJiYoaVtzXT1cIm5vbmVcIixaLnNldChyLFwiZGlzcGxheVwiLG4pKSk7Zm9yKHM9MDtzPGE7cysrKW51bGwhPWlbc10mJihlW3NdLnN0eWxlLmRpc3BsYXk9aVtzXSk7cmV0dXJuIGV9dy5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdWUodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdWUodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtvZSh0aGlzKT93KHRoaXMpLnNob3coKTp3KHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBmZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxwZT0vPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSspL2ksZ2U9L14kfF5tb2R1bGUkfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxfZT17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O2Z1bmN0aW9uIG1lKGUsdCl7dmFyIG47cmV0dXJuIG49dm9pZCAwIT09ZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fFwiKlwiKTp2b2lkIDAhPT1lLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fFwiKlwiKTpbXSx2b2lkIDA9PT10fHx0JiZPKGUsdCk/dy5tZXJnZShbZV0sbik6bn1mdW5jdGlvbiB2ZShlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylaLnNldChlW25dLFwiZ2xvYmFsRXZhbFwiLCF0fHxaLmdldCh0W25dLFwiZ2xvYmFsRXZhbFwiKSl9X2Uub3B0Z3JvdXA9X2Uub3B0aW9uLF9lLnRib2R5PV9lLnRmb290PV9lLmNvbGdyb3VwPV9lLmNhcHRpb249X2UudGhlYWQsX2UudGg9X2UudGQ7dmFyIHllLHhlLGJlPS88fCYjP1xcdys7LztmdW5jdGlvbiBqZShlLHQsbixyLGkpe2Zvcih2YXIgcyxhLG8sZCxjLGwsaD10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx1PVtdLGY9MCxwPWUubGVuZ3RoO2Y8cDtmKyspaWYoKHM9ZVtmXSl8fDA9PT1zKWlmKFwib2JqZWN0XCI9PT1rKHMpKXcubWVyZ2UodSxzLm5vZGVUeXBlP1tzXTpzKTtlbHNlIGlmKGJlLnRlc3Qocykpe2ZvcihhPWF8fGguYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxvPShwZS5leGVjKHMpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxkPV9lW29dfHxfZS5fZGVmYXVsdCxhLmlubmVySFRNTD1kWzFdK3cuaHRtbFByZWZpbHRlcihzKStkWzJdLGw9ZFswXTtsLS07KWE9YS5sYXN0Q2hpbGQ7dy5tZXJnZSh1LGEuY2hpbGROb2RlcyksKGE9aC5maXJzdENoaWxkKS50ZXh0Q29udGVudD1cIlwifWVsc2UgdS5wdXNoKHQuY3JlYXRlVGV4dE5vZGUocykpO2ZvcihoLnRleHRDb250ZW50PVwiXCIsZj0wO3M9dVtmKytdOylpZihyJiZ3LmluQXJyYXkocyxyKT4tMSlpJiZpLnB1c2gocyk7ZWxzZSBpZihjPXcuY29udGFpbnMocy5vd25lckRvY3VtZW50LHMpLGE9bWUoaC5hcHBlbmRDaGlsZChzKSxcInNjcmlwdFwiKSxjJiZ2ZShhKSxuKWZvcihsPTA7cz1hW2wrK107KWdlLnRlc3Qocy50eXBlfHxcIlwiKSYmbi5wdXNoKHMpO3JldHVybiBofXllPW8uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKG8uY3JlYXRlRWxlbWVudChcImRpdlwiKSksKHhlPW8uY3JlYXRlRWxlbWVudChcImlucHV0XCIpKS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSx4ZS5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsXCJjaGVja2VkXCIpLHhlLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcInRcIikseWUuYXBwZW5kQ2hpbGQoeGUpLHYuY2hlY2tDbG9uZT15ZS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQseWUuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLHYubm9DbG9uZUNoZWNrZWQ9ISF5ZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7dmFyIGtlPW8uZG9jdW1lbnRFbGVtZW50LHdlPS9ea2V5LyxDZT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sVGU9L14oW14uXSopKD86XFwuKC4rKXwpLztmdW5jdGlvbiBOZSgpe3JldHVybiEwfWZ1bmN0aW9uIFNlKCl7cmV0dXJuITF9ZnVuY3Rpb24gRWUoKXt0cnl7cmV0dXJuIG8uYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fWZ1bmN0aW9uIEFlKGUsdCxuLHIsaSxhKXt2YXIgbyxkO2lmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOnModCkpKXtmb3IoZCBpblwic3RyaW5nXCIhPXR5cGVvZiBuJiYocj1yfHxuLG49dm9pZCAwKSx0KUFlKGUsZCxuLHIsdFtkXSxhKTtyZXR1cm4gZX1pZihudWxsPT1yJiZudWxsPT1pPyhpPW4scj1uPXZvaWQgMCk6bnVsbD09aSYmKFwic3RyaW5nXCI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9U2U7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PWEmJihvPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoKS5vZmYoZSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPW8uZ3VpZHx8KG8uZ3VpZD13Lmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe3cuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX13LmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHMsYSxvLGQsYyxsLGgsdSxmLHAsZyxfPVouZ2V0KGUpO2lmKF8pZm9yKG4uaGFuZGxlciYmKG49KHM9bikuaGFuZGxlcixpPXMuc2VsZWN0b3IpLGkmJncuZmluZC5tYXRjaGVzU2VsZWN0b3Ioa2UsaSksbi5ndWlkfHwobi5ndWlkPXcuZ3VpZCsrKSwoZD1fLmV2ZW50cyl8fChkPV8uZXZlbnRzPXt9KSwoYT1fLmhhbmRsZSl8fChhPV8uaGFuZGxlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT13JiZ3LmV2ZW50LnRyaWdnZXJlZCE9PXQudHlwZT93LmV2ZW50LmRpc3BhdGNoLmFwcGx5KGUsYXJndW1lbnRzKTp2b2lkIDB9KSxjPSh0PSh0fHxcIlwiKS5tYXRjaChJKXx8W1wiXCJdKS5sZW5ndGg7Yy0tOylmPWc9KG89VGUuZXhlYyh0W2NdKXx8W10pWzFdLHA9KG9bMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksZiYmKGg9dy5ldmVudC5zcGVjaWFsW2ZdfHx7fSxmPShpP2guZGVsZWdhdGVUeXBlOmguYmluZFR5cGUpfHxmLGg9dy5ldmVudC5zcGVjaWFsW2ZdfHx7fSxsPXcuZXh0ZW5kKHt0eXBlOmYsb3JpZ1R5cGU6ZyxkYXRhOnIsaGFuZGxlcjpuLGd1aWQ6bi5ndWlkLHNlbGVjdG9yOmksbmVlZHNDb250ZXh0OmkmJncuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChpKSxuYW1lc3BhY2U6cC5qb2luKFwiLlwiKX0scyksKHU9ZFtmXSl8fCgodT1kW2ZdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsaC5zZXR1cCYmITEhPT1oLnNldHVwLmNhbGwoZSxyLHAsYSl8fGUuYWRkRXZlbnRMaXN0ZW5lciYmZS5hZGRFdmVudExpc3RlbmVyKGYsYSkpLGguYWRkJiYoaC5hZGQuY2FsbChlLGwpLGwuaGFuZGxlci5ndWlkfHwobC5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT91LnNwbGljZSh1LmRlbGVnYXRlQ291bnQrKywwLGwpOnUucHVzaChsKSx3LmV2ZW50Lmdsb2JhbFtmXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBzLGEsbyxkLGMsbCxoLHUsZixwLGcsXz1aLmhhc0RhdGEoZSkmJlouZ2V0KGUpO2lmKF8mJihkPV8uZXZlbnRzKSl7Zm9yKGM9KHQ9KHR8fFwiXCIpLm1hdGNoKEkpfHxbXCJcIl0pLmxlbmd0aDtjLS07KWlmKGY9Zz0obz1UZS5leGVjKHRbY10pfHxbXSlbMV0scD0ob1syXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxmKXtmb3IoaD13LmV2ZW50LnNwZWNpYWxbZl18fHt9LHU9ZFtmPShyP2guZGVsZWdhdGVUeXBlOmguYmluZFR5cGUpfHxmXXx8W10sbz1vWzJdJiZuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrcC5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIiksYT1zPXUubGVuZ3RoO3MtLTspbD11W3NdLCFpJiZnIT09bC5vcmlnVHlwZXx8biYmbi5ndWlkIT09bC5ndWlkfHxvJiYhby50ZXN0KGwubmFtZXNwYWNlKXx8ciYmciE9PWwuc2VsZWN0b3ImJihcIioqXCIhPT1yfHwhbC5zZWxlY3Rvcil8fCh1LnNwbGljZShzLDEpLGwuc2VsZWN0b3ImJnUuZGVsZWdhdGVDb3VudC0tLGgucmVtb3ZlJiZoLnJlbW92ZS5jYWxsKGUsbCkpO2EmJiF1Lmxlbmd0aCYmKGgudGVhcmRvd24mJiExIT09aC50ZWFyZG93bi5jYWxsKGUscCxfLmhhbmRsZSl8fHcucmVtb3ZlRXZlbnQoZSxmLF8uaGFuZGxlKSxkZWxldGUgZFtmXSl9ZWxzZSBmb3IoZiBpbiBkKXcuZXZlbnQucmVtb3ZlKGUsZit0W2NdLG4sciwhMCk7dy5pc0VtcHR5T2JqZWN0KGQpJiZaLnJlbW92ZShlLFwiaGFuZGxlIGV2ZW50c1wiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLHMsYSxvPXcuZXZlbnQuZml4KGUpLGQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLGM9KFouZ2V0KHRoaXMsXCJldmVudHNcIil8fHt9KVtvLnR5cGVdfHxbXSxsPXcuZXZlbnQuc3BlY2lhbFtvLnR5cGVdfHx7fTtmb3IoZFswXT1vLHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWRbdF09YXJndW1lbnRzW3RdO2lmKG8uZGVsZWdhdGVUYXJnZXQ9dGhpcywhbC5wcmVEaXNwYXRjaHx8ITEhPT1sLnByZURpc3BhdGNoLmNhbGwodGhpcyxvKSl7Zm9yKGE9dy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsbyxjKSx0PTA7KGk9YVt0KytdKSYmIW8uaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspZm9yKG8uY3VycmVudFRhcmdldD1pLmVsZW0sbj0wOyhzPWkuaGFuZGxlcnNbbisrXSkmJiFvLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7KW8ucm5hbWVzcGFjZSYmIW8ucm5hbWVzcGFjZS50ZXN0KHMubmFtZXNwYWNlKXx8KG8uaGFuZGxlT2JqPXMsby5kYXRhPXMuZGF0YSx2b2lkIDAhPT0ocj0oKHcuZXZlbnQuc3BlY2lhbFtzLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8cy5oYW5kbGVyKS5hcHBseShpLmVsZW0sZCkpJiYhMT09PShvLnJlc3VsdD1yKSYmKG8ucHJldmVudERlZmF1bHQoKSxvLnN0b3BQcm9wYWdhdGlvbigpKSk7cmV0dXJuIGwucG9zdERpc3BhdGNoJiZsLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsbyksby5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxzLGEsbz1bXSxkPXQuZGVsZWdhdGVDb3VudCxjPWUudGFyZ2V0O2lmKGQmJmMubm9kZVR5cGUmJiEoXCJjbGlja1wiPT09ZS50eXBlJiZlLmJ1dHRvbj49MSkpZm9yKDtjIT09dGhpcztjPWMucGFyZW50Tm9kZXx8dGhpcylpZigxPT09Yy5ub2RlVHlwZSYmKFwiY2xpY2tcIiE9PWUudHlwZXx8ITAhPT1jLmRpc2FibGVkKSl7Zm9yKHM9W10sYT17fSxuPTA7bjxkO24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrXCIgXCJdJiYoYVtpXT1yLm5lZWRzQ29udGV4dD93KGksdGhpcykuaW5kZXgoYyk+LTE6dy5maW5kKGksdGhpcyxudWxsLFtjXSkubGVuZ3RoKSxhW2ldJiZzLnB1c2gocik7cy5sZW5ndGgmJm8ucHVzaCh7ZWxlbTpjLGhhbmRsZXJzOnN9KX1yZXR1cm4gYz10aGlzLGQ8dC5sZW5ndGgmJm8ucHVzaCh7ZWxlbTpjLGhhbmRsZXJzOnQuc2xpY2UoZCl9KSxvfSxhZGRQcm9wOmZ1bmN0aW9uKGUsdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHcuRXZlbnQucHJvdG90eXBlLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDp5KHQpP2Z1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbEV2ZW50KXJldHVybiB0KHRoaXMub3JpZ2luYWxFdmVudCl9OmZ1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbEV2ZW50KXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbZV19LHNldDpmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSl9fSl9LGZpeDpmdW5jdGlvbihlKXtyZXR1cm4gZVt3LmV4cGFuZG9dP2U6bmV3IHcuRXZlbnQoZSl9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1FZSgpJiZ0aGlzLmZvY3VzKXJldHVybiB0aGlzLmZvY3VzKCksITF9LGRlbGVnYXRlVHlwZTpcImZvY3VzaW5cIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXM9PT1FZSgpJiZ0aGlzLmJsdXIpcmV0dXJuIHRoaXMuYmx1cigpLCExfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c291dFwifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKFwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmTyh0aGlzLFwiaW5wdXRcIikpcmV0dXJuIHRoaXMuY2xpY2soKSwhMX0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZS50YXJnZXQsXCJhXCIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LHcucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LHcuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiB3LkV2ZW50KSlyZXR1cm4gbmV3IHcuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT9OZTpTZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZ3LmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbdy5leHBhbmRvXT0hMH0sdy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOncuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlNlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlNlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlNlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPU5lLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPU5lLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1OZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sdy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLGNoYXI6ITAsY2hhckNvZGU6ITAsa2V5OiEwLGtleUNvZGU6ITAsYnV0dG9uOiEwLGJ1dHRvbnM6ITAsY2xpZW50WDohMCxjbGllbnRZOiEwLG9mZnNldFg6ITAsb2Zmc2V0WTohMCxwb2ludGVySWQ6ITAscG9pbnRlclR5cGU6ITAsc2NyZWVuWDohMCxzY3JlZW5ZOiEwLHRhcmdldFRvdWNoZXM6ITAsdG9FbGVtZW50OiEwLHRvdWNoZXM6ITAsd2hpY2g6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5idXR0b247cmV0dXJuIG51bGw9PWUud2hpY2gmJndlLnRlc3QoZS50eXBlKT9udWxsIT1lLmNoYXJDb2RlP2UuY2hhckNvZGU6ZS5rZXlDb2RlOiFlLndoaWNoJiZ2b2lkIDAhPT10JiZDZS50ZXN0KGUudHlwZSk/MSZ0PzE6MiZ0PzM6NCZ0PzI6MDplLndoaWNofX0sdy5ldmVudC5hZGRQcm9wKSx3LmVhY2goe21vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIixtb3VzZWxlYXZlOlwibW91c2VvdXRcIixwb2ludGVyZW50ZXI6XCJwb2ludGVyb3ZlclwiLHBvaW50ZXJsZWF2ZTpcInBvaW50ZXJvdXRcIn0sZnVuY3Rpb24oZSx0KXt3LmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciBuLHI9ZS5yZWxhdGVkVGFyZ2V0LGk9ZS5oYW5kbGVPYmo7cmV0dXJuIHImJihyPT09dGhpc3x8dy5jb250YWlucyh0aGlzLHIpKXx8KGUudHlwZT1pLm9yaWdUeXBlLG49aS5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnR5cGU9dCksbn19fSksdy5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBBZSh0aGlzLGUsdCxuLHIpfSxvbmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEFlKHRoaXMsZSx0LG4sciwxKX0sb2ZmOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2lmKGUmJmUucHJldmVudERlZmF1bHQmJmUuaGFuZGxlT2JqKXJldHVybiByPWUuaGFuZGxlT2JqLHcoZS5kZWxlZ2F0ZVRhcmdldCkub2ZmKHIubmFtZXNwYWNlP3Iub3JpZ1R5cGUrXCIuXCIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpzKGUpKSl7Zm9yKGkgaW4gZSl0aGlzLm9mZihpLHQsZVtpXSk7cmV0dXJuIHRoaXN9cmV0dXJuITEhPT10JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHwobj10LHQ9dm9pZCAwKSwhMT09PW4mJihuPVNlKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt3LmV2ZW50LnJlbW92ZSh0aGlzLGUsbix0KX0pfX0pO3ZhciBPZT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSxMZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxEZT0vY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFBlPS9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztmdW5jdGlvbiBxZShlLHQpe3JldHVybiBPKGUsXCJ0YWJsZVwiKSYmTygxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsXCJ0clwiKSYmdyhlKS5jaGlsZHJlbihcInRib2R5XCIpWzBdfHxlfWZ1bmN0aW9uIE1lKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpK1wiL1wiK2UudHlwZSxlfWZ1bmN0aW9uIEhlKGUpe3JldHVyblwidHJ1ZS9cIj09PShlLnR5cGV8fFwiXCIpLnNsaWNlKDAsNSk/ZS50eXBlPWUudHlwZS5zbGljZSg1KTplLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIiksZX1mdW5jdGlvbiBGZShlLHQpe3ZhciBuLHIsaSxzLGEsbyxkLGM7aWYoMT09PXQubm9kZVR5cGUpe2lmKFouaGFzRGF0YShlKSYmKHM9Wi5hY2Nlc3MoZSksYT1aLnNldCh0LHMpLGM9cy5ldmVudHMpKWZvcihpIGluIGRlbGV0ZSBhLmhhbmRsZSxhLmV2ZW50cz17fSxjKWZvcihuPTAscj1jW2ldLmxlbmd0aDtuPHI7bisrKXcuZXZlbnQuYWRkKHQsaSxjW2ldW25dKTtlZS5oYXNEYXRhKGUpJiYobz1lZS5hY2Nlc3MoZSksZD13LmV4dGVuZCh7fSxvKSxlZS5zZXQodCxkKSl9fWZ1bmN0aW9uIEllKGUsdCxuLHIpe3Q9bC5hcHBseShbXSx0KTt2YXIgaSxzLGEsbyxkLGMsaD0wLHU9ZS5sZW5ndGgsZj11LTEscD10WzBdLGc9eShwKTtpZihnfHx1PjEmJlwic3RyaW5nXCI9PXR5cGVvZiBwJiYhdi5jaGVja0Nsb25lJiZEZS50ZXN0KHApKXJldHVybiBlLmVhY2goZnVuY3Rpb24oaSl7dmFyIHM9ZS5lcShpKTtnJiYodFswXT1wLmNhbGwodGhpcyxpLHMuaHRtbCgpKSksSWUocyx0LG4scil9KTtpZih1JiYocz0oaT1qZSh0LGVbMF0ub3duZXJEb2N1bWVudCwhMSxlLHIpKS5maXJzdENoaWxkLDE9PT1pLmNoaWxkTm9kZXMubGVuZ3RoJiYoaT1zKSxzfHxyKSl7Zm9yKG89KGE9dy5tYXAobWUoaSxcInNjcmlwdFwiKSxNZSkpLmxlbmd0aDtoPHU7aCsrKWQ9aSxoIT09ZiYmKGQ9dy5jbG9uZShkLCEwLCEwKSxvJiZ3Lm1lcmdlKGEsbWUoZCxcInNjcmlwdFwiKSkpLG4uY2FsbChlW2hdLGQsaCk7aWYobylmb3IoYz1hW2EubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsdy5tYXAoYSxIZSksaD0wO2g8bztoKyspZD1hW2hdLGdlLnRlc3QoZC50eXBlfHxcIlwiKSYmIVouYWNjZXNzKGQsXCJnbG9iYWxFdmFsXCIpJiZ3LmNvbnRhaW5zKGMsZCkmJihkLnNyYyYmXCJtb2R1bGVcIiE9PShkLnR5cGV8fFwiXCIpLnRvTG93ZXJDYXNlKCk/dy5fZXZhbFVybCYmdy5fZXZhbFVybChkLnNyYyk6aihkLnRleHRDb250ZW50LnJlcGxhY2UoUGUsXCJcIiksYyxkKSl9cmV0dXJuIGV9ZnVuY3Rpb24gJGUoZSx0LG4pe2Zvcih2YXIgcixpPXQ/dy5maWx0ZXIodCxlKTplLHM9MDtudWxsIT0ocj1pW3NdKTtzKyspbnx8MSE9PXIubm9kZVR5cGV8fHcuY2xlYW5EYXRhKG1lKHIpKSxyLnBhcmVudE5vZGUmJihuJiZ3LmNvbnRhaW5zKHIub3duZXJEb2N1bWVudCxyKSYmdmUobWUocixcInNjcmlwdFwiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX13LmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKE9lLFwiPCQxPjwvJDI+XCIpfSxjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxzLGEsbyxkLGMsbD1lLmNsb25lTm9kZSghMCksaD13LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKTtpZighKHYubm9DbG9uZUNoZWNrZWR8fDEhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fHcuaXNYTUxEb2MoZSkpKWZvcihhPW1lKGwpLHI9MCxpPShzPW1lKGUpKS5sZW5ndGg7cjxpO3IrKylvPXNbcl0sZD1hW3JdLHZvaWQgMCxcImlucHV0XCI9PT0oYz1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZmZS50ZXN0KG8udHlwZSk/ZC5jaGVja2VkPW8uY2hlY2tlZDpcImlucHV0XCIhPT1jJiZcInRleHRhcmVhXCIhPT1jfHwoZC5kZWZhdWx0VmFsdWU9by5kZWZhdWx0VmFsdWUpO2lmKHQpaWYobilmb3Iocz1zfHxtZShlKSxhPWF8fG1lKGwpLHI9MCxpPXMubGVuZ3RoO3I8aTtyKyspRmUoc1tyXSxhW3JdKTtlbHNlIEZlKGUsbCk7cmV0dXJuKGE9bWUobCxcInNjcmlwdFwiKSkubGVuZ3RoPjAmJnZlKGEsIWgmJm1lKGUsXCJzY3JpcHRcIikpLGx9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9dy5ldmVudC5zcGVjaWFsLHM9MDt2b2lkIDAhPT0obj1lW3NdKTtzKyspaWYoRyhuKSl7aWYodD1uW1ouZXhwYW5kb10pe2lmKHQuZXZlbnRzKWZvcihyIGluIHQuZXZlbnRzKWlbcl0/dy5ldmVudC5yZW1vdmUobixyKTp3LnJlbW92ZUV2ZW50KG4scix0LmhhbmRsZSk7bltaLmV4cGFuZG9dPXZvaWQgMH1uW2VlLmV4cGFuZG9dJiYobltlZS5leHBhbmRvXT12b2lkIDApfX19KSx3LmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiAkZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuICRlKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT93LnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fHFlKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBJZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9cWUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBJZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBJZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYody5jbGVhbkRhdGEobWUoZSwhMSkpLGUudGV4dENvbnRlbnQ9XCJcIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbCE9ZSYmZSx0PW51bGw9PXQ/ZTp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHcuY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihlKXt2YXIgdD10aGlzWzBdfHx7fSxuPTAscj10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1lJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJiFMZS50ZXN0KGUpJiYhX2VbKHBlLmV4ZWMoZSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT13Lmh0bWxQcmVmaWx0ZXIoZSk7dHJ5e2Zvcig7bjxyO24rKykxPT09KHQ9dGhpc1tuXXx8e30pLm5vZGVUeXBlJiYody5jbGVhbkRhdGEobWUodCwhMSkpLHQuaW5uZXJIVE1MPWUpO3Q9MH1jYXRjaChlKXt9fXQmJnRoaXMuZW1wdHkoKS5hcHBlbmQoZSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gSWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24odCl7dmFyIG49dGhpcy5wYXJlbnROb2RlO3cuaW5BcnJheSh0aGlzLGUpPDAmJih3LmNsZWFuRGF0YShtZSh0aGlzKSksbiYmbi5yZXBsYWNlQ2hpbGQodCx0aGlzKSl9LGUpfX0pLHcuZWFjaCh7YXBwZW5kVG86XCJhcHBlbmRcIixwcmVwZW5kVG86XCJwcmVwZW5kXCIsaW5zZXJ0QmVmb3JlOlwiYmVmb3JlXCIsaW5zZXJ0QWZ0ZXI6XCJhZnRlclwiLHJlcGxhY2VBbGw6XCJyZXBsYWNlV2l0aFwifSxmdW5jdGlvbihlLHQpe3cuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciBuLHI9W10saT13KGUpLHM9aS5sZW5ndGgtMSxhPTA7YTw9czthKyspbj1hPT09cz90aGlzOnRoaXMuY2xvbmUoITApLHcoaVthXSlbdF0obiksaC5hcHBseShyLG4uZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhyKX19KTt2YXIgUmU9bmV3IFJlZ0V4cChcIl4oXCIraWUrXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksV2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9ciksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxCZT1uZXcgUmVnRXhwKGFlLmpvaW4oXCJ8XCIpLFwiaVwiKTtmdW5jdGlvbiB6ZShlLHQsbil7dmFyIHIsaSxzLGEsbz1lLnN0eWxlO3JldHVybihuPW58fFdlKGUpKSYmKFwiXCIhPT0oYT1uLmdldFByb3BlcnR5VmFsdWUodCl8fG5bdF0pfHx3LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8KGE9dy5zdHlsZShlLHQpKSwhdi5waXhlbEJveFN0eWxlcygpJiZSZS50ZXN0KGEpJiZCZS50ZXN0KHQpJiYocj1vLndpZHRoLGk9by5taW5XaWR0aCxzPW8ubWF4V2lkdGgsby5taW5XaWR0aD1vLm1heFdpZHRoPW8ud2lkdGg9YSxhPW4ud2lkdGgsby53aWR0aD1yLG8ubWluV2lkdGg9aSxvLm1heFdpZHRoPXMpKSx2b2lkIDAhPT1hP2ErXCJcIjphfWZ1bmN0aW9uIFVlKGUsdCl7cmV0dXJue2dldDpmdW5jdGlvbigpe2lmKCFlKCkpcmV0dXJuKHRoaXMuZ2V0PXQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkZWxldGUgdGhpcy5nZXR9fX0hZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aWYobCl7Yy5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O21hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MFwiLGwuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSVcIixrZS5hcHBlbmRDaGlsZChjKS5hcHBlbmRDaGlsZChsKTt2YXIgZT1yLmdldENvbXB1dGVkU3R5bGUobCk7bj1cIjElXCIhPT1lLnRvcCxkPTEyPT09dChlLm1hcmdpbkxlZnQpLGwuc3R5bGUucmlnaHQ9XCI2MCVcIixhPTM2PT09dChlLnJpZ2h0KSxpPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixzPTM2PT09bC5vZmZzZXRXaWR0aHx8XCJhYnNvbHV0ZVwiLGtlLnJlbW92ZUNoaWxkKGMpLGw9bnVsbH19ZnVuY3Rpb24gdChlKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGUpKX12YXIgbixpLHMsYSxkLGM9by5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGw9by5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2wuc3R5bGUmJihsLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiY29udGVudC1ib3hcIixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJcIix2LmNsZWFyQ2xvbmVTdHlsZT1cImNvbnRlbnQtYm94XCI9PT1sLnN0eWxlLmJhY2tncm91bmRDbGlwLHcuZXh0ZW5kKHYse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxpfSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiBlKCksYX0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBlKCksbn0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxkfSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxzfX0pKX0oKTt2YXIgS2U9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFllPXtwb3NpdGlvbjpcImFic29sdXRlXCIsdmlzaWJpbGl0eTpcImhpZGRlblwiLGRpc3BsYXk6XCJibG9ja1wifSxKZT17bGV0dGVyU3BhY2luZzpcIjBcIixmb250V2VpZ2h0OlwiNDAwXCJ9LFZlPVtcIldlYmtpdFwiLFwiTW96XCIsXCJtc1wiXSxHZT1vLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGU7ZnVuY3Rpb24gUWUoZSl7dmFyIHQ9dy5jc3NQcm9wc1tlXTtyZXR1cm4gdHx8KHQ9dy5jc3NQcm9wc1tlXT1mdW5jdGlvbihlKXtpZihlIGluIEdlKXJldHVybiBlO2Zvcih2YXIgdD1lWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxuPVZlLmxlbmd0aDtuLS07KWlmKChlPVZlW25dK3QpaW4gR2UpcmV0dXJuIGV9KGUpfHxlKSx0fWZ1bmN0aW9uIFplKGUsdCxuKXt2YXIgcj1zZS5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsyXS0obnx8MCkpKyhyWzNdfHxcInB4XCIpOnR9ZnVuY3Rpb24gZXQoZSx0LG4scixpLHMpe3ZhciBhPVwid2lkdGhcIj09PXQ/MTowLG89MCxkPTA7aWYobj09PShyP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpXCJtYXJnaW5cIj09PW4mJihkKz13LmNzcyhlLG4rYWVbYV0sITAsaSkpLHI/KFwiY29udGVudFwiPT09biYmKGQtPXcuY3NzKGUsXCJwYWRkaW5nXCIrYWVbYV0sITAsaSkpLFwibWFyZ2luXCIhPT1uJiYoZC09dy5jc3MoZSxcImJvcmRlclwiK2FlW2FdK1wiV2lkdGhcIiwhMCxpKSkpOihkKz13LmNzcyhlLFwicGFkZGluZ1wiK2FlW2FdLCEwLGkpLFwicGFkZGluZ1wiIT09bj9kKz13LmNzcyhlLFwiYm9yZGVyXCIrYWVbYV0rXCJXaWR0aFwiLCEwLGkpOm8rPXcuY3NzKGUsXCJib3JkZXJcIithZVthXStcIldpZHRoXCIsITAsaSkpO3JldHVybiFyJiZzPj0wJiYoZCs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVtcIm9mZnNldFwiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1zLWQtby0uNSkpKSxkfWZ1bmN0aW9uIHR0KGUsdCxuKXt2YXIgcj1XZShlKSxpPXplKGUsdCxyKSxzPVwiYm9yZGVyLWJveFwiPT09dy5jc3MoZSxcImJveFNpemluZ1wiLCExLHIpLGE9cztpZihSZS50ZXN0KGkpKXtpZighbilyZXR1cm4gaTtpPVwiYXV0b1wifXJldHVybiBhPWEmJih2LmJveFNpemluZ1JlbGlhYmxlKCl8fGk9PT1lLnN0eWxlW3RdKSwoXCJhdXRvXCI9PT1pfHwhcGFyc2VGbG9hdChpKSYmXCJpbmxpbmVcIj09PXcuY3NzKGUsXCJkaXNwbGF5XCIsITEscikpJiYoaT1lW1wib2Zmc2V0XCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLGE9ITApLChpPXBhcnNlRmxvYXQoaSl8fDApK2V0KGUsdCxufHwocz9cImJvcmRlclwiOlwiY29udGVudFwiKSxhLHIsaSkrXCJweFwifWZ1bmN0aW9uIG50KGUsdCxuLHIsaSl7cmV0dXJuIG5ldyBudC5wcm90b3R5cGUuaW5pdChlLHQsbixyLGkpfXcuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49emUoZSxcIm9wYWNpdHlcIik7cmV0dXJuXCJcIj09PW4/XCIxXCI6bn19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7fSxzdHlsZTpmdW5jdGlvbihlLHQsbixyKXtpZihlJiYzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJmUuc3R5bGUpe3ZhciBpLGEsbyxkPVYodCksYz1YZS50ZXN0KHQpLGw9ZS5zdHlsZTtpZihjfHwodD1RZShkKSksbz13LmNzc0hvb2tzW3RdfHx3LmNzc0hvb2tzW2RdLHZvaWQgMD09PW4pcmV0dXJuIG8mJlwiZ2V0XCJpbiBvJiZ2b2lkIDAhPT0oaT1vLmdldChlLCExLHIpKT9pOmxbdF07XCJzdHJpbmdcIj09PShhPXZvaWQgMD09PW4/XCJ1bmRlZmluZWRcIjpzKG4pKSYmKGk9c2UuZXhlYyhuKSkmJmlbMV0mJihuPWNlKGUsdCxpKSxhPVwibnVtYmVyXCIpLG51bGwhPW4mJm49PW4mJihcIm51bWJlclwiPT09YSYmKG4rPWkmJmlbM118fCh3LmNzc051bWJlcltkXT9cIlwiOlwicHhcIikpLHYuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09bnx8MCE9PXQuaW5kZXhPZihcImJhY2tncm91bmRcIil8fChsW3RdPVwiaW5oZXJpdFwiKSxvJiZcInNldFwiaW4gbyYmdm9pZCAwPT09KG49by5zZXQoZSxuLHIpKXx8KGM/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLHMsYSxvPVYodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PVFlKG8pKSwoYT13LmNzc0hvb2tzW3RdfHx3LmNzc0hvb2tzW29dKSYmXCJnZXRcImluIGEmJihpPWEuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPXplKGUsdCxyKSksXCJub3JtYWxcIj09PWkmJnQgaW4gSmUmJihpPUplW3RdKSxcIlwiPT09bnx8bj8ocz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUocyk/c3x8MDppKTppfX0pLHcuZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGUsdCl7dy5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKGUsbixyKXtpZihuKXJldHVybiFLZS50ZXN0KHcuY3NzKGUsXCJkaXNwbGF5XCIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD90dChlLHQscik6ZGUoZSxZZSxmdW5jdGlvbigpe3JldHVybiB0dChlLHQscil9KX0sc2V0OmZ1bmN0aW9uKGUsbixyKXt2YXIgaSxzPVdlKGUpLGE9XCJib3JkZXItYm94XCI9PT13LmNzcyhlLFwiYm94U2l6aW5nXCIsITEscyksbz1yJiZldChlLHQscixhLHMpO3JldHVybiBhJiZ2LnNjcm9sbGJveFNpemUoKT09PXMucG9zaXRpb24mJihvLT1NYXRoLmNlaWwoZVtcIm9mZnNldFwiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1wYXJzZUZsb2F0KHNbdF0pLWV0KGUsdCxcImJvcmRlclwiLCExLHMpLS41KSksbyYmKGk9c2UuZXhlYyhuKSkmJlwicHhcIiE9PShpWzNdfHxcInB4XCIpJiYoZS5zdHlsZVt0XT1uLG49dy5jc3MoZSx0KSksWmUoMCxuLG8pfX19KSx3LmNzc0hvb2tzLm1hcmdpbkxlZnQ9VWUodi5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KHplKGUsXCJtYXJnaW5MZWZ0XCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWRlKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpK1wicHhcIn0pLHcuZWFjaCh7bWFyZ2luOlwiXCIscGFkZGluZzpcIlwiLGJvcmRlcjpcIldpZHRoXCJ9LGZ1bmN0aW9uKGUsdCl7dy5jc3NIb29rc1tlK3RdPXtleHBhbmQ6ZnVuY3Rpb24obil7Zm9yKHZhciByPTAsaT17fSxzPVwic3RyaW5nXCI9PXR5cGVvZiBuP24uc3BsaXQoXCIgXCIpOltuXTtyPDQ7cisrKWlbZSthZVtyXSt0XT1zW3JdfHxzW3ItMl18fHNbMF07cmV0dXJuIGl9fSxcIm1hcmdpblwiIT09ZSYmKHcuY3NzSG9va3NbZSt0XS5zZXQ9WmUpfSksdy5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihlLHQpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGkscz17fSxhPTA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHI9V2UoZSksaT10Lmxlbmd0aDthPGk7YSsrKXNbdFthXV09dy5jc3MoZSx0W2FdLCExLHIpO3JldHVybiBzfXJldHVybiB2b2lkIDAhPT1uP3cuc3R5bGUoZSx0LG4pOncuY3NzKGUsdCl9LGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfX0pLHcuVHdlZW49bnQsbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpudCxpbml0OmZ1bmN0aW9uKGUsdCxuLHIsaSxzKXt0aGlzLmVsZW09ZSx0aGlzLnByb3A9bix0aGlzLmVhc2luZz1pfHx3LmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9c3x8KHcuY3NzTnVtYmVyW25dP1wiXCI6XCJweFwiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9bnQucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOm50LnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPW50LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD13LmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6bnQucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sbnQucHJvdG90eXBlLmluaXQucHJvdG90eXBlPW50LnByb3RvdHlwZSxudC5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIDEhPT1lLmVsZW0ubm9kZVR5cGV8fG51bGwhPWUuZWxlbVtlLnByb3BdJiZudWxsPT1lLmVsZW0uc3R5bGVbZS5wcm9wXT9lLmVsZW1bZS5wcm9wXToodD13LmNzcyhlLmVsZW0sZS5wcm9wLFwiXCIpKSYmXCJhdXRvXCIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe3cuZnguc3RlcFtlLnByb3BdP3cuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fG51bGw9PWUuZWxlbS5zdHlsZVt3LmNzc1Byb3BzW2UucHJvcF1dJiYhdy5jc3NIb29rc1tlLnByb3BdP2UuZWxlbVtlLnByb3BdPWUubm93Oncuc3R5bGUoZS5lbGVtLGUucHJvcCxlLm5vdytlLnVuaXQpfX19LG50LnByb3BIb29rcy5zY3JvbGxUb3A9bnQucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihlKXtlLmVsZW0ubm9kZVR5cGUmJmUuZWxlbS5wYXJlbnROb2RlJiYoZS5lbGVtW2UucHJvcF09ZS5ub3cpfX0sdy5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc3dpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuLjUtTWF0aC5jb3MoZSpNYXRoLlBJKS8yfSxfZGVmYXVsdDpcInN3aW5nXCJ9LHcuZng9bnQucHJvdG90eXBlLmluaXQsdy5meC5zdGVwPXt9O3ZhciBydCxpdCxzdD0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sYXQ9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBvdCgpe2l0JiYoITE9PT1vLmhpZGRlbiYmci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/ci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob3QpOnIuc2V0VGltZW91dChvdCx3LmZ4LmludGVydmFsKSx3LmZ4LnRpY2soKSl9ZnVuY3Rpb24gZHQoKXtyZXR1cm4gci5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cnQ9dm9pZCAwfSkscnQ9RGF0ZS5ub3coKX1mdW5jdGlvbiBjdChlLHQpe3ZhciBuLHI9MCxpPXtoZWlnaHQ6ZX07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpW1wibWFyZ2luXCIrKG49YWVbcl0pXT1pW1wicGFkZGluZ1wiK25dPWU7cmV0dXJuIHQmJihpLm9wYWNpdHk9aS53aWR0aD1lKSxpfWZ1bmN0aW9uIGx0KGUsdCxuKXtmb3IodmFyIHIsaT0oaHQudHdlZW5lcnNbdF18fFtdKS5jb25jYXQoaHQudHdlZW5lcnNbXCIqXCJdKSxzPTAsYT1pLmxlbmd0aDtzPGE7cysrKWlmKHI9aVtzXS5jYWxsKG4sdCxlKSlyZXR1cm4gcn1mdW5jdGlvbiBodChlLHQsbil7dmFyIHIsaSxzPTAsYT1odC5wcmVmaWx0ZXJzLmxlbmd0aCxvPXcuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgZC5lbGVtfSksZD1mdW5jdGlvbigpe2lmKGkpcmV0dXJuITE7Zm9yKHZhciB0PXJ0fHxkdCgpLG49TWF0aC5tYXgoMCxjLnN0YXJ0VGltZStjLmR1cmF0aW9uLXQpLHI9MS0obi9jLmR1cmF0aW9ufHwwKSxzPTAsYT1jLnR3ZWVucy5sZW5ndGg7czxhO3MrKyljLnR3ZWVuc1tzXS5ydW4ocik7cmV0dXJuIG8ubm90aWZ5V2l0aChlLFtjLHIsbl0pLHI8MSYmYT9uOihhfHxvLm5vdGlmeVdpdGgoZSxbYywxLDBdKSxvLnJlc29sdmVXaXRoKGUsW2NdKSwhMSl9LGM9by5wcm9taXNlKHtlbGVtOmUscHJvcHM6dy5leHRlbmQoe30sdCksb3B0czp3LmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fSxlYXNpbmc6dy5lYXNpbmcuX2RlZmF1bHR9LG4pLG9yaWdpbmFsUHJvcGVydGllczp0LG9yaWdpbmFsT3B0aW9uczpuLHN0YXJ0VGltZTpydHx8ZHQoKSxkdXJhdGlvbjpuLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbih0LG4pe3ZhciByPXcuVHdlZW4oZSxjLm9wdHMsdCxuLGMub3B0cy5zcGVjaWFsRWFzaW5nW3RdfHxjLm9wdHMuZWFzaW5nKTtyZXR1cm4gYy50d2VlbnMucHVzaChyKSxyfSxzdG9wOmZ1bmN0aW9uKHQpe3ZhciBuPTAscj10P2MudHdlZW5zLmxlbmd0aDowO2lmKGkpcmV0dXJuIHRoaXM7Zm9yKGk9ITA7bjxyO24rKyljLnR3ZWVuc1tuXS5ydW4oMSk7cmV0dXJuIHQ/KG8ubm90aWZ5V2l0aChlLFtjLDEsMF0pLG8ucmVzb2x2ZVdpdGgoZSxbYyx0XSkpOm8ucmVqZWN0V2l0aChlLFtjLHRdKSx0aGlzfX0pLGw9Yy5wcm9wcztmb3IoIWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLHMsYTtmb3IobiBpbiBlKWlmKGk9dFtyPVYobildLHM9ZVtuXSxBcnJheS5pc0FycmF5KHMpJiYoaT1zWzFdLHM9ZVtuXT1zWzBdKSxuIT09ciYmKGVbcl09cyxkZWxldGUgZVtuXSksKGE9dy5jc3NIb29rc1tyXSkmJlwiZXhwYW5kXCJpbiBhKWZvcihuIGluIHM9YS5leHBhbmQocyksZGVsZXRlIGVbcl0scyluIGluIGV8fChlW25dPXNbbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0obCxjLm9wdHMuc3BlY2lhbEVhc2luZyk7czxhO3MrKylpZihyPWh0LnByZWZpbHRlcnNbc10uY2FsbChjLGUsbCxjLm9wdHMpKXJldHVybiB5KHIuc3RvcCkmJih3Ll9xdWV1ZUhvb2tzKGMuZWxlbSxjLm9wdHMucXVldWUpLnN0b3A9ci5zdG9wLmJpbmQocikpLHI7cmV0dXJuIHcubWFwKGwsbHQsYykseShjLm9wdHMuc3RhcnQpJiZjLm9wdHMuc3RhcnQuY2FsbChlLGMpLGMucHJvZ3Jlc3MoYy5vcHRzLnByb2dyZXNzKS5kb25lKGMub3B0cy5kb25lLGMub3B0cy5jb21wbGV0ZSkuZmFpbChjLm9wdHMuZmFpbCkuYWx3YXlzKGMub3B0cy5hbHdheXMpLHcuZngudGltZXIody5leHRlbmQoZCx7ZWxlbTplLGFuaW06YyxxdWV1ZTpjLm9wdHMucXVldWV9KSksY313LkFuaW1hdGlvbj13LmV4dGVuZChodCx7dHdlZW5lcnM6e1wiKlwiOltmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlYXRlVHdlZW4oZSx0KTtyZXR1cm4gY2Uobi5lbGVtLGUsc2UuZXhlYyh0KSxuKSxufV19LHR3ZWVuZXI6ZnVuY3Rpb24oZSx0KXt5KGUpPyh0PWUsZT1bXCIqXCJdKTplPWUubWF0Y2goSSk7Zm9yKHZhciBuLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspbj1lW3JdLGh0LnR3ZWVuZXJzW25dPWh0LnR3ZWVuZXJzW25dfHxbXSxodC50d2VlbmVyc1tuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxzLGEsbyxkLGMsbCxoPVwid2lkdGhcImluIHR8fFwiaGVpZ2h0XCJpbiB0LHU9dGhpcyxmPXt9LHA9ZS5zdHlsZSxnPWUubm9kZVR5cGUmJm9lKGUpLF89Wi5nZXQoZSxcImZ4c2hvd1wiKTtmb3IociBpbiBuLnF1ZXVlfHwobnVsbD09KGE9dy5fcXVldWVIb29rcyhlLFwiZnhcIikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLG89YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fG8oKX0pLGEudW5xdWV1ZWQrKyx1LmFsd2F5cyhmdW5jdGlvbigpe3UuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLHcucXVldWUoZSxcImZ4XCIpLmxlbmd0aHx8YS5lbXB0eS5maXJlKCl9KX0pKSx0KWlmKGk9dFtyXSxzdC50ZXN0KGkpKXtpZihkZWxldGUgdFtyXSxzPXN8fFwidG9nZ2xlXCI9PT1pLGk9PT0oZz9cImhpZGVcIjpcInNob3dcIikpe2lmKFwic2hvd1wiIT09aXx8IV98fHZvaWQgMD09PV9bcl0pY29udGludWU7Zz0hMH1mW3JdPV8mJl9bcl18fHcuc3R5bGUoZSxyKX1pZigoZD0hdy5pc0VtcHR5T2JqZWN0KHQpKXx8IXcuaXNFbXB0eU9iamVjdChmKSlmb3IociBpbiBoJiYxPT09ZS5ub2RlVHlwZSYmKG4ub3ZlcmZsb3c9W3Aub3ZlcmZsb3cscC5vdmVyZmxvd1gscC5vdmVyZmxvd1ldLG51bGw9PShjPV8mJl8uZGlzcGxheSkmJihjPVouZ2V0KGUsXCJkaXNwbGF5XCIpKSxcIm5vbmVcIj09PShsPXcuY3NzKGUsXCJkaXNwbGF5XCIpKSYmKGM/bD1jOih1ZShbZV0sITApLGM9ZS5zdHlsZS5kaXNwbGF5fHxjLGw9dy5jc3MoZSxcImRpc3BsYXlcIiksdWUoW2VdKSkpLChcImlubGluZVwiPT09bHx8XCJpbmxpbmUtYmxvY2tcIj09PWwmJm51bGwhPWMpJiZcIm5vbmVcIj09PXcuY3NzKGUsXCJmbG9hdFwiKSYmKGR8fCh1LmRvbmUoZnVuY3Rpb24oKXtwLmRpc3BsYXk9Y30pLG51bGw9PWMmJihsPXAuZGlzcGxheSxjPVwibm9uZVwiPT09bD9cIlwiOmwpKSxwLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLG4ub3ZlcmZsb3cmJihwLm92ZXJmbG93PVwiaGlkZGVuXCIsdS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PW4ub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9bi5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1uLm92ZXJmbG93WzJdfSkpLGQ9ITEsZilkfHwoXz9cImhpZGRlblwiaW4gXyYmKGc9Xy5oaWRkZW4pOl89Wi5hY2Nlc3MoZSxcImZ4c2hvd1wiLHtkaXNwbGF5OmN9KSxzJiYoXy5oaWRkZW49IWcpLGcmJnVlKFtlXSwhMCksdS5kb25lKGZ1bmN0aW9uKCl7Zm9yKHIgaW4gZ3x8dWUoW2VdKSxaLnJlbW92ZShlLFwiZnhzaG93XCIpLGYpdy5zdHlsZShlLHIsZltyXSl9KSksZD1sdChnP19bcl06MCxyLHUpLHIgaW4gX3x8KF9bcl09ZC5zdGFydCxnJiYoZC5lbmQ9ZC5zdGFydCxkLnN0YXJ0PTApKX1dLHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/aHQucHJlZmlsdGVycy51bnNoaWZ0KGUpOmh0LnByZWZpbHRlcnMucHVzaChlKX19KSx3LnNwZWVkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lJiZcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpzKGUpKT93LmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fHkoZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIXkodCkmJnR9O3JldHVybiB3LmZ4Lm9mZj9yLmR1cmF0aW9uPTA6XCJudW1iZXJcIiE9dHlwZW9mIHIuZHVyYXRpb24mJihyLmR1cmF0aW9uIGluIHcuZnguc3BlZWRzP3IuZHVyYXRpb249dy5meC5zcGVlZHNbci5kdXJhdGlvbl06ci5kdXJhdGlvbj13LmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9ci5xdWV1ZSYmITAhPT1yLnF1ZXVlfHwoci5xdWV1ZT1cImZ4XCIpLHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe3koci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJncuZGVxdWV1ZSh0aGlzLHIucXVldWUpfSxyfSx3LmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihvZSkuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT13LmlzRW1wdHlPYmplY3QoZSkscz13LnNwZWVkKHQsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIHQ9aHQodGhpcyx3LmV4dGVuZCh7fSxlKSxzKTsoaXx8Wi5nZXQodGhpcyxcImZpbmlzaFwiKSkmJnQuc3RvcCghMCl9O3JldHVybiBhLmZpbmlzaD1hLGl8fCExPT09cy5xdWV1ZT90aGlzLmVhY2goYSk6dGhpcy5xdWV1ZShzLnF1ZXVlLGEpfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG4pfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZSYmKG49dCx0PWUsZT12b2lkIDApLHQmJiExIT09ZSYmdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PSEwLGk9bnVsbCE9ZSYmZStcInF1ZXVlSG9va3NcIixzPXcudGltZXJzLGE9Wi5nZXQodGhpcyk7aWYoaSlhW2ldJiZhW2ldLnN0b3AmJnIoYVtpXSk7ZWxzZSBmb3IoaSBpbiBhKWFbaV0mJmFbaV0uc3RvcCYmYXQudGVzdChpKSYmcihhW2ldKTtmb3IoaT1zLmxlbmd0aDtpLS07KXNbaV0uZWxlbSE9PXRoaXN8fG51bGwhPWUmJnNbaV0ucXVldWUhPT1lfHwoc1tpXS5hbmltLnN0b3AobiksdD0hMSxzLnNwbGljZShpLDEpKTshdCYmbnx8dy5kZXF1ZXVlKHRoaXMsZSl9KX0sZmluaXNoOmZ1bmN0aW9uKGUpe3JldHVybiExIT09ZSYmKGU9ZXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxuPVouZ2V0KHRoaXMpLHI9bltlK1wicXVldWVcIl0saT1uW2UrXCJxdWV1ZUhvb2tzXCJdLHM9dy50aW1lcnMsYT1yP3IubGVuZ3RoOjA7Zm9yKG4uZmluaXNoPSEwLHcucXVldWUodGhpcyxlLFtdKSxpJiZpLnN0b3AmJmkuc3RvcC5jYWxsKHRoaXMsITApLHQ9cy5sZW5ndGg7dC0tOylzW3RdLmVsZW09PT10aGlzJiZzW3RdLnF1ZXVlPT09ZSYmKHNbdF0uYW5pbS5zdG9wKCEwKSxzLnNwbGljZSh0LDEpKTtmb3IodD0wO3Q8YTt0Kyspclt0XSYmclt0XS5maW5pc2gmJnJbdF0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIG4uZmluaXNofSl9fSksdy5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihlLHQpe3ZhciBuPXcuZm5bdF07dy5mblt0XT1mdW5jdGlvbihlLHIsaSl7cmV0dXJuIG51bGw9PWV8fFwiYm9vbGVhblwiPT10eXBlb2YgZT9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoY3QodCwhMCksZSxyLGkpfX0pLHcuZWFjaCh7c2xpZGVEb3duOmN0KFwic2hvd1wiKSxzbGlkZVVwOmN0KFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpjdChcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGUsdCl7dy5mbltlXT1mdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0LGUsbixyKX19KSx3LnRpbWVycz1bXSx3LmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj13LnRpbWVycztmb3IocnQ9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHx3LmZ4LnN0b3AoKSxydD12b2lkIDB9LHcuZngudGltZXI9ZnVuY3Rpb24oZSl7dy50aW1lcnMucHVzaChlKSx3LmZ4LnN0YXJ0KCl9LHcuZnguaW50ZXJ2YWw9MTMsdy5meC5zdGFydD1mdW5jdGlvbigpe2l0fHwoaXQ9ITAsb3QoKSl9LHcuZnguc3RvcD1mdW5jdGlvbigpe2l0PW51bGx9LHcuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHcuZm4uZGVsYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT13LmZ4JiZ3LmZ4LnNwZWVkc1tlXXx8ZSx0PXR8fFwiZnhcIix0aGlzLnF1ZXVlKHQsZnVuY3Rpb24odCxuKXt2YXIgaT1yLnNldFRpbWVvdXQodCxlKTtuLnN0b3A9ZnVuY3Rpb24oKXtyLmNsZWFyVGltZW91dChpKX19KX0sZnVuY3Rpb24oKXt2YXIgZT1vLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSx0PW8uY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKS5hcHBlbmRDaGlsZChvLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2UudHlwZT1cImNoZWNrYm94XCIsdi5jaGVja09uPVwiXCIhPT1lLnZhbHVlLHYub3B0U2VsZWN0ZWQ9dC5zZWxlY3RlZCwoZT1vLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSkudmFsdWU9XCJ0XCIsZS50eXBlPVwicmFkaW9cIix2LnJhZGlvVmFsdWU9XCJ0XCI9PT1lLnZhbHVlfSgpO3ZhciB1dCxmdD13LmV4cHIuYXR0ckhhbmRsZTt3LmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiBLKHRoaXMsdy5hdHRyLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt3LnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLHcuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLHM9ZS5ub2RlVHlwZTtpZigzIT09cyYmOCE9PXMmJjIhPT1zKXJldHVybiB2b2lkIDA9PT1lLmdldEF0dHJpYnV0ZT93LnByb3AoZSx0LG4pOigxPT09cyYmdy5pc1hNTERvYyhlKXx8KGk9dy5hdHRySG9va3NbdC50b0xvd2VyQ2FzZSgpXXx8KHcuZXhwci5tYXRjaC5ib29sLnRlc3QodCk/dXQ6dm9pZCAwKSksdm9pZCAwIT09bj9udWxsPT09bj92b2lkIHcucmVtb3ZlQXR0cihlLHQpOmkmJlwic2V0XCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6KGUuc2V0QXR0cmlidXRlKHQsbitcIlwiKSxuKTppJiZcImdldFwiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6bnVsbD09KHI9dy5maW5kLmF0dHIoZSx0KSk/dm9pZCAwOnIpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihlLHQpe2lmKCF2LnJhZGlvVmFsdWUmJlwicmFkaW9cIj09PXQmJk8oZSxcImlucHV0XCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZShcInR5cGVcIix0KSxuJiYoZS52YWx1ZT1uKSx0fX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wLGk9dCYmdC5tYXRjaChJKTtpZihpJiYxPT09ZS5ub2RlVHlwZSlmb3IoO249aVtyKytdOyllLnJlbW92ZUF0dHJpYnV0ZShuKX19KSx1dD17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMT09PXQ/dy5yZW1vdmVBdHRyKGUsbik6ZS5zZXRBdHRyaWJ1dGUobixuKSxufX0sdy5lYWNoKHcuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBuPWZ0W3RdfHx3LmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQscil7dmFyIGkscyxhPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gcnx8KHM9ZnRbYV0sZnRbYV09aSxpPW51bGwhPW4oZSx0LHIpP2E6bnVsbCxmdFthXT1zKSxpfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGd0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBfdChlKXtyZXR1cm4oZS5tYXRjaChJKXx8W10pLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIG10KGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSYmZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOlwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLm1hdGNoKEkpfHxbXX13LmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQpe3JldHVybiBLKHRoaXMsdy5wcm9wLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1t3LnByb3BGaXhbZV18fGVdfSl9fSksdy5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGkscz1lLm5vZGVUeXBlO2lmKDMhPT1zJiY4IT09cyYmMiE9PXMpcmV0dXJuIDE9PT1zJiZ3LmlzWE1MRG9jKGUpfHwodD13LnByb3BGaXhbdF18fHQsaT13LnByb3BIb29rc1t0XSksdm9pZCAwIT09bj9pJiZcInNldFwiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiZcImdldFwiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXcuZmluZC5hdHRyKGUsXCJ0YWJpbmRleFwiKTtyZXR1cm4gdD9wYXJzZUludCh0LDEwKTpwdC50ZXN0KGUubm9kZU5hbWUpfHxndC50ZXN0KGUubm9kZU5hbWUpJiZlLmhyZWY/MDotMX19fSxwcm9wRml4Ontmb3I6XCJodG1sRm9yXCIsY2xhc3M6XCJjbGFzc05hbWVcIn19KSx2Lm9wdFNlbGVjdGVkfHwody5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTt0JiYodC5zZWxlY3RlZEluZGV4LHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLHcuZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXt3LnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSksdy5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLHMsYSxvLGQ9MDtpZih5KGUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7dyh0aGlzKS5hZGRDbGFzcyhlLmNhbGwodGhpcyx0LG10KHRoaXMpKSl9KTtpZigodD12dChlKSkubGVuZ3RoKWZvcig7bj10aGlzW2QrK107KWlmKGk9bXQobikscj0xPT09bi5ub2RlVHlwZSYmXCIgXCIrX3QoaSkrXCIgXCIpe2ZvcihhPTA7cz10W2ErK107KXIuaW5kZXhPZihcIiBcIitzK1wiIFwiKTwwJiYocis9cytcIiBcIik7aSE9PShvPV90KHIpKSYmbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLG8pfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxzLGEsbyxkPTA7aWYoeShlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3codGhpcykucmVtb3ZlQ2xhc3MoZS5jYWxsKHRoaXMsdCxtdCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cihcImNsYXNzXCIsXCJcIik7aWYoKHQ9dnQoZSkpLmxlbmd0aClmb3IoO249dGhpc1tkKytdOylpZihpPW10KG4pLHI9MT09PW4ubm9kZVR5cGUmJlwiIFwiK190KGkpK1wiIFwiKXtmb3IoYT0wO3M9dFthKytdOylmb3IoO3IuaW5kZXhPZihcIiBcIitzK1wiIFwiKT4tMTspcj1yLnJlcGxhY2UoXCIgXCIrcytcIiBcIixcIiBcIik7aSE9PShvPV90KHIpKSYmbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLG8pfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihlLHQpe3ZhciBuPXZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpzKGUpLHI9XCJzdHJpbmdcIj09PW58fEFycmF5LmlzQXJyYXkoZSk7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiB0JiZyP3Q/dGhpcy5hZGRDbGFzcyhlKTp0aGlzLnJlbW92ZUNsYXNzKGUpOnkoZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3codGhpcykudG9nZ2xlQ2xhc3MoZS5jYWxsKHRoaXMsbixtdCh0aGlzKSx0KSx0KX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LGkscyxhO2lmKHIpZm9yKGk9MCxzPXcodGhpcyksYT12dChlKTt0PWFbaSsrXTspcy5oYXNDbGFzcyh0KT9zLnJlbW92ZUNsYXNzKHQpOnMuYWRkQ2xhc3ModCk7ZWxzZSB2b2lkIDAhPT1lJiZcImJvb2xlYW5cIiE9PW58fCgodD1tdCh0aGlzKSkmJlouc2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIsdCksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIix0fHwhMT09PWU/XCJcIjpaLmdldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO2Zvcih0PVwiIFwiK2UrXCIgXCI7bj10aGlzW3IrK107KWlmKDE9PT1uLm5vZGVUeXBlJiYoXCIgXCIrX3QobXQobikpK1wiIFwiKS5pbmRleE9mKHQpPi0xKXJldHVybiEwO3JldHVybiExfX0pO3ZhciB5dD0vXFxyL2c7dy5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT10aGlzWzBdO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPXkoZSksdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3ZhciBpOzE9PT10aGlzLm5vZGVUeXBlJiYobnVsbD09KGk9cj9lLmNhbGwodGhpcyxuLHcodGhpcykudmFsKCkpOmUpP2k9XCJcIjpcIm51bWJlclwiPT10eXBlb2YgaT9pKz1cIlwiOkFycmF5LmlzQXJyYXkoaSkmJihpPXcubWFwKGksZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/XCJcIjplK1wiXCJ9KSksKHQ9dy52YWxIb29rc1t0aGlzLnR5cGVdfHx3LnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiZcInNldFwiaW4gdCYmdm9pZCAwIT09dC5zZXQodGhpcyxpLFwidmFsdWVcIil8fCh0aGlzLnZhbHVlPWkpKX0pKTppPyh0PXcudmFsSG9va3NbaS50eXBlXXx8dy52YWxIb29rc1tpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmXCJnZXRcImluIHQmJnZvaWQgMCE9PShuPXQuZ2V0KGksXCJ2YWx1ZVwiKSk/bjpcInN0cmluZ1wiPT10eXBlb2Yobj1pLnZhbHVlKT9uLnJlcGxhY2UoeXQsXCJcIik6bnVsbD09bj9cIlwiOm46dm9pZCAwfX0pLHcuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dy5maW5kLmF0dHIoZSxcInZhbHVlXCIpO3JldHVybiBudWxsIT10P3Q6X3Qody50ZXh0KGUpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPWUub3B0aW9ucyxzPWUuc2VsZWN0ZWRJbmRleCxhPVwic2VsZWN0LW9uZVwiPT09ZS50eXBlLG89YT9udWxsOltdLGQ9YT9zKzE6aS5sZW5ndGg7Zm9yKHI9czwwP2Q6YT9zOjA7cjxkO3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1zKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhTyhuLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKHQ9dyhuKS52YWwoKSxhKXJldHVybiB0O28ucHVzaCh0KX1yZXR1cm4gb30sc2V0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsaT1lLm9wdGlvbnMscz13Lm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO2EtLTspKChyPWlbYV0pLnNlbGVjdGVkPXcuaW5BcnJheSh3LnZhbEhvb2tzLm9wdGlvbi5nZXQocikscyk+LTEpJiYobj0hMCk7cmV0dXJuIG58fChlLnNlbGVjdGVkSW5kZXg9LTEpLHN9fX19KSx3LmVhY2goW1wicmFkaW9cIixcImNoZWNrYm94XCJdLGZ1bmN0aW9uKCl7dy52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gZS5jaGVja2VkPXcuaW5BcnJheSh3KGUpLnZhbCgpLHQpPi0xfX0sdi5jaGVja09ufHwody52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpP1wib25cIjplLnZhbHVlfSl9KSx2LmZvY3VzaW49XCJvbmZvY3VzaW5cImluIHI7dmFyIHh0PS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxidD1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfTt3LmV4dGVuZCh3LmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBhLGQsYyxsLGgsdSxmLHAsXz1bbnx8b10sbT1nLmNhbGwoZSxcInR5cGVcIik/ZS50eXBlOmUsdj1nLmNhbGwoZSxcIm5hbWVzcGFjZVwiKT9lLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYoZD1wPWM9bj1ufHxvLDMhPT1uLm5vZGVUeXBlJiY4IT09bi5ub2RlVHlwZSYmIXh0LnRlc3QobSt3LmV2ZW50LnRyaWdnZXJlZCkmJihtLmluZGV4T2YoXCIuXCIpPi0xJiYobT0odj1tLnNwbGl0KFwiLlwiKSkuc2hpZnQoKSx2LnNvcnQoKSksaD1tLmluZGV4T2YoXCI6XCIpPDAmJlwib25cIittLChlPWVbdy5leHBhbmRvXT9lOm5ldyB3LkV2ZW50KG0sXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6cyhlKSkmJmUpKS5pc1RyaWdnZXI9aT8yOjMsZS5uYW1lc3BhY2U9di5qb2luKFwiLlwiKSxlLnJuYW1lc3BhY2U9ZS5uYW1lc3BhY2U/bmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Yuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTp3Lm1ha2VBcnJheSh0LFtlXSksZj13LmV2ZW50LnNwZWNpYWxbbV18fHt9LGl8fCFmLnRyaWdnZXJ8fCExIT09Zi50cmlnZ2VyLmFwcGx5KG4sdCkpKXtpZighaSYmIWYubm9CdWJibGUmJiF4KG4pKXtmb3IobD1mLmRlbGVnYXRlVHlwZXx8bSx4dC50ZXN0KGwrbSl8fChkPWQucGFyZW50Tm9kZSk7ZDtkPWQucGFyZW50Tm9kZSlfLnB1c2goZCksYz1kO2M9PT0obi5vd25lckRvY3VtZW50fHxvKSYmXy5wdXNoKGMuZGVmYXVsdFZpZXd8fGMucGFyZW50V2luZG93fHxyKX1mb3IoYT0wOyhkPV9bYSsrXSkmJiFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KXA9ZCxlLnR5cGU9YT4xP2w6Zi5iaW5kVHlwZXx8bSwodT0oWi5nZXQoZCxcImV2ZW50c1wiKXx8e30pW2UudHlwZV0mJlouZ2V0KGQsXCJoYW5kbGVcIikpJiZ1LmFwcGx5KGQsdCksKHU9aCYmZFtoXSkmJnUuYXBwbHkmJkcoZCkmJihlLnJlc3VsdD11LmFwcGx5KGQsdCksITE9PT1lLnJlc3VsdCYmZS5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gZS50eXBlPW0saXx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zi5fZGVmYXVsdCYmITEhPT1mLl9kZWZhdWx0LmFwcGx5KF8ucG9wKCksdCl8fCFHKG4pfHxoJiZ5KG5bbV0pJiYheChuKSYmKChjPW5baF0pJiYobltoXT1udWxsKSx3LmV2ZW50LnRyaWdnZXJlZD1tLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmcC5hZGRFdmVudExpc3RlbmVyKG0sYnQpLG5bbV0oKSxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJnAucmVtb3ZlRXZlbnRMaXN0ZW5lcihtLGJ0KSx3LmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsYyYmKG5baF09YykpLGUucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXcuZXh0ZW5kKG5ldyB3LkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMH0pO3cuZXZlbnQudHJpZ2dlcihyLG51bGwsdCl9fSksdy5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXNbMF07aWYobilyZXR1cm4gdy5ldmVudC50cmlnZ2VyKGUsdCxuLCEwKX19KSx2LmZvY3VzaW58fHcuZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSl7dy5ldmVudC5zaW11bGF0ZSh0LGUudGFyZ2V0LHcuZXZlbnQuZml4KGUpKX07dy5ldmVudC5zcGVjaWFsW3RdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciByPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxpPVouYWNjZXNzKHIsdCk7aXx8ci5hZGRFdmVudExpc3RlbmVyKGUsbiwhMCksWi5hY2Nlc3Mocix0LChpfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgcj10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsaT1aLmFjY2VzcyhyLHQpLTE7aT9aLmFjY2VzcyhyLHQsaSk6KHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITApLFoucmVtb3ZlKHIsdCkpfX19KTt2YXIganQ9ci5sb2NhdGlvbixrdD1EYXRlLm5vdygpLHd0PS9cXD8vO3cucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgci5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLFwidGV4dC94bWxcIil9Y2F0Y2goZSl7dD12b2lkIDB9cmV0dXJuIHQmJiF0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RofHx3LmVycm9yKFwiSW52YWxpZCBYTUw6IFwiK2UpLHR9O3ZhciBDdD0vXFxbXFxdJC8sVHQ9L1xccj9cXG4vZyxOdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksU3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEV0KGUsdCxuLHIpe3ZhciBpO2lmKEFycmF5LmlzQXJyYXkodCkpdy5lYWNoKHQsZnVuY3Rpb24odCxpKXtufHxDdC50ZXN0KGUpP3IoZSxpKTpFdChlK1wiW1wiKyhcIm9iamVjdFwiPT09KHZvaWQgMD09PWk/XCJ1bmRlZmluZWRcIjpzKGkpKSYmbnVsbCE9aT90OlwiXCIpK1wiXVwiLGksbixyKX0pO2Vsc2UgaWYobnx8XCJvYmplY3RcIiE9PWsodCkpcihlLHQpO2Vsc2UgZm9yKGkgaW4gdClFdChlK1wiW1wiK2krXCJdXCIsdFtpXSxuLHIpfXcucGFyYW09ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj15KHQpP3QoKTp0O3Jbci5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQobnVsbD09bj9cIlwiOm4pfTtpZihBcnJheS5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIXcuaXNQbGFpbk9iamVjdChlKSl3LmVhY2goZSxmdW5jdGlvbigpe2kodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IobiBpbiBlKUV0KG4sZVtuXSx0LGkpO3JldHVybiByLmpvaW4oXCImXCIpfSx3LmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHcucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT13LnByb3AodGhpcyxcImVsZW1lbnRzXCIpO3JldHVybiBlP3cubWFrZUFycmF5KGUpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIXcodGhpcykuaXMoXCI6ZGlzYWJsZWRcIikmJlN0LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFOdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhZmUudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj13KHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1uP251bGw6QXJyYXkuaXNBcnJheShuKT93Lm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoVHQsXCJcXHJcXG5cIil9fSk6e25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShUdCxcIlxcclxcblwiKX19KS5nZXQoKX19KTt2YXIgQXQ9LyUyMC9nLE90PS8jLiokLyxMdD0vKFs/Jl0pXz1bXiZdKi8sRHQ9L14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9nbSxQdD0vXig/OkdFVHxIRUFEKSQvLHF0PS9eXFwvXFwvLyxNdD17fSxIdD17fSxGdD1cIiovXCIuY29uY2F0KFwiKlwiKSxJdD1vLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2Z1bmN0aW9uICR0KGUpe3JldHVybiBmdW5jdGlvbih0LG4pe1wic3RyaW5nXCIhPXR5cGVvZiB0JiYobj10LHQ9XCIqXCIpO3ZhciByLGk9MCxzPXQudG9Mb3dlckNhc2UoKS5tYXRjaChJKXx8W107aWYoeShuKSlmb3IoO3I9c1tpKytdOylcIitcIj09PXJbMF0/KHI9ci5zbGljZSgxKXx8XCIqXCIsKGVbcl09ZVtyXXx8W10pLnVuc2hpZnQobikpOihlW3JdPWVbcl18fFtdKS5wdXNoKG4pfX1mdW5jdGlvbiBSdChlLHQsbixyKXt2YXIgaT17fSxzPWU9PT1IdDtmdW5jdGlvbiBhKG8pe3ZhciBkO3JldHVybiBpW29dPSEwLHcuZWFjaChlW29dfHxbXSxmdW5jdGlvbihlLG8pe3ZhciBjPW8odCxuLHIpO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBjfHxzfHxpW2NdP3M/IShkPWMpOnZvaWQgMDoodC5kYXRhVHlwZXMudW5zaGlmdChjKSxhKGMpLCExKX0pLGR9cmV0dXJuIGEodC5kYXRhVHlwZXNbMF0pfHwhaVtcIipcIl0mJmEoXCIqXCIpfWZ1bmN0aW9uIFd0KGUsdCl7dmFyIG4scixpPXcuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJncuZXh0ZW5kKCEwLGUsciksZX1JdC5ocmVmPWp0LmhyZWYsdy5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmp0LmhyZWYsdHlwZTpcIkdFVFwiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChqdC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6RnQsdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDovXFxieG1sXFxiLyxodG1sOi9cXGJodG1sLyxqc29uOi9cXGJqc29uXFxiL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOkpTT04ucGFyc2UsXCJ0ZXh0IHhtbFwiOncucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P1d0KFd0KGUsdy5hamF4U2V0dGluZ3MpLHQpOld0KHcuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOiR0KE10KSxhamF4VHJhbnNwb3J0OiR0KEh0KSxhamF4OmZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6cyhlKSkmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIG4saSxhLGQsYyxsLGgsdSxmLHAsZz13LmFqYXhTZXR1cCh7fSx0KSxfPWcuY29udGV4dHx8ZyxtPWcuY29udGV4dCYmKF8ubm9kZVR5cGV8fF8uanF1ZXJ5KT93KF8pOncuZXZlbnQsdj13LkRlZmVycmVkKCkseT13LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHg9Zy5zdGF0dXNDb2RlfHx7fSxiPXt9LGo9e30saz1cImNhbmNlbGVkXCIsQz17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGgpe2lmKCFkKWZvcihkPXt9O3Q9RHQuZXhlYyhhKTspZFt0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl07dD1kW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9hOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9altlLnRvTG93ZXJDYXNlKCldPWpbZS50b0xvd2VyQ2FzZSgpXXx8ZSxiW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJihnLm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKUMuYWx3YXlzKGVbQy5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpeFt0XT1beFt0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8aztyZXR1cm4gbiYmbi5hYm9ydCh0KSxUKDAsdCksdGhpc319O2lmKHYucHJvbWlzZShDKSxnLnVybD0oKGV8fGcudXJsfHxqdC5ocmVmKStcIlwiKS5yZXBsYWNlKHF0LGp0LnByb3RvY29sK1wiLy9cIiksZy50eXBlPXQubWV0aG9kfHx0LnR5cGV8fGcubWV0aG9kfHxnLnR5cGUsZy5kYXRhVHlwZXM9KGcuZGF0YVR5cGV8fFwiKlwiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEkpfHxbXCJcIl0sbnVsbD09Zy5jcm9zc0RvbWFpbil7bD1vLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3RyeXtsLmhyZWY9Zy51cmwsbC5ocmVmPWwuaHJlZixnLmNyb3NzRG9tYWluPUl0LnByb3RvY29sK1wiLy9cIitJdC5ob3N0IT1sLnByb3RvY29sK1wiLy9cIitsLmhvc3R9Y2F0Y2goZSl7Zy5jcm9zc0RvbWFpbj0hMH19aWYoZy5kYXRhJiZnLnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2YgZy5kYXRhJiYoZy5kYXRhPXcucGFyYW0oZy5kYXRhLGcudHJhZGl0aW9uYWwpKSxSdChNdCxnLHQsQyksaClyZXR1cm4gQztmb3IoZiBpbih1PXcuZXZlbnQmJmcuZ2xvYmFsKSYmMD09dy5hY3RpdmUrKyYmdy5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLGcudHlwZT1nLnR5cGUudG9VcHBlckNhc2UoKSxnLmhhc0NvbnRlbnQ9IVB0LnRlc3QoZy50eXBlKSxpPWcudXJsLnJlcGxhY2UoT3QsXCJcIiksZy5oYXNDb250ZW50P2cuZGF0YSYmZy5wcm9jZXNzRGF0YSYmMD09PShnLmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiYoZy5kYXRhPWcuZGF0YS5yZXBsYWNlKEF0LFwiK1wiKSk6KHA9Zy51cmwuc2xpY2UoaS5sZW5ndGgpLGcuZGF0YSYmKGcucHJvY2Vzc0RhdGF8fFwic3RyaW5nXCI9PXR5cGVvZiBnLmRhdGEpJiYoaSs9KHd0LnRlc3QoaSk/XCImXCI6XCI/XCIpK2cuZGF0YSxkZWxldGUgZy5kYXRhKSwhMT09PWcuY2FjaGUmJihpPWkucmVwbGFjZShMdCxcIiQxXCIpLHA9KHd0LnRlc3QoaSk/XCImXCI6XCI/XCIpK1wiXz1cIitrdCsrK3ApLGcudXJsPWkrcCksZy5pZk1vZGlmaWVkJiYody5sYXN0TW9kaWZpZWRbaV0mJkMuc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIsdy5sYXN0TW9kaWZpZWRbaV0pLHcuZXRhZ1tpXSYmQy5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLHcuZXRhZ1tpXSkpLChnLmRhdGEmJmcuaGFzQ29udGVudCYmITEhPT1nLmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmQy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsZy5jb250ZW50VHlwZSksQy5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsZy5kYXRhVHlwZXNbMF0mJmcuYWNjZXB0c1tnLmRhdGFUeXBlc1swXV0/Zy5hY2NlcHRzW2cuZGF0YVR5cGVzWzBdXSsoXCIqXCIhPT1nLmRhdGFUeXBlc1swXT9cIiwgXCIrRnQrXCI7IHE9MC4wMVwiOlwiXCIpOmcuYWNjZXB0c1tcIipcIl0pLGcuaGVhZGVycylDLnNldFJlcXVlc3RIZWFkZXIoZixnLmhlYWRlcnNbZl0pO2lmKGcuYmVmb3JlU2VuZCYmKCExPT09Zy5iZWZvcmVTZW5kLmNhbGwoXyxDLGcpfHxoKSlyZXR1cm4gQy5hYm9ydCgpO2lmKGs9XCJhYm9ydFwiLHkuYWRkKGcuY29tcGxldGUpLEMuZG9uZShnLnN1Y2Nlc3MpLEMuZmFpbChnLmVycm9yKSxuPVJ0KEh0LGcsdCxDKSl7aWYoQy5yZWFkeVN0YXRlPTEsdSYmbS50cmlnZ2VyKFwiYWpheFNlbmRcIixbQyxnXSksaClyZXR1cm4gQztnLmFzeW5jJiZnLnRpbWVvdXQ+MCYmKGM9ci5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Qy5hYm9ydChcInRpbWVvdXRcIil9LGcudGltZW91dCkpO3RyeXtoPSExLG4uc2VuZChiLFQpfWNhdGNoKGUpe2lmKGgpdGhyb3cgZTtUKC0xLGUpfX1lbHNlIFQoLTEsXCJObyBUcmFuc3BvcnRcIik7ZnVuY3Rpb24gVChlLHQscyxvKXt2YXIgZCxsLGYscCxiLGo9dDtofHwoaD0hMCxjJiZyLmNsZWFyVGltZW91dChjKSxuPXZvaWQgMCxhPW98fFwiXCIsQy5yZWFkeVN0YXRlPWU+MD80OjAsZD1lPj0yMDAmJmU8MzAwfHwzMDQ9PT1lLHMmJihwPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaSxzLGEsbz1lLmNvbnRlbnRzLGQ9ZS5kYXRhVHlwZXM7XCIqXCI9PT1kWzBdOylkLnNoaWZ0KCksdm9pZCAwPT09ciYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYocilmb3IoaSBpbiBvKWlmKG9baV0mJm9baV0udGVzdChyKSl7ZC51bnNoaWZ0KGkpO2JyZWFrfWlmKGRbMF1pbiBuKXM9ZFswXTtlbHNle2ZvcihpIGluIG4pe2lmKCFkWzBdfHxlLmNvbnZlcnRlcnNbaStcIiBcIitkWzBdXSl7cz1pO2JyZWFrfWF8fChhPWkpfXM9c3x8YX1pZihzKXJldHVybiBzIT09ZFswXSYmZC51bnNoaWZ0KHMpLG5bc119KGcsQyxzKSkscD1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxzLGEsbyxkLGM9e30sbD1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGxbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWNbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07Zm9yKHM9bC5zaGlmdCgpO3M7KWlmKGUucmVzcG9uc2VGaWVsZHNbc10mJihuW2UucmVzcG9uc2VGaWVsZHNbc11dPXQpLCFkJiZyJiZlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKSxkPXMscz1sLnNoaWZ0KCkpaWYoXCIqXCI9PT1zKXM9ZDtlbHNlIGlmKFwiKlwiIT09ZCYmZCE9PXMpe2lmKCEoYT1jW2QrXCIgXCIrc118fGNbXCIqIFwiK3NdKSlmb3IoaSBpbiBjKWlmKChvPWkuc3BsaXQoXCIgXCIpKVsxXT09PXMmJihhPWNbZCtcIiBcIitvWzBdXXx8Y1tcIiogXCIrb1swXV0pKXshMD09PWE/YT1jW2ldOiEwIT09Y1tpXSYmKHM9b1swXSxsLnVuc2hpZnQob1sxXSkpO2JyZWFrfWlmKCEwIT09YSlpZihhJiZlLnRocm93cyl0PWEodCk7ZWxzZSB0cnl7dD1hKHQpfWNhdGNoKGUpe3JldHVybntzdGF0ZTpcInBhcnNlcmVycm9yXCIsZXJyb3I6YT9lOlwiTm8gY29udmVyc2lvbiBmcm9tIFwiK2QrXCIgdG8gXCIrc319fXJldHVybntzdGF0ZTpcInN1Y2Nlc3NcIixkYXRhOnR9fShnLHAsQyxkKSxkPyhnLmlmTW9kaWZpZWQmJigoYj1DLmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKSkmJih3Lmxhc3RNb2RpZmllZFtpXT1iKSwoYj1DLmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSkmJih3LmV0YWdbaV09YikpLDIwND09PWV8fFwiSEVBRFwiPT09Zy50eXBlP2o9XCJub2NvbnRlbnRcIjozMDQ9PT1lP2o9XCJub3Rtb2RpZmllZFwiOihqPXAuc3RhdGUsbD1wLmRhdGEsZD0hKGY9cC5lcnJvcikpKTooZj1qLCFlJiZqfHwoaj1cImVycm9yXCIsZTwwJiYoZT0wKSkpLEMuc3RhdHVzPWUsQy5zdGF0dXNUZXh0PSh0fHxqKStcIlwiLGQ/di5yZXNvbHZlV2l0aChfLFtsLGosQ10pOnYucmVqZWN0V2l0aChfLFtDLGosZl0pLEMuc3RhdHVzQ29kZSh4KSx4PXZvaWQgMCx1JiZtLnRyaWdnZXIoZD9cImFqYXhTdWNjZXNzXCI6XCJhamF4RXJyb3JcIixbQyxnLGQ/bDpmXSkseS5maXJlV2l0aChfLFtDLGpdKSx1JiYobS50cmlnZ2VyKFwiYWpheENvbXBsZXRlXCIsW0MsZ10pLC0tdy5hY3RpdmV8fHcuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpKSl9cmV0dXJuIEN9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB3LmdldChlLHQsbixcImpzb25cIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiB3LmdldChlLHZvaWQgMCx0LFwic2NyaXB0XCIpfX0pLHcuZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oZSx0KXt3W3RdPWZ1bmN0aW9uKGUsbixyLGkpe3JldHVybiB5KG4pJiYoaT1pfHxyLHI9bixuPXZvaWQgMCksdy5hamF4KHcuZXh0ZW5kKHt1cmw6ZSx0eXBlOnQsZGF0YVR5cGU6aSxkYXRhOm4sc3VjY2VzczpyfSx3LmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSx3Ll9ldmFsVXJsPWZ1bmN0aW9uKGUpe3JldHVybiB3LmFqYXgoe3VybDplLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSx0aHJvd3M6ITB9KX0sdy5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHRoaXNbMF0mJih5KGUpJiYoZT1lLmNhbGwodGhpc1swXSkpLHQ9dyhlLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmdC5pbnNlcnRCZWZvcmUodGhpc1swXSksdC5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcztlLmZpcnN0RWxlbWVudENoaWxkOyllPWUuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGV9KS5hcHBlbmQodGhpcykpLHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihlKXtyZXR1cm4geShlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7dyh0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsdCkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dyh0aGlzKSxuPXQuY29udGVudHMoKTtuLmxlbmd0aD9uLndyYXBBbGwoZSk6dC5hcHBlbmQoZSl9KX0sd3JhcDpmdW5jdGlvbihlKXt2YXIgdD15KGUpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7dyh0aGlzKS53cmFwQWxsKHQ/ZS5jYWxsKHRoaXMsbik6ZSl9KX0sdW53cmFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudChlKS5ub3QoXCJib2R5XCIpLmVhY2goZnVuY3Rpb24oKXt3KHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLHcuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hdy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sdy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LHcuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IHIuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0senQ9dy5hamF4U2V0dGluZ3MueGhyKCk7di5jb3JzPSEhenQmJlwid2l0aENyZWRlbnRpYWxzXCJpbiB6dCx2LmFqYXg9enQ9ISF6dCx3LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oZSl7dmFyIHQsbjtpZih2LmNvcnN8fHp0JiYhZS5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbihpLHMpe3ZhciBhLG89ZS54aHIoKTtpZihvLm9wZW4oZS50eXBlLGUudXJsLGUuYXN5bmMsZS51c2VybmFtZSxlLnBhc3N3b3JkKSxlLnhockZpZWxkcylmb3IoYSBpbiBlLnhockZpZWxkcylvW2FdPWUueGhyRmllbGRzW2FdO2ZvcihhIGluIGUubWltZVR5cGUmJm8ub3ZlcnJpZGVNaW1lVHlwZSYmby5vdmVycmlkZU1pbWVUeXBlKGUubWltZVR5cGUpLGUuY3Jvc3NEb21haW58fGlbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwoaVtcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKSxpKW8uc2V0UmVxdWVzdEhlYWRlcihhLGlbYV0pO3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dCYmKHQ9bj1vLm9ubG9hZD1vLm9uZXJyb3I9by5vbmFib3J0PW8ub250aW1lb3V0PW8ub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsXCJhYm9ydFwiPT09ZT9vLmFib3J0KCk6XCJlcnJvclwiPT09ZT9cIm51bWJlclwiIT10eXBlb2Ygby5zdGF0dXM/cygwLFwiZXJyb3JcIik6cyhvLnN0YXR1cyxvLnN0YXR1c1RleHQpOnMoQnRbby5zdGF0dXNdfHxvLnN0YXR1cyxvLnN0YXR1c1RleHQsXCJ0ZXh0XCIhPT0oby5yZXNwb25zZVR5cGV8fFwidGV4dFwiKXx8XCJzdHJpbmdcIiE9dHlwZW9mIG8ucmVzcG9uc2VUZXh0P3tiaW5hcnk6by5yZXNwb25zZX06e3RleHQ6by5yZXNwb25zZVRleHR9LG8uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LG8ub25sb2FkPXQoKSxuPW8ub25lcnJvcj1vLm9udGltZW91dD10KFwiZXJyb3JcIiksdm9pZCAwIT09by5vbmFib3J0P28ub25hYm9ydD1uOm8ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PW8ucmVhZHlTdGF0ZSYmci5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCYmbigpfSl9LHQ9dChcImFib3J0XCIpO3RyeXtvLnNlbmQoZS5oYXNDb250ZW50JiZlLmRhdGF8fG51bGwpfWNhdGNoKGUpe2lmKHQpdGhyb3cgZX19LGFib3J0OmZ1bmN0aW9uKCl7dCYmdCgpfX19KSx3LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7ZS5jcm9zc0RvbWFpbiYmKGUuY29udGVudHMuc2NyaXB0PSExKX0pLHcuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGUpe3JldHVybiB3Lmdsb2JhbEV2YWwoZSksZX19fSksdy5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5jYWNoZSYmKGUuY2FjaGU9ITEpLGUuY3Jvc3NEb21haW4mJihlLnR5cGU9XCJHRVRcIil9KSx3LmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihlKXt2YXIgdCxuO2lmKGUuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24ocixpKXt0PXcoXCI8c2NyaXB0PlwiKS5wcm9wKHtjaGFyc2V0OmUuc2NyaXB0Q2hhcnNldCxzcmM6ZS51cmx9KS5vbihcImxvYWQgZXJyb3JcIixuPWZ1bmN0aW9uKGUpe3QucmVtb3ZlKCksbj1udWxsLGUmJmkoXCJlcnJvclwiPT09ZS50eXBlPzQwNDoyMDAsZS50eXBlKX0pLG8uaGVhZC5hcHBlbmRDaGlsZCh0WzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtuJiZuKCl9fX0pO3ZhciBVdCxLdD1bXSxYdD0vKD0pXFw/KD89JnwkKXxcXD9cXD8vO3cuYWpheFNldHVwKHtqc29ucDpcImNhbGxiYWNrXCIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPUt0LnBvcCgpfHx3LmV4cGFuZG8rXCJfXCIra3QrKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLHcuYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIixmdW5jdGlvbihlLHQsbil7dmFyIGkscyxhLG89ITEhPT1lLmpzb25wJiYoWHQudGVzdChlLnVybCk/XCJ1cmxcIjpcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhJiYwPT09KGUuY29udGVudFR5cGV8fFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikmJlh0LnRlc3QoZS5kYXRhKSYmXCJkYXRhXCIpO2lmKG98fFwianNvbnBcIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiBpPWUuanNvbnBDYWxsYmFjaz15KGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLG8/ZVtvXT1lW29dLnJlcGxhY2UoWHQsXCIkMVwiK2kpOiExIT09ZS5qc29ucCYmKGUudXJsKz0od3QudGVzdChlLnVybCk/XCImXCI6XCI/XCIpK2UuanNvbnArXCI9XCIraSksZS5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gYXx8dy5lcnJvcihpK1wiIHdhcyBub3QgY2FsbGVkXCIpLGFbMF19LGUuZGF0YVR5cGVzWzBdPVwianNvblwiLHM9cltpXSxyW2ldPWZ1bmN0aW9uKCl7YT1hcmd1bWVudHN9LG4uYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09cz93KHIpLnJlbW92ZVByb3AoaSk6cltpXT1zLGVbaV0mJihlLmpzb25wQ2FsbGJhY2s9dC5qc29ucENhbGxiYWNrLEt0LnB1c2goaSkpLGEmJnkocykmJnMoYVswXSksYT1zPXZvaWQgMH0pLFwic2NyaXB0XCJ9KSx2LmNyZWF0ZUhUTUxEb2N1bWVudD0oKFV0PW8uaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLmJvZHkpLmlubmVySFRNTD1cIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCIsMj09PVV0LmNoaWxkTm9kZXMubGVuZ3RoKSx3LnBhcnNlSFRNTD1mdW5jdGlvbihlLHQsbil7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGU/W106KFwiYm9vbGVhblwiPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwodi5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PW8uaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpKS5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKSkuaHJlZj1vLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKHIpKTp0PW8pLGk9TC5leGVjKGUpLHM9IW4mJltdLGk/W3QuY3JlYXRlRWxlbWVudChpWzFdKV06KGk9amUoW2VdLHQscykscyYmcy5sZW5ndGgmJncocykucmVtb3ZlKCksdy5tZXJnZShbXSxpLmNoaWxkTm9kZXMpKSk7dmFyIHIsaSxzfSx3LmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksYSxvPXRoaXMsZD1lLmluZGV4T2YoXCIgXCIpO3JldHVybiBkPi0xJiYocj1fdChlLnNsaWNlKGQpKSxlPWUuc2xpY2UoMCxkKSkseSh0KT8obj10LHQ9dm9pZCAwKTp0JiZcIm9iamVjdFwiPT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpzKHQpKSYmKGk9XCJQT1NUXCIpLG8ubGVuZ3RoPjAmJncuYWpheCh7dXJsOmUsdHlwZTppfHxcIkdFVFwiLGRhdGFUeXBlOlwiaHRtbFwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7YT1hcmd1bWVudHMsby5odG1sKHI/dyhcIjxkaXY+XCIpLmFwcGVuZCh3LnBhcnNlSFRNTChlKSkuZmluZChyKTplKX0pLmFsd2F5cyhuJiZmdW5jdGlvbihlLHQpe28uZWFjaChmdW5jdGlvbigpe24uYXBwbHkodGhpcyxhfHxbZS5yZXNwb25zZVRleHQsdCxlXSl9KX0pLHRoaXN9LHcuZWFjaChbXCJhamF4U3RhcnRcIixcImFqYXhTdG9wXCIsXCJhamF4Q29tcGxldGVcIixcImFqYXhFcnJvclwiLFwiYWpheFN1Y2Nlc3NcIixcImFqYXhTZW5kXCJdLGZ1bmN0aW9uKGUsdCl7dy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbih0LGUpfX0pLHcuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB3LmdyZXAody50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LmVsZW19KS5sZW5ndGh9LHcub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGkscyxhLG8sZCxjPXcuY3NzKGUsXCJwb3NpdGlvblwiKSxsPXcoZSksaD17fTtcInN0YXRpY1wiPT09YyYmKGUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxvPWwub2Zmc2V0KCkscz13LmNzcyhlLFwidG9wXCIpLGQ9dy5jc3MoZSxcImxlZnRcIiksKFwiYWJzb2x1dGVcIj09PWN8fFwiZml4ZWRcIj09PWMpJiYocytkKS5pbmRleE9mKFwiYXV0b1wiKT4tMT8oYT0ocj1sLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChzKXx8MCxpPXBhcnNlRmxvYXQoZCl8fDApLHkodCkmJih0PXQuY2FsbChlLG4sdy5leHRlbmQoe30sbykpKSxudWxsIT10LnRvcCYmKGgudG9wPXQudG9wLW8udG9wK2EpLG51bGwhPXQubGVmdCYmKGgubGVmdD10LmxlZnQtby5sZWZ0K2kpLFwidXNpbmdcImluIHQ/dC51c2luZy5jYWxsKGUsaCk6bC5jc3MoaCl9fSx3LmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWU/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24odCl7dy5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsZSx0KX0pO3ZhciB0LG4scj10aGlzWzBdO3JldHVybiByP3IuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGg/KHQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyx7dG9wOnQudG9wK24ucGFnZVlPZmZzZXQsbGVmdDp0LmxlZnQrbi5wYWdlWE9mZnNldH0pOnt0b3A6MCxsZWZ0OjB9OnZvaWQgMH0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgZSx0LG4scj10aGlzWzBdLGk9e3RvcDowLGxlZnQ6MH07aWYoXCJmaXhlZFwiPT09dy5jc3MocixcInBvc2l0aW9uXCIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle2Zvcih0PXRoaXMub2Zmc2V0KCksbj1yLm93bmVyRG9jdW1lbnQsZT1yLm9mZnNldFBhcmVudHx8bi5kb2N1bWVudEVsZW1lbnQ7ZSYmKGU9PT1uLmJvZHl8fGU9PT1uLmRvY3VtZW50RWxlbWVudCkmJlwic3RhdGljXCI9PT13LmNzcyhlLFwicG9zaXRpb25cIik7KWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPXcoZSkub2Zmc2V0KCkpLnRvcCs9dy5jc3MoZSxcImJvcmRlclRvcFdpZHRoXCIsITApLGkubGVmdCs9dy5jc3MoZSxcImJvcmRlckxlZnRXaWR0aFwiLCEwKSl9cmV0dXJue3RvcDp0LnRvcC1pLnRvcC13LmNzcyhyLFwibWFyZ2luVG9wXCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC13LmNzcyhyLFwibWFyZ2luTGVmdFwiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7ZSYmXCJzdGF0aWNcIj09PXcuY3NzKGUsXCJwb3NpdGlvblwiKTspZT1lLm9mZnNldFBhcmVudDtyZXR1cm4gZXx8a2V9KX19KSx3LmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKGUsdCl7dmFyIG49XCJwYWdlWU9mZnNldFwiPT09dDt3LmZuW2VdPWZ1bmN0aW9uKHIpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oZSxyLGkpe3ZhciBzO2lmKHgoZSk/cz1lOjk9PT1lLm5vZGVUeXBlJiYocz1lLmRlZmF1bHRWaWV3KSx2b2lkIDA9PT1pKXJldHVybiBzP3NbdF06ZVtyXTtzP3Muc2Nyb2xsVG8obj9zLnBhZ2VYT2Zmc2V0Omksbj9pOnMucGFnZVlPZmZzZXQpOmVbcl09aX0sZSxyLGFyZ3VtZW50cy5sZW5ndGgpfX0pLHcuZWFjaChbXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oZSx0KXt3LmNzc0hvb2tzW3RdPVVlKHYucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLG4pe2lmKG4pcmV0dXJuIG49emUoZSx0KSxSZS50ZXN0KG4pP3coZSkucG9zaXRpb24oKVt0XStcInB4XCI6bn0pfSksdy5lYWNoKHtIZWlnaHQ6XCJoZWlnaHRcIixXaWR0aDpcIndpZHRoXCJ9LGZ1bmN0aW9uKGUsdCl7dy5lYWNoKHtwYWRkaW5nOlwiaW5uZXJcIitlLGNvbnRlbnQ6dCxcIlwiOlwib3V0ZXJcIitlfSxmdW5jdGlvbihuLHIpe3cuZm5bcl09ZnVuY3Rpb24oaSxzKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoJiYobnx8XCJib29sZWFuXCIhPXR5cGVvZiBpKSxvPW58fCghMD09PWl8fCEwPT09cz9cIm1hcmdpblwiOlwiYm9yZGVyXCIpO3JldHVybiBLKHRoaXMsZnVuY3Rpb24odCxuLGkpe3ZhciBzO3JldHVybiB4KHQpPzA9PT1yLmluZGV4T2YoXCJvdXRlclwiKT90W1wiaW5uZXJcIitlXTp0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtcImNsaWVudFwiK2VdOjk9PT10Lm5vZGVUeXBlPyhzPXQuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KHQuYm9keVtcInNjcm9sbFwiK2VdLHNbXCJzY3JvbGxcIitlXSx0LmJvZHlbXCJvZmZzZXRcIitlXSxzW1wib2Zmc2V0XCIrZV0sc1tcImNsaWVudFwiK2VdKSk6dm9pZCAwPT09aT93LmNzcyh0LG4sbyk6dy5zdHlsZSh0LG4saSxvKX0sdCxhP2k6dm9pZCAwLGEpfX0pfSksdy5lYWNoKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihlLHQpe3cuZm5bdF09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24odCxudWxsLGUsbik6dGhpcy50cmlnZ2VyKHQpfX0pLHcuZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZSkubW91c2VsZWF2ZSh0fHxlKX19KSx3LmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSxcIioqXCIpOnRoaXMub2ZmKHQsZXx8XCIqKlwiLG4pfX0pLHcucHJveHk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9bikseShlKSlyZXR1cm4gcj1jLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChjLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHx3Lmd1aWQrKyxpfSx3LmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP3cucmVhZHlXYWl0Kys6dy5yZWFkeSghMCl9LHcuaXNBcnJheT1BcnJheS5pc0FycmF5LHcucGFyc2VKU09OPUpTT04ucGFyc2Usdy5ub2RlTmFtZT1PLHcuaXNGdW5jdGlvbj15LHcuaXNXaW5kb3c9eCx3LmNhbWVsQ2FzZT1WLHcudHlwZT1rLHcubm93PURhdGUubm93LHcuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PXcudHlwZShlKTtyZXR1cm4oXCJudW1iZXJcIj09PXR8fFwic3RyaW5nXCI9PT10KSYmIWlzTmFOKGUtcGFyc2VGbG9hdChlKSl9LHZvaWQgMD09PShuPWZ1bmN0aW9uKCl7cmV0dXJuIHd9LmFwcGx5KHQsW10pKXx8KGUuZXhwb3J0cz1uKTt2YXIgWXQ9ci5qUXVlcnksSnQ9ci4kO3JldHVybiB3Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuJD09PXcmJihyLiQ9SnQpLGUmJnIualF1ZXJ5PT09dyYmKHIualF1ZXJ5PVl0KSx3fSxpfHwoci5qUXVlcnk9ci4kPXcpLHd9LFwib2JqZWN0XCI9PT1zKGUpJiZcIm9iamVjdFwiPT09cyhlLmV4cG9ydHMpP2UuZXhwb3J0cz1yLmRvY3VtZW50P2kociwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtyZXR1cm4gaShlKX06aShyKX0pLmNhbGwodGhpcyxuKDQpKGUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W2RhdGEtZW5hYmxlXVwiKTtBcnJheS5mcm9tKGUpLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPXQuZGF0YXNldC5lbmFibGU7cmV0dXJuIGUuaW5jbHVkZXMobil8fGUucHVzaChuKSxlfSxbXSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoZSl9KX07dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5uYW1lPXQsdGhpcy5pbnB1dHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdW2RhdGEtZW5hYmxlPVwiJyt0KydcIl0nKSx0aGlzLmJ1dHRvbnM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZW5hYmxlcj1cIicrdCsnXCJdJyksdGhpcy5pbml0KCl9cmV0dXJuIHIoZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudG9nZ2xlQnV0dG9ucygpLHRoaXMuc2V0dXBFdmVudHMoKX19LHtrZXk6XCJpc0NoZWNrZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuaW5wdXRzKS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoZWNrZWR9KX19LHtrZXk6XCJ0b2dnbGVCdXR0b25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0hdGhpcy5pc0NoZWNrZWQoKTt0aGlzLmJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbih0KXt0LmRpc2FibGVkPWV9KX19LHtrZXk6XCJzZXR1cEV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlLnRvZ2dsZUJ1dHRvbnMuYmluZChlKSl9KX19XSksZX0oKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0LmRhdGFzZXQubmd1aXJlc2l6ZXx8KHRoaXMuZWw9dCx0aGlzLnNldHRpbmdzPU9iamVjdC5hc3NpZ24oe30se2Nvbm5lY3RXaXRoOiExLG1pbldpZHRoOjE0MH0sbiksdGhpcy5oYW5kbGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm9uTW91c2VVcD10aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpLHRoaXMub25Nb3VzZU1vdmU9dGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpLHRoaXMuaW5pdCgpKX1yZXR1cm4gcihlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbC5kYXRhc2V0Lm5ndWlyZXNpemU9ITAsdGhpcy5zZXR0aW5ncy5jb25uZWN0V2l0aCYmKHRoaXMuY29ubmVjdGVkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZXR0aW5ncy5jb25uZWN0V2l0aCkpLHRoaXMuaW5pdGlhbFJlc2l6ZSgpLHRoaXMuZWwuY2xhc3NMaXN0LmFkZChcIm5nLXVpLXJlc2l6YWJsZVwiKSx0aGlzLmhhbmRsZS5jbGFzc0xpc3QuYWRkKFwibmctdWktcmVzaXphYmxlLWhhbmRsZVwiKSx0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuaGFuZGxlKSx0aGlzLnNldHVwRXZlbnRzKCl9fSx7a2V5Olwic2V0dXBFdmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5oYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0uY2xhc3NMaXN0LmFkZChcIm5nLXVpLXJlc2l6aW5nXCIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZS5vbk1vdXNlTW92ZSwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsZS5vbk1vdXNlVXAsITEpfSl9fSx7a2V5Olwib25Nb3VzZVVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMub25Nb3VzZU1vdmUsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMub25Nb3VzZVVwLCExKTt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF07ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJuZy11aS1yZXNpemluZ1wiKSYmKGUuY2xhc3NMaXN0LnJlbW92ZShcIm5nLXVpLXJlc2l6aW5nXCIpLHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5uZ1VpUmVzaXplPXRoaXMuZWwub2Zmc2V0V2lkdGgpfX0se2tleTpcIm9uTW91c2VNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5yZXNpemVFbChlLnBhZ2VYLXRoaXMuZWwub2Zmc2V0TGVmdCl9fSx7a2V5OlwiaW5pdGlhbFJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7KHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5uZ1VpUmVzaXplfHx0aGlzLmVsLm9mZnNldFdpZHRoKTx0aGlzLnNldHRpbmdzLm1pbldpZHRoP3RoaXMucmVzaXplRWwodGhpcy5zZXR0aW5ncy5taW5XaWR0aCk6d2luZG93LnNlc3Npb25TdG9yYWdlLm5nVWlSZXNpemUmJnRoaXMucmVzaXplRWwod2luZG93LnNlc3Npb25TdG9yYWdlLm5nVWlSZXNpemUpfX0se2tleTpcInJlc2l6ZUVsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZTx0aGlzLnNldHRpbmdzLm1pbldpZHRofHwoT2JqZWN0LmFzc2lnbih0aGlzLmVsLnN0eWxlLHtmbGV4OlwiMCAwIFwiK2UrXCJweFwifSksdGhpcy5zZXR0aW5ncy5jb25uZWN0V2l0aCYmdGhpcy5jb25uZWN0ZWQmJih0aGlzLmNvbm5lY3RlZC5zdHlsZS53aWR0aD1lK1wicHhcIikpfX1dKSxlfSgpO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxzLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07aT1bbigwKV0sdm9pZCAwPT09KHM9XCJmdW5jdGlvblwiPT10eXBlb2Yocj1mdW5jdGlvbihlLHQpe1xuLyohXG4gICoganNUcmVlIDMuMy41XG4gICogaHR0cDovL2pzdHJlZS5jb20vXG4gICpcbiAgKiBDb3B5cmlnaHQgKGMpIDIwMTQgSXZhbiBCb3poYW5vdiAoaHR0cDovL3Zha2F0YS5jb20pXG4gICpcbiAgKiBMaWNlbnNlZCBzYW1lIGFzIGpxdWVyeSAtIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIExpY2Vuc2VcbiAgKiAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gICovXG4vKiFcbiAgKiBpZiB1c2luZyBqc2xpbnQgcGxlYXNlIGFsbG93IGZvciB0aGUgalF1ZXJ5IGdsb2JhbCBhbmQgdXNlIGZvbGxvd2luZyBvcHRpb25zOlxuICAqIGpzbGludDogbG9vcGZ1bmM6IHRydWUsIGJyb3dzZXI6IHRydWUsIGFzczogdHJ1ZSwgYml0d2lzZTogdHJ1ZSwgY29udGludWU6IHRydWUsIG5vbWVuOiB0cnVlLCBwbHVzcGx1czogdHJ1ZSwgcmVnZXhwOiB0cnVlLCB1bnBhcmFtOiB0cnVlLCB0b2RvOiB0cnVlLCB3aGl0ZTogdHJ1ZVxuICAqL1xuaWYoIWUuanN0cmVlKXt2YXIgbj0wLHI9ITEsaT0hMSxzPSExLG89W10sZD1lKFwic2NyaXB0Omxhc3RcIikuYXR0cihcInNyY1wiKSxjPXdpbmRvdy5kb2N1bWVudDtlLmpzdHJlZT17dmVyc2lvbjpcIjMuMy41XCIsZGVmYXVsdHM6e3BsdWdpbnM6W119LHBsdWdpbnM6e30scGF0aDpkJiYtMSE9PWQuaW5kZXhPZihcIi9cIik/ZC5yZXBsYWNlKC9cXC9bXlxcL10rJC8sXCJcIik6XCJcIixpZHJlZ2V4Oi9bXFxcXDomIV58KClcXFtcXF08PkAqJyt+I1wiOy4sPVxcLSBcXC8ke30lP2BdL2cscm9vdDpcIiNcIn0sZS5qc3RyZWUuY3JlYXRlPWZ1bmN0aW9uKHQscil7dmFyIGk9bmV3IGUuanN0cmVlLmNvcmUoKytuKSxzPXI7cmV0dXJuIHI9ZS5leHRlbmQoITAse30sZS5qc3RyZWUuZGVmYXVsdHMscikscyYmcy5wbHVnaW5zJiYoci5wbHVnaW5zPXMucGx1Z2lucyksZS5lYWNoKHIucGx1Z2lucyxmdW5jdGlvbihlLHQpe1wiY29yZVwiIT09ZSYmKGk9aS5wbHVnaW4odCxyW3RdKSl9KSxlKHQpLmRhdGEoXCJqc3RyZWVcIixpKSxpLmluaXQodCxyKSxpfSxlLmpzdHJlZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZShcIi5qc3RyZWU6anN0cmVlXCIpLmpzdHJlZShcImRlc3Ryb3lcIiksZShjKS5vZmYoXCIuanN0cmVlXCIpfSxlLmpzdHJlZS5jb3JlPWZ1bmN0aW9uKGUpe3RoaXMuX2lkPWUsdGhpcy5fY250PTAsdGhpcy5fd3JrPW51bGwsdGhpcy5fZGF0YT17Y29yZTp7dGhlbWVzOntuYW1lOiExLGRvdHM6ITEsaWNvbnM6ITEsZWxsaXBzaXM6ITF9LHNlbGVjdGVkOltdLGxhc3RfZXJyb3I6e30sd29ya2luZzohMSx3b3JrZXJfcXVldWU6W10sZm9jdXNlZDpudWxsfX19LGUuanN0cmVlLnJlZmVyZW5jZT1mdW5jdGlvbih0KXt2YXIgbj1udWxsLHI9bnVsbDtpZighdHx8IXQuaWR8fHQudGFnTmFtZSYmdC5ub2RlVHlwZXx8KHQ9dC5pZCksIXJ8fCFyLmxlbmd0aCl0cnl7cj1lKHQpfWNhdGNoKGUpe31pZighcnx8IXIubGVuZ3RoKXRyeXtyPWUoXCIjXCIrdC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIikpfWNhdGNoKGUpe31yZXR1cm4gciYmci5sZW5ndGgmJihyPXIuY2xvc2VzdChcIi5qc3RyZWVcIikpLmxlbmd0aCYmKHI9ci5kYXRhKFwianN0cmVlXCIpKT9uPXI6ZShcIi5qc3RyZWVcIikuZWFjaChmdW5jdGlvbigpe3ZhciByPWUodGhpcykuZGF0YShcImpzdHJlZVwiKTtpZihyJiZyLl9tb2RlbC5kYXRhW3RdKXJldHVybiBuPXIsITF9KSxufSxlLmZuLmpzdHJlZT1mdW5jdGlvbihuKXt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgbixpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxzPW51bGw7cmV0dXJuISghMD09PW4mJiF0aGlzLmxlbmd0aCkmJih0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1lLmpzdHJlZS5yZWZlcmVuY2UodGhpcyksbz1yJiZhP2Fbbl06bnVsbDtpZihzPXImJm8/by5hcHBseShhLGkpOm51bGwsYXx8cnx8biE9PXQmJiFlLmlzUGxhaW5PYmplY3Qobil8fGUuanN0cmVlLmNyZWF0ZSh0aGlzLG4pLChhJiYhcnx8ITA9PT1uKSYmKHM9YXx8ITEpLG51bGwhPT1zJiZzIT09dClyZXR1cm4hMX0pLG51bGwhPT1zJiZzIT09dD9zOnRoaXMpfSxlLmV4cHIucHNldWRvcy5qc3RyZWU9ZS5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUobikuaGFzQ2xhc3MoXCJqc3RyZWVcIikmJmUobikuZGF0YShcImpzdHJlZVwiKSE9PXR9fSksZS5qc3RyZWUuZGVmYXVsdHMuY29yZT17ZGF0YTohMSxzdHJpbmdzOiExLGNoZWNrX2NhbGxiYWNrOiExLGVycm9yOmUubm9vcCxhbmltYXRpb246MjAwLG11bHRpcGxlOiEwLHRoZW1lczp7bmFtZTohMSx1cmw6ITEsZGlyOiExLGRvdHM6ITAsaWNvbnM6ITAsZWxsaXBzaXM6ITEsc3RyaXBlczohMSx2YXJpYW50OiExLHJlc3BvbnNpdmU6ITF9LGV4cGFuZF9zZWxlY3RlZF9vbmxvYWQ6ITAsd29ya2VyOiEwLGZvcmNlX3RleHQ6ITEsZGJsY2xpY2tfdG9nZ2xlOiEwLGxvYWRlZF9zdGF0ZTohMSxyZXN0b3JlX2ZvY3VzOiEwLGtleWJvYXJkOntcImN0cmwtc3BhY2VcIjpmdW5jdGlvbih0KXt0LnR5cGU9XCJjbGlja1wiLGUodC5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKHQpfSxlbnRlcjpmdW5jdGlvbih0KXt0LnR5cGU9XCJjbGlja1wiLGUodC5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKHQpfSxsZWZ0OmZ1bmN0aW9uKHQpe2lmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLmlzX29wZW4odC5jdXJyZW50VGFyZ2V0KSl0aGlzLmNsb3NlX25vZGUodC5jdXJyZW50VGFyZ2V0KTtlbHNle3ZhciBuPXRoaXMuZ2V0X3BhcmVudCh0LmN1cnJlbnRUYXJnZXQpO24mJm4uaWQhPT1lLmpzdHJlZS5yb290JiZ0aGlzLmdldF9ub2RlKG4sITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKX19LHVwOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgdD10aGlzLmdldF9wcmV2X2RvbShlLmN1cnJlbnRUYXJnZXQpO3QmJnQubGVuZ3RoJiZ0LmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKX0scmlnaHQ6ZnVuY3Rpb24odCl7aWYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaXNfY2xvc2VkKHQuY3VycmVudFRhcmdldCkpdGhpcy5vcGVuX25vZGUodC5jdXJyZW50VGFyZ2V0LGZ1bmN0aW9uKGUpe3RoaXMuZ2V0X25vZGUoZSwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpfSk7ZWxzZSBpZih0aGlzLmlzX29wZW4odC5jdXJyZW50VGFyZ2V0KSl7dmFyIG49dGhpcy5nZXRfbm9kZSh0LmN1cnJlbnRUYXJnZXQsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKVswXTtuJiZlKHRoaXMuX2ZpcnN0Q2hpbGQobikpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKX19LGRvd246ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PXRoaXMuZ2V0X25leHRfZG9tKGUuY3VycmVudFRhcmdldCk7dCYmdC5sZW5ndGgmJnQuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpfSxcIipcIjpmdW5jdGlvbihlKXt0aGlzLm9wZW5fYWxsKCl9LGhvbWU6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXRoaXMuX2ZpcnN0Q2hpbGQodGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0pO24mJmUobikuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5maWx0ZXIoXCI6dmlzaWJsZVwiKS5mb2N1cygpfSxlbmQ6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1hbmNob3JcIikuZmlsdGVyKFwiOnZpc2libGVcIikubGFzdCgpLmZvY3VzKCl9LGYyOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLmVkaXQoZS5jdXJyZW50VGFyZ2V0KX19fSxlLmpzdHJlZS5jb3JlLnByb3RvdHlwZT17cGx1Z2luOmZ1bmN0aW9uKHQsbil7dmFyIHI9ZS5qc3RyZWUucGx1Z2luc1t0XTtyZXR1cm4gcj8odGhpcy5fZGF0YVt0XT17fSxyLnByb3RvdHlwZT10aGlzLG5ldyByKG4sdGhpcykpOnRoaXN9LGluaXQ6ZnVuY3Rpb24odCxuKXt0aGlzLl9tb2RlbD17ZGF0YTp7fSxjaGFuZ2VkOltdLGZvcmNlX2Z1bGxfcmVkcmF3OiExLHJlZHJhd190aW1lb3V0OiExLGRlZmF1bHRfc3RhdGU6e2xvYWRlZDohMCxvcGVuZWQ6ITEsc2VsZWN0ZWQ6ITEsZGlzYWJsZWQ6ITF9fSx0aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdPXtpZDplLmpzdHJlZS5yb290LHBhcmVudDpudWxsLHBhcmVudHM6W10sY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxzdGF0ZTp7bG9hZGVkOiExfX0sdGhpcy5lbGVtZW50PWUodCkuYWRkQ2xhc3MoXCJqc3RyZWUganN0cmVlLVwiK3RoaXMuX2lkKSx0aGlzLnNldHRpbmdzPW4sdGhpcy5fZGF0YS5jb3JlLnJlYWR5PSExLHRoaXMuX2RhdGEuY29yZS5sb2FkZWQ9ITEsdGhpcy5fZGF0YS5jb3JlLnJ0bD1cInJ0bFwiPT09dGhpcy5lbGVtZW50LmNzcyhcImRpcmVjdGlvblwiKSx0aGlzLmVsZW1lbnRbdGhpcy5fZGF0YS5jb3JlLnJ0bD9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImpzdHJlZS1ydGxcIiksdGhpcy5lbGVtZW50LmF0dHIoXCJyb2xlXCIsXCJ0cmVlXCIpLHRoaXMuc2V0dGluZ3MuY29yZS5tdWx0aXBsZSYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiLCEwKSx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIpfHx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuYmluZCgpLHRoaXMudHJpZ2dlcihcImluaXRcIiksdGhpcy5fZGF0YS5jb3JlLm9yaWdpbmFsX2NvbnRhaW5lcl9odG1sPXRoaXMuZWxlbWVudC5maW5kKFwiID4gdWwgPiBsaVwiKS5jbG9uZSghMCksdGhpcy5fZGF0YS5jb3JlLm9yaWdpbmFsX2NvbnRhaW5lcl9odG1sLmZpbmQoXCJsaVwiKS5hZGRCYWNrKCkuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJighdGhpcy5ub2RlVmFsdWV8fC9eXFxzKyQvLnRlc3QodGhpcy5ub2RlVmFsdWUpKX0pLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5odG1sKFwiPHVsIGNsYXNzPSdqc3RyZWUtY29udGFpbmVyLXVsIGpzdHJlZS1jaGlsZHJlbicgcm9sZT0nZ3JvdXAnPjxsaSBpZD0nalwiK3RoaXMuX2lkK1wiX2xvYWRpbmcnIGNsYXNzPSdqc3RyZWUtaW5pdGlhbC1ub2RlIGpzdHJlZS1sb2FkaW5nIGpzdHJlZS1sZWFmIGpzdHJlZS1sYXN0JyByb2xlPSd0cmVlLWl0ZW0nPjxpIGNsYXNzPSdqc3RyZWUtaWNvbiBqc3RyZWUtb2NsJz48L2k+PGEgY2xhc3M9J2pzdHJlZS1hbmNob3InIGhyZWY9JyMnPjxpIGNsYXNzPSdqc3RyZWUtaWNvbiBqc3RyZWUtdGhlbWVpY29uLWhpZGRlbic+PC9pPlwiK3RoaXMuZ2V0X3N0cmluZyhcIkxvYWRpbmcgLi4uXCIpK1wiPC9hPjwvbGk+PC91bD5cIiksdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixcImpcIit0aGlzLl9pZCtcIl9sb2FkaW5nXCIpLHRoaXMuX2RhdGEuY29yZS5saV9oZWlnaHQ9dGhpcy5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oXCJsaVwiKS5maXJzdCgpLm91dGVySGVpZ2h0KCl8fDI0LHRoaXMuX2RhdGEuY29yZS5ub2RlPXRoaXMuX2NyZWF0ZV9wcm90b3R5cGVfbm9kZSgpLHRoaXMudHJpZ2dlcihcImxvYWRpbmdcIiksdGhpcy5sb2FkX25vZGUoZS5qc3RyZWUucm9vdCl9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7aWYodGhpcy50cmlnZ2VyKFwiZGVzdHJveVwiKSx0aGlzLl93cmspdHJ5e3dpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuX3dyayksdGhpcy5fd3JrPW51bGx9Y2F0Y2goZSl7fWV8fHRoaXMuZWxlbWVudC5lbXB0eSgpLHRoaXMudGVhcmRvd24oKX0sX2NyZWF0ZV9wcm90b3R5cGVfbm9kZTpmdW5jdGlvbigpe3ZhciBlLHQsbj1jLmNyZWF0ZUVsZW1lbnQoXCJMSVwiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0cmVlaXRlbVwiKSwoZT1jLmNyZWF0ZUVsZW1lbnQoXCJJXCIpKS5jbGFzc05hbWU9XCJqc3RyZWUtaWNvbiBqc3RyZWUtb2NsXCIsZS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJwcmVzZW50YXRpb25cIiksbi5hcHBlbmRDaGlsZChlKSwoZT1jLmNyZWF0ZUVsZW1lbnQoXCJBXCIpKS5jbGFzc05hbWU9XCJqc3RyZWUtYW5jaG9yXCIsZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsXCIjXCIpLGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpLCh0PWMuY3JlYXRlRWxlbWVudChcIklcIikpLmNsYXNzTmFtZT1cImpzdHJlZS1pY29uIGpzdHJlZS10aGVtZWljb25cIix0LnNldEF0dHJpYnV0ZShcInJvbGVcIixcInByZXNlbnRhdGlvblwiKSxlLmFwcGVuZENoaWxkKHQpLG4uYXBwZW5kQ2hpbGQoZSksZT10PW51bGwsbn0sX2tiZXZlbnRfdG9fZnVuYzpmdW5jdGlvbihlKXt2YXIgdD1bXTtlLmN0cmxLZXkmJnQucHVzaChcImN0cmxcIiksZS5hbHRLZXkmJnQucHVzaChcImFsdFwiKSxlLnNoaWZ0S2V5JiZ0LnB1c2goXCJzaGlmdFwiKSx0LnB1c2goezg6XCJCYWNrc3BhY2VcIiw5OlwiVGFiXCIsMTM6XCJSZXR1cm5cIiwxOTpcIlBhdXNlXCIsMjc6XCJFc2NcIiwzMjpcIlNwYWNlXCIsMzM6XCJQYWdlVXBcIiwzNDpcIlBhZ2VEb3duXCIsMzU6XCJFbmRcIiwzNjpcIkhvbWVcIiwzNzpcIkxlZnRcIiwzODpcIlVwXCIsMzk6XCJSaWdodFwiLDQwOlwiRG93blwiLDQ0OlwiUHJpbnRcIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsOTY6XCJOdW1wYWQwXCIsOTc6XCJOdW1wYWQxXCIsOTg6XCJOdW1wYWQyXCIsOTk6XCJOdW1wYWQzXCIsMTAwOlwiTnVtcGFkNFwiLDEwMTpcIk51bXBhZDVcIiwxMDI6XCJOdW1wYWQ2XCIsMTAzOlwiTnVtcGFkN1wiLDEwNDpcIk51bXBhZDhcIiwxMDU6XCJOdW1wYWQ5XCIsXCItMTNcIjpcIk51bXBhZEVudGVyXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIiwxMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIiwxMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtbG9ja1wiLDE0NTpcIlNjcm9sbGxvY2tcIiwxNjpcIlNoaWZ0XCIsMTc6XCJDdHJsXCIsMTg6XCJBbHRcIiw0ODpcIjBcIiw0OTpcIjFcIiw1MDpcIjJcIiw1MTpcIjNcIiw1MjpcIjRcIiw1MzpcIjVcIiw1NDpcIjZcIiw1NTpcIjdcIiw1NjpcIjhcIiw1NzpcIjlcIiw1OTpcIjtcIiw2MTpcIj1cIiw2NTpcImFcIiw2NjpcImJcIiw2NzpcImNcIiw2ODpcImRcIiw2OTpcImVcIiw3MDpcImZcIiw3MTpcImdcIiw3MjpcImhcIiw3MzpcImlcIiw3NDpcImpcIiw3NTpcImtcIiw3NjpcImxcIiw3NzpcIm1cIiw3ODpcIm5cIiw3OTpcIm9cIiw4MDpcInBcIiw4MTpcInFcIiw4MjpcInJcIiw4MzpcInNcIiw4NDpcInRcIiw4NTpcInVcIiw4NjpcInZcIiw4NzpcIndcIiw4ODpcInhcIiw4OTpcInlcIiw5MDpcInpcIiwxMDc6XCIrXCIsMTA5OlwiLVwiLDExMDpcIi5cIiwxODY6XCI7XCIsMTg3OlwiPVwiLDE4ODpcIixcIiwxODk6XCItXCIsMTkwOlwiLlwiLDE5MTpcIi9cIiwxOTI6XCJgXCIsMjE5OlwiW1wiLDIyMDpcIlxcXFxcIiwyMjE6XCJdXCIsMjIyOlwiJ1wiLDExMTpcIi9cIiwxMDY6XCIqXCIsMTczOlwiLVwifVtlLndoaWNoXXx8ZS53aGljaCksdD10LnNvcnQoKS5qb2luKFwiLVwiKS50b0xvd2VyQ2FzZSgpO3ZhciBuLHIsaT10aGlzLnNldHRpbmdzLmNvcmUua2V5Ym9hcmQ7Zm9yKG4gaW4gaSlpZihpLmhhc093blByb3BlcnR5KG4pJiYoXCItXCIhPT0ocj1uKSYmXCIrXCIhPT1yJiYocj0ocj1yLnJlcGxhY2UoXCItLVwiLFwiLU1JTlVTXCIpLnJlcGxhY2UoXCIrLVwiLFwiLU1JTlVTXCIpLnJlcGxhY2UoXCIrK1wiLFwiLVBMVVNcIikucmVwbGFjZShcIi0rXCIsXCItUExVU1wiKSkuc3BsaXQoLy18XFwrLykuc29ydCgpLmpvaW4oXCItXCIpLnJlcGxhY2UoXCJNSU5VU1wiLFwiLVwiKS5yZXBsYWNlKFwiUExVU1wiLFwiK1wiKS50b0xvd2VyQ2FzZSgpKSxyPT09dCkpcmV0dXJuIGlbbl07cmV0dXJuIG51bGx9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dGhpcy51bmJpbmQoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJqc3RyZWVcIikucmVtb3ZlRGF0YShcImpzdHJlZVwiKS5maW5kKFwiW2NsYXNzXj0nanN0cmVlJ11cIikuYWRkQmFjaygpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xhc3NOYW1lLnJlcGxhY2UoL2pzdHJlZVteIF0qfCQvZ2ksXCJcIil9KSx0aGlzLmVsZW1lbnQ9bnVsbH0sYmluZDpmdW5jdGlvbigpe3ZhciB0PVwiXCIsbj1udWxsLHI9MDt0aGlzLmVsZW1lbnQub24oXCJkYmxjbGljay5qc3RyZWVcIixmdW5jdGlvbihlKXtpZihlLnRhcmdldC50YWdOYW1lJiZcImlucHV0XCI9PT1lLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuITA7aWYoYy5zZWxlY3Rpb24mJmMuc2VsZWN0aW9uLmVtcHR5KWMuc2VsZWN0aW9uLmVtcHR5KCk7ZWxzZSBpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgdD13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7dHJ5e3QucmVtb3ZlQWxsUmFuZ2VzKCksdC5jb2xsYXBzZSgpfWNhdGNoKGUpe319fSkub24oXCJtb3VzZWRvd24uanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlKXtlLnRhcmdldD09PXRoaXMuZWxlbWVudFswXSYmKGUucHJldmVudERlZmF1bHQoKSxyPStuZXcgRGF0ZSl9LHRoaXMpKS5vbihcIm1vdXNlZG93bi5qc3RyZWVcIixcIi5qc3RyZWUtb2NsXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSkub24oXCJjbGljay5qc3RyZWVcIixcIi5qc3RyZWUtb2NsXCIsZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLnRvZ2dsZV9ub2RlKGUudGFyZ2V0KX0sdGhpcykpLm9uKFwiZGJsY2xpY2suanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24oZSl7aWYoZS50YXJnZXQudGFnTmFtZSYmXCJpbnB1dFwiPT09ZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiEwO3RoaXMuc2V0dGluZ3MuY29yZS5kYmxjbGlja190b2dnbGUmJnRoaXMudG9nZ2xlX25vZGUoZS50YXJnZXQpfSx0aGlzKSkub24oXCJjbGljay5qc3RyZWVcIixcIi5qc3RyZWUtYW5jaG9yXCIsZS5wcm94eShmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdC5jdXJyZW50VGFyZ2V0IT09Yy5hY3RpdmVFbGVtZW50JiZlKHQuY3VycmVudFRhcmdldCkuZm9jdXMoKSx0aGlzLmFjdGl2YXRlX25vZGUodC5jdXJyZW50VGFyZ2V0LHQpfSx0aGlzKSkub24oXCJrZXlkb3duLmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKGUpe2lmKGUudGFyZ2V0LnRhZ05hbWUmJlwiaW5wdXRcIj09PWUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4hMDt0aGlzLl9kYXRhLmNvcmUucnRsJiYoMzc9PT1lLndoaWNoP2Uud2hpY2g9Mzk6Mzk9PT1lLndoaWNoJiYoZS53aGljaD0zNykpO3ZhciB0PXRoaXMuX2tiZXZlbnRfdG9fZnVuYyhlKTtpZih0KXt2YXIgbj10LmNhbGwodGhpcyxlKTtpZighMT09PW58fCEwPT09bilyZXR1cm4gbn19LHRoaXMpKS5vbihcImxvYWRfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7bi5zdGF0dXMmJihuLm5vZGUuaWQhPT1lLmpzdHJlZS5yb290fHx0aGlzLl9kYXRhLmNvcmUubG9hZGVkfHwodGhpcy5fZGF0YS5jb3JlLmxvYWRlZD0hMCx0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKSYmdGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIix0aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKS5pZCksdGhpcy50cmlnZ2VyKFwibG9hZGVkXCIpKSx0aGlzLl9kYXRhLmNvcmUucmVhZHl8fHNldFRpbWVvdXQoZS5wcm94eShmdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudCYmIXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmZpbmQoXCIuanN0cmVlLWxvYWRpbmdcIikubGVuZ3RoKXtpZih0aGlzLl9kYXRhLmNvcmUucmVhZHk9ITAsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aCl7aWYodGhpcy5zZXR0aW5ncy5jb3JlLmV4cGFuZF9zZWxlY3RlZF9vbmxvYWQpe3ZhciB0LG4scj1bXTtmb3IodD0wLG49dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDt0PG47dCsrKXI9ci5jb25jYXQodGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbdF1dLnBhcmVudHMpO2ZvcihyPWUudmFrYXRhLmFycmF5X3VuaXF1ZShyKSx0PTAsbj1yLmxlbmd0aDt0PG47dCsrKXRoaXMub3Blbl9ub2RlKHJbdF0sITEsMCl9dGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJyZWFkeVwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0pfXRoaXMudHJpZ2dlcihcInJlYWR5XCIpfX0sdGhpcyksMCkpfSx0aGlzKSkub24oXCJrZXlwcmVzcy5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHIpe2lmKHIudGFyZ2V0LnRhZ05hbWUmJlwiaW5wdXRcIj09PXIudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4hMDtuJiZjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dD1cIlwifSw1MDApO3ZhciBpPVN0cmluZy5mcm9tQ2hhckNvZGUoci53aGljaCkudG9Mb3dlckNhc2UoKSxzPXRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1hbmNob3JcIikuZmlsdGVyKFwiOnZpc2libGVcIiksYT1zLmluZGV4KGMuYWN0aXZlRWxlbWVudCl8fDAsbz0hMTtpZigodCs9aSkubGVuZ3RoPjEpe2lmKHMuc2xpY2UoYSkuZWFjaChlLnByb3h5KGZ1bmN0aW9uKG4scil7aWYoMD09PWUocikudGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KSlyZXR1cm4gZShyKS5mb2N1cygpLG89ITAsITF9LHRoaXMpKSxvKXJldHVybjtpZihzLnNsaWNlKDAsYSkuZWFjaChlLnByb3h5KGZ1bmN0aW9uKG4scil7aWYoMD09PWUocikudGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KSlyZXR1cm4gZShyKS5mb2N1cygpLG89ITAsITF9LHRoaXMpKSxvKXJldHVybn1pZihuZXcgUmVnRXhwKFwiXlwiK2kucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLFwiXFxcXCQmXCIpK1wiKyRcIikudGVzdCh0KSl7aWYocy5zbGljZShhKzEpLmVhY2goZS5wcm94eShmdW5jdGlvbih0LG4pe2lmKGUobikudGV4dCgpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApPT09aSlyZXR1cm4gZShuKS5mb2N1cygpLG89ITAsITF9LHRoaXMpKSxvKXJldHVybjtpZihzLnNsaWNlKDAsYSsxKS5lYWNoKGUucHJveHkoZnVuY3Rpb24odCxuKXtpZihlKG4pLnRleHQoKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKT09PWkpcmV0dXJuIGUobikuZm9jdXMoKSxvPSEwLCExfSx0aGlzKSksbylyZXR1cm59fSx0aGlzKSkub24oXCJpbml0LmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNldHRpbmdzLmNvcmUudGhlbWVzO3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz1lLmRvdHMsdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5zdHJpcGVzPWUuc3RyaXBlcyx0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zPWUuaWNvbnMsdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5lbGxpcHNpcz1lLmVsbGlwc2lzLHRoaXMuc2V0X3RoZW1lKGUubmFtZXx8XCJkZWZhdWx0XCIsZS51cmwpLHRoaXMuc2V0X3RoZW1lX3ZhcmlhbnQoZS52YXJpYW50KX0sdGhpcykpLm9uKFwibG9hZGluZy5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM/XCJzaG93X2RvdHNcIjpcImhpZGVfZG90c1wiXSgpLHRoaXNbdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz9cInNob3dfaWNvbnNcIjpcImhpZGVfaWNvbnNcIl0oKSx0aGlzW3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz9cInNob3dfc3RyaXBlc1wiOlwiaGlkZV9zdHJpcGVzXCJdKCksdGhpc1t0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmVsbGlwc2lzP1wic2hvd19lbGxpcHNpc1wiOlwiaGlkZV9lbGxpcHNpc1wiXSgpfSx0aGlzKSkub24oXCJibHVyLmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKHQpe3RoaXMuX2RhdGEuY29yZS5mb2N1c2VkPW51bGwsZSh0LmN1cnJlbnRUYXJnZXQpLmZpbHRlcihcIi5qc3RyZWUtaG92ZXJlZFwiKS5tb3VzZWxlYXZlKCksdGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKX0sdGhpcykpLm9uKFwiZm9jdXMuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24odCl7dmFyIG49dGhpcy5nZXRfbm9kZSh0LmN1cnJlbnRUYXJnZXQpO24mJm4uaWQmJih0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1uLmlkKSx0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtaG92ZXJlZFwiKS5ub3QodC5jdXJyZW50VGFyZ2V0KS5tb3VzZWxlYXZlKCksZSh0LmN1cnJlbnRUYXJnZXQpLm1vdXNlZW50ZXIoKSx0aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKX0sdGhpcykpLm9uKFwiZm9jdXMuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbigpe2lmKCtuZXcgRGF0ZS1yPjUwMCYmIXRoaXMuX2RhdGEuY29yZS5mb2N1c2VkJiZ0aGlzLnNldHRpbmdzLmNvcmUucmVzdG9yZV9mb2N1cyl7cj0wO3ZhciBlPXRoaXMuZ2V0X25vZGUodGhpcy5lbGVtZW50LmF0dHIoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIiksITApO2UmJmUuZmluZChcIj4gLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKX19LHRoaXMpKS5vbihcIm1vdXNlZW50ZXIuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5ob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCl9LHRoaXMpKS5vbihcIm1vdXNlbGVhdmUuanN0cmVlXCIsXCIuanN0cmVlLWFuY2hvclwiLGUucHJveHkoZnVuY3Rpb24oZSl7dGhpcy5kZWhvdmVyX25vZGUoZS5jdXJyZW50VGFyZ2V0KX0sdGhpcykpfSx1bmJpbmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub2ZmKFwiLmpzdHJlZVwiKSxlKGMpLm9mZihcIi5qc3RyZWUtXCIrdGhpcy5faWQpfSx0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pLHQuaW5zdGFuY2U9dGhpcyx0aGlzLmVsZW1lbnQudHJpZ2dlckhhbmRsZXIoZS5yZXBsYWNlKFwiLmpzdHJlZVwiLFwiXCIpK1wiLmpzdHJlZVwiLHQpfSxnZXRfY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sZ2V0X2NvbnRhaW5lcl91bDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLmZpcnN0KCl9LGdldF9zdHJpbmc6ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5zZXR0aW5ncy5jb3JlLnN0cmluZ3M7cmV0dXJuIGUuaXNGdW5jdGlvbihuKT9uLmNhbGwodGhpcyx0KTpuJiZuW3RdP25bdF06dH0sX2ZpcnN0Q2hpbGQ6ZnVuY3Rpb24oZSl7Zm9yKGU9ZT9lLmZpcnN0Q2hpbGQ6bnVsbDtudWxsIT09ZSYmMSE9PWUubm9kZVR5cGU7KWU9ZS5uZXh0U2libGluZztyZXR1cm4gZX0sX25leHRTaWJsaW5nOmZ1bmN0aW9uKGUpe2ZvcihlPWU/ZS5uZXh0U2libGluZzpudWxsO251bGwhPT1lJiYxIT09ZS5ub2RlVHlwZTspZT1lLm5leHRTaWJsaW5nO3JldHVybiBlfSxfcHJldmlvdXNTaWJsaW5nOmZ1bmN0aW9uKGUpe2ZvcihlPWU/ZS5wcmV2aW91c1NpYmxpbmc6bnVsbDtudWxsIT09ZSYmMSE9PWUubm9kZVR5cGU7KWU9ZS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGV9LGdldF9ub2RlOmZ1bmN0aW9uKHQsbil7dmFyIHI7dCYmdC5pZCYmKHQ9dC5pZCk7dHJ5e2lmKHRoaXMuX21vZGVsLmRhdGFbdF0pdD10aGlzLl9tb2RlbC5kYXRhW3RdO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMuX21vZGVsLmRhdGFbdC5yZXBsYWNlKC9eIy8sXCJcIildKXQ9dGhpcy5fbW9kZWwuZGF0YVt0LnJlcGxhY2UoL14jLyxcIlwiKV07ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHI9ZShcIiNcIit0LnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKSx0aGlzLmVsZW1lbnQpKS5sZW5ndGgmJnRoaXMuX21vZGVsLmRhdGFbci5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmF0dHIoXCJpZFwiKV0pdD10aGlzLl9tb2RlbC5kYXRhW3IuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5hdHRyKFwiaWRcIildO2Vsc2UgaWYoKHI9ZSh0LHRoaXMuZWxlbWVudCkpLmxlbmd0aCYmdGhpcy5fbW9kZWwuZGF0YVtyLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuYXR0cihcImlkXCIpXSl0PXRoaXMuX21vZGVsLmRhdGFbci5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmF0dHIoXCJpZFwiKV07ZWxzZXtpZighKHI9ZSh0LHRoaXMuZWxlbWVudCkpLmxlbmd0aHx8IXIuaGFzQ2xhc3MoXCJqc3RyZWVcIikpcmV0dXJuITE7dD10aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdfXJldHVybiBuJiYodD10LmlkPT09ZS5qc3RyZWUucm9vdD90aGlzLmVsZW1lbnQ6ZShcIiNcIit0LmlkLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKSx0aGlzLmVsZW1lbnQpKSx0fWNhdGNoKGUpe3JldHVybiExfX0sZ2V0X3BhdGg6ZnVuY3Rpb24odCxuLHIpe2lmKCEodD10LnBhcmVudHM/dDp0aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3R8fCF0LnBhcmVudHMpcmV0dXJuITE7dmFyIGkscyxhPVtdO2ZvcihhLnB1c2gocj90LmlkOnQudGV4dCksaT0wLHM9dC5wYXJlbnRzLmxlbmd0aDtpPHM7aSsrKWEucHVzaChyP3QucGFyZW50c1tpXTp0aGlzLmdldF90ZXh0KHQucGFyZW50c1tpXSkpO3JldHVybiBhPWEucmV2ZXJzZSgpLnNsaWNlKDEpLG4/YS5qb2luKG4pOmF9LGdldF9uZXh0X2RvbTpmdW5jdGlvbih0LG4pe3ZhciByO2lmKCh0PXRoaXMuZ2V0X25vZGUodCwhMCkpWzBdPT09dGhpcy5lbGVtZW50WzBdKXtmb3Iocj10aGlzLl9maXJzdENoaWxkKHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdKTtyJiYwPT09ci5vZmZzZXRIZWlnaHQ7KXI9dGhpcy5fbmV4dFNpYmxpbmcocik7cmV0dXJuISFyJiZlKHIpfWlmKCF0fHwhdC5sZW5ndGgpcmV0dXJuITE7aWYobil7cj10WzBdO2Rve3I9dGhpcy5fbmV4dFNpYmxpbmcocil9d2hpbGUociYmMD09PXIub2Zmc2V0SGVpZ2h0KTtyZXR1cm4hIXImJmUocil9aWYodC5oYXNDbGFzcyhcImpzdHJlZS1vcGVuXCIpKXtmb3Iocj10aGlzLl9maXJzdENoaWxkKHQuY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpWzBdKTtyJiYwPT09ci5vZmZzZXRIZWlnaHQ7KXI9dGhpcy5fbmV4dFNpYmxpbmcocik7aWYobnVsbCE9PXIpcmV0dXJuIGUocil9cj10WzBdO2Rve3I9dGhpcy5fbmV4dFNpYmxpbmcocil9d2hpbGUociYmMD09PXIub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gbnVsbCE9PXI/ZShyKTp0LnBhcmVudHNVbnRpbChcIi5qc3RyZWVcIixcIi5qc3RyZWUtbm9kZVwiKS5uZXh0QWxsKFwiLmpzdHJlZS1ub2RlOnZpc2libGVcIikuZmlyc3QoKX0sZ2V0X3ByZXZfZG9tOmZ1bmN0aW9uKHQsbil7dmFyIHI7aWYoKHQ9dGhpcy5nZXRfbm9kZSh0LCEwKSlbMF09PT10aGlzLmVsZW1lbnRbMF0pe2ZvcihyPXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdLmxhc3RDaGlsZDtyJiYwPT09ci5vZmZzZXRIZWlnaHQ7KXI9dGhpcy5fcHJldmlvdXNTaWJsaW5nKHIpO3JldHVybiEhciYmZShyKX1pZighdHx8IXQubGVuZ3RoKXJldHVybiExO2lmKG4pe3I9dFswXTtkb3tyPXRoaXMuX3ByZXZpb3VzU2libGluZyhyKX13aGlsZShyJiYwPT09ci5vZmZzZXRIZWlnaHQpO3JldHVybiEhciYmZShyKX1yPXRbMF07ZG97cj10aGlzLl9wcmV2aW91c1NpYmxpbmcocil9d2hpbGUociYmMD09PXIub2Zmc2V0SGVpZ2h0KTtpZihudWxsIT09cil7Zm9yKHQ9ZShyKTt0Lmhhc0NsYXNzKFwianN0cmVlLW9wZW5cIik7KXQ9dC5jaGlsZHJlbihcIi5qc3RyZWUtY2hpbGRyZW5cIikuZmlyc3QoKS5jaGlsZHJlbihcIi5qc3RyZWUtbm9kZTp2aXNpYmxlOmxhc3RcIik7cmV0dXJuIHR9cmV0dXJuISghKHI9dFswXS5wYXJlbnROb2RlLnBhcmVudE5vZGUpfHwhci5jbGFzc05hbWV8fC0xPT09ci5jbGFzc05hbWUuaW5kZXhPZihcImpzdHJlZS1ub2RlXCIpKSYmZShyKX0sZ2V0X3BhcmVudDpmdW5jdGlvbih0KXtyZXR1cm4hKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiZ0LnBhcmVudH0sZ2V0X2NoaWxkcmVuX2RvbTpmdW5jdGlvbihlKXtyZXR1cm4oZT10aGlzLmdldF9ub2RlKGUsITApKVswXT09PXRoaXMuZWxlbWVudFswXT90aGlzLmdldF9jb250YWluZXJfdWwoKS5jaGlsZHJlbihcIi5qc3RyZWUtbm9kZVwiKTohKCFlfHwhZS5sZW5ndGgpJiZlLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5jaGlsZHJlbihcIi5qc3RyZWUtbm9kZVwiKX0saXNfcGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybihlPXRoaXMuZ2V0X25vZGUoZSkpJiYoITE9PT1lLnN0YXRlLmxvYWRlZHx8ZS5jaGlsZHJlbi5sZW5ndGg+MCl9LGlzX2xvYWRlZDpmdW5jdGlvbihlKXtyZXR1cm4oZT10aGlzLmdldF9ub2RlKGUpKSYmZS5zdGF0ZS5sb2FkZWR9LGlzX2xvYWRpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuKGU9dGhpcy5nZXRfbm9kZShlKSkmJmUuc3RhdGUmJmUuc3RhdGUubG9hZGluZ30saXNfb3BlbjpmdW5jdGlvbihlKXtyZXR1cm4oZT10aGlzLmdldF9ub2RlKGUpKSYmZS5zdGF0ZS5vcGVuZWR9LGlzX2Nsb3NlZDpmdW5jdGlvbihlKXtyZXR1cm4oZT10aGlzLmdldF9ub2RlKGUpKSYmdGhpcy5pc19wYXJlbnQoZSkmJiFlLnN0YXRlLm9wZW5lZH0saXNfbGVhZjpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5pc19wYXJlbnQoZSl9LGxvYWRfbm9kZTpmdW5jdGlvbih0LG4pe3ZhciByLGkscyxhLG87aWYoZS5pc0FycmF5KHQpKXJldHVybiB0aGlzLl9sb2FkX25vZGVzKHQuc2xpY2UoKSxuKSwhMDtpZighKHQ9dGhpcy5nZXRfbm9kZSh0KSkpcmV0dXJuIG4mJm4uY2FsbCh0aGlzLHQsITEpLCExO2lmKHQuc3RhdGUubG9hZGVkKXtmb3IodC5zdGF0ZS5sb2FkZWQ9ITEscz0wLGE9dC5wYXJlbnRzLmxlbmd0aDtzPGE7cysrKXRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW3NdXS5jaGlsZHJlbl9kPWUudmFrYXRhLmFycmF5X2ZpbHRlcih0aGlzLl9tb2RlbC5kYXRhW3QucGFyZW50c1tzXV0uY2hpbGRyZW5fZCxmdW5jdGlvbihuKXtyZXR1cm4tMT09PWUuaW5BcnJheShuLHQuY2hpbGRyZW5fZCl9KTtmb3Iocj0wLGk9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPGk7cisrKXRoaXMuX21vZGVsLmRhdGFbdC5jaGlsZHJlbl9kW3JdXS5zdGF0ZS5zZWxlY3RlZCYmKG89ITApLGRlbGV0ZSB0aGlzLl9tb2RlbC5kYXRhW3QuY2hpbGRyZW5fZFtyXV07byYmKHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9maWx0ZXIodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGZ1bmN0aW9uKG4pe3JldHVybi0xPT09ZS5pbkFycmF5KG4sdC5jaGlsZHJlbl9kKX0pKSx0LmNoaWxkcmVuPVtdLHQuY2hpbGRyZW5fZD1bXSxvJiZ0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcImxvYWRfbm9kZVwiLG5vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KX1yZXR1cm4gdC5zdGF0ZS5mYWlsZWQ9ITEsdC5zdGF0ZS5sb2FkaW5nPSEwLHRoaXMuZ2V0X25vZGUodCwhMCkuYWRkQ2xhc3MoXCJqc3RyZWUtbG9hZGluZ1wiKS5hdHRyKFwiYXJpYS1idXN5XCIsITApLHRoaXMuX2xvYWRfbm9kZSh0LGUucHJveHkoZnVuY3Rpb24oZSl7KHQ9dGhpcy5fbW9kZWwuZGF0YVt0LmlkXSkuc3RhdGUubG9hZGluZz0hMSx0LnN0YXRlLmxvYWRlZD1lLHQuc3RhdGUuZmFpbGVkPSF0LnN0YXRlLmxvYWRlZDt2YXIgcj10aGlzLmdldF9ub2RlKHQsITApLGk9MCxzPTAsYT10aGlzLl9tb2RlbC5kYXRhLG89ITE7Zm9yKGk9MCxzPXQuY2hpbGRyZW4ubGVuZ3RoO2k8cztpKyspaWYoYVt0LmNoaWxkcmVuW2ldXSYmIWFbdC5jaGlsZHJlbltpXV0uc3RhdGUuaGlkZGVuKXtvPSEwO2JyZWFrfXQuc3RhdGUubG9hZGVkJiZyJiZyLmxlbmd0aCYmKHIucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtY2xvc2VkIGpzdHJlZS1vcGVuIGpzdHJlZS1sZWFmXCIpLG8/XCIjXCIhPT10LmlkJiZyLmFkZENsYXNzKHQuc3RhdGUub3BlbmVkP1wianN0cmVlLW9wZW5cIjpcImpzdHJlZS1jbG9zZWRcIik6ci5hZGRDbGFzcyhcImpzdHJlZS1sZWFmXCIpKSxyLnJlbW92ZUNsYXNzKFwianN0cmVlLWxvYWRpbmdcIikuYXR0cihcImFyaWEtYnVzeVwiLCExKSx0aGlzLnRyaWdnZXIoXCJsb2FkX25vZGVcIix7bm9kZTp0LHN0YXR1czplfSksbiYmbi5jYWxsKHRoaXMsdCxlKX0sdGhpcykpLCEwfSxfbG9hZF9ub2RlczpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxzLGE9ITAsbz1mdW5jdGlvbigpe3RoaXMuX2xvYWRfbm9kZXMoZSx0LCEwKX0sZD10aGlzLl9tb2RlbC5kYXRhLGM9W107Zm9yKGk9MCxzPWUubGVuZ3RoO2k8cztpKyspZFtlW2ldXSYmKCFkW2VbaV1dLnN0YXRlLmxvYWRlZCYmIWRbZVtpXV0uc3RhdGUuZmFpbGVkfHwhbiYmcikmJih0aGlzLmlzX2xvYWRpbmcoZVtpXSl8fHRoaXMubG9hZF9ub2RlKGVbaV0sbyksYT0hMSk7aWYoYSl7Zm9yKGk9MCxzPWUubGVuZ3RoO2k8cztpKyspZFtlW2ldXSYmZFtlW2ldXS5zdGF0ZS5sb2FkZWQmJmMucHVzaChlW2ldKTt0JiYhdC5kb25lJiYodC5jYWxsKHRoaXMsYyksdC5kb25lPSEwKX19LGxvYWRfYWxsOmZ1bmN0aW9uKHQsbil7aWYodHx8KHQ9ZS5qc3RyZWUucm9vdCksISh0PXRoaXMuZ2V0X25vZGUodCkpKXJldHVybiExO3ZhciByLGkscz1bXSxhPXRoaXMuX21vZGVsLmRhdGEsbz1hW3QuaWRdLmNoaWxkcmVuX2Q7Zm9yKHQuc3RhdGUmJiF0LnN0YXRlLmxvYWRlZCYmcy5wdXNoKHQuaWQpLHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspYVtvW3JdXSYmYVtvW3JdXS5zdGF0ZSYmIWFbb1tyXV0uc3RhdGUubG9hZGVkJiZzLnB1c2gob1tyXSk7cy5sZW5ndGg/dGhpcy5fbG9hZF9ub2RlcyhzLGZ1bmN0aW9uKCl7dGhpcy5sb2FkX2FsbCh0LG4pfSk6KG4mJm4uY2FsbCh0aGlzLHQpLHRoaXMudHJpZ2dlcihcImxvYWRfYWxsXCIse25vZGU6dH0pKX0sX2xvYWRfbm9kZTpmdW5jdGlvbih0LG4pe3ZhciByLGk9dGhpcy5zZXR0aW5ncy5jb3JlLmRhdGEscz1mdW5jdGlvbigpe3JldHVybiAzIT09dGhpcy5ub2RlVHlwZSYmOCE9PXRoaXMubm9kZVR5cGV9O3JldHVybiBpP2UuaXNGdW5jdGlvbihpKT9pLmNhbGwodGhpcyx0LGUucHJveHkoZnVuY3Rpb24ocil7ITE9PT1yP24uY2FsbCh0aGlzLCExKTp0aGlzW1wic3RyaW5nXCI9PXR5cGVvZiByP1wiX2FwcGVuZF9odG1sX2RhdGFcIjpcIl9hcHBlbmRfanNvbl9kYXRhXCJdKHQsXCJzdHJpbmdcIj09dHlwZW9mIHI/ZShlLnBhcnNlSFRNTChyKSkuZmlsdGVyKHMpOnIsZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsZSl9KX0sdGhpcykpOlwib2JqZWN0XCI9PT0odm9pZCAwPT09aT9cInVuZGVmaW5lZFwiOmEoaSkpP2kudXJsPyhpPWUuZXh0ZW5kKCEwLHt9LGkpLGUuaXNGdW5jdGlvbihpLnVybCkmJihpLnVybD1pLnVybC5jYWxsKHRoaXMsdCkpLGUuaXNGdW5jdGlvbihpLmRhdGEpJiYoaS5kYXRhPWkuZGF0YS5jYWxsKHRoaXMsdCkpLGUuYWpheChpKS5kb25lKGUucHJveHkoZnVuY3Rpb24ocixpLG8pe3ZhciBkPW8uZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIik7cmV0dXJuIGQmJi0xIT09ZC5pbmRleE9mKFwianNvblwiKXx8XCJvYmplY3RcIj09PSh2b2lkIDA9PT1yP1widW5kZWZpbmVkXCI6YShyKSk/dGhpcy5fYXBwZW5kX2pzb25fZGF0YSh0LHIsZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsZSl9KTpkJiYtMSE9PWQuaW5kZXhPZihcImh0bWxcIil8fFwic3RyaW5nXCI9PXR5cGVvZiByP3RoaXMuX2FwcGVuZF9odG1sX2RhdGEodCxlKGUucGFyc2VIVE1MKHIpKS5maWx0ZXIocyksZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsZSl9KToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiYWpheFwiLHBsdWdpbjpcImNvcmVcIixpZDpcImNvcmVfMDRcIixyZWFzb246XCJDb3VsZCBub3QgbG9hZCBub2RlXCIsZGF0YTpKU09OLnN0cmluZ2lmeSh7aWQ6dC5pZCx4aHI6b30pfSx0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSxuLmNhbGwodGhpcywhMSkpfSx0aGlzKSkuZmFpbChlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImFqYXhcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzA0XCIscmVhc29uOlwiQ291bGQgbm90IGxvYWQgbm9kZVwiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWQseGhyOmV9KX0sbi5jYWxsKHRoaXMsITEpLHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpfSx0aGlzKSkpOihyPWUuaXNBcnJheShpKT9lLmV4dGVuZCghMCxbXSxpKTplLmlzUGxhaW5PYmplY3QoaSk/ZS5leHRlbmQoITAse30saSk6aSx0LmlkPT09ZS5qc3RyZWUucm9vdD90aGlzLl9hcHBlbmRfanNvbl9kYXRhKHQscixmdW5jdGlvbihlKXtuLmNhbGwodGhpcyxlKX0pOih0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJub2RhdGFcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzA1XCIscmVhc29uOlwiQ291bGQgbm90IGxvYWQgbm9kZVwiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWR9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksbi5jYWxsKHRoaXMsITEpKSk6XCJzdHJpbmdcIj09dHlwZW9mIGk/dC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5fYXBwZW5kX2h0bWxfZGF0YSh0LGUoZS5wYXJzZUhUTUwoaSkpLmZpbHRlcihzKSxmdW5jdGlvbihlKXtuLmNhbGwodGhpcyxlKX0pOih0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJub2RhdGFcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzA2XCIscmVhc29uOlwiQ291bGQgbm90IGxvYWQgbm9kZVwiLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2lkOnQuaWR9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksbi5jYWxsKHRoaXMsITEpKTpuLmNhbGwodGhpcywhMSk6dC5pZD09PWUuanN0cmVlLnJvb3Q/dGhpcy5fYXBwZW5kX2h0bWxfZGF0YSh0LHRoaXMuX2RhdGEuY29yZS5vcmlnaW5hbF9jb250YWluZXJfaHRtbC5jbG9uZSghMCksZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsZSl9KTpuLmNhbGwodGhpcywhMSl9LF9ub2RlX2NoYW5nZWQ6ZnVuY3Rpb24odCl7KHQ9dGhpcy5nZXRfbm9kZSh0KSkmJi0xPT09ZS5pbkFycmF5KHQuaWQsdGhpcy5fbW9kZWwuY2hhbmdlZCkmJnRoaXMuX21vZGVsLmNoYW5nZWQucHVzaCh0LmlkKX0sX2FwcGVuZF9odG1sX2RhdGE6ZnVuY3Rpb24odCxuLHIpeyh0PXRoaXMuZ2V0X25vZGUodCkpLmNoaWxkcmVuPVtdLHQuY2hpbGRyZW5fZD1bXTt2YXIgaSxzLGEsbz1uLmlzKFwidWxcIik/bi5jaGlsZHJlbigpOm4sZD10LmlkLGM9W10sbD1bXSxoPXRoaXMuX21vZGVsLmRhdGEsdT1oW2RdLGY9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmxlbmd0aDtmb3Ioby5lYWNoKGUucHJveHkoZnVuY3Rpb24odCxuKXsoaT10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2h0bWwoZShuKSxkLHUucGFyZW50cy5jb25jYXQoKSkpJiYoYy5wdXNoKGkpLGwucHVzaChpKSxoW2ldLmNoaWxkcmVuX2QubGVuZ3RoJiYobD1sLmNvbmNhdChoW2ldLmNoaWxkcmVuX2QpKSl9LHRoaXMpKSx1LmNoaWxkcmVuPWMsdS5jaGlsZHJlbl9kPWwscz0wLGE9dS5wYXJlbnRzLmxlbmd0aDtzPGE7cysrKWhbdS5wYXJlbnRzW3NdXS5jaGlsZHJlbl9kPWhbdS5wYXJlbnRzW3NdXS5jaGlsZHJlbl9kLmNvbmNhdChsKTt0aGlzLnRyaWdnZXIoXCJtb2RlbFwiLHtub2RlczpsLHBhcmVudDpkfSksZCE9PWUuanN0cmVlLnJvb3Q/KHRoaXMuX25vZGVfY2hhbmdlZChkKSx0aGlzLnJlZHJhdygpKToodGhpcy5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oXCIuanN0cmVlLWluaXRpYWwtbm9kZVwiKS5yZW1vdmUoKSx0aGlzLnJlZHJhdyghMCkpLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGghPT1mJiZ0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcIm1vZGVsXCIsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSksci5jYWxsKHRoaXMsITApfSxfYXBwZW5kX2pzb25fZGF0YTpmdW5jdGlvbih0LG4scixpKXtpZihudWxsIT09dGhpcy5lbGVtZW50KXsodD10aGlzLmdldF9ub2RlKHQpKS5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuX2Q9W10sbi5kJiZcInN0cmluZ1wiPT10eXBlb2Yobj1uLmQpJiYobj1KU09OLnBhcnNlKG4pKSxlLmlzQXJyYXkobil8fChuPVtuXSk7dmFyIHM9bnVsbCxvPXtkZjp0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLGRhdDpuLHBhcjp0LmlkLG06dGhpcy5fbW9kZWwuZGF0YSx0X2lkOnRoaXMuX2lkLHRfY250OnRoaXMuX2NudCxzZWw6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkfSxkPWZ1bmN0aW9uKGUsdCl7ZS5kYXRhJiYoZT1lLmRhdGEpO3ZhciBuLHIsaSxzLG89ZS5kYXQsZD1lLnBhcixjPVtdLGw9W10saD1bXSx1PWUuZGYsZj1lLnRfaWQscD1lLnRfY250LGc9ZS5tLF89Z1tkXSxtPWUuc2VsLHY9ZnVuY3Rpb24gZShuLHIsaSl7aT1pP2kuY29uY2F0KCk6W10sciYmaS51bnNoaWZ0KHIpO3ZhciBzLG8sZCxjLGw9bi5pZC50b1N0cmluZygpLGY9e2lkOmwsdGV4dDpuLnRleHR8fFwiXCIsaWNvbjpuLmljb249PT10fHxuLmljb24scGFyZW50OnIscGFyZW50czppLGNoaWxkcmVuOm4uY2hpbGRyZW58fFtdLGNoaWxkcmVuX2Q6bi5jaGlsZHJlbl9kfHxbXSxkYXRhOm4uZGF0YSxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOlwiI1wifSxvcmlnaW5hbDohMX07Zm9yKHMgaW4gdSl1Lmhhc093blByb3BlcnR5KHMpJiYoZi5zdGF0ZVtzXT11W3NdKTtpZihuJiZuLmRhdGEmJm4uZGF0YS5qc3RyZWUmJm4uZGF0YS5qc3RyZWUuaWNvbiYmKGYuaWNvbj1uLmRhdGEuanN0cmVlLmljb24pLGYuaWNvbiE9PXQmJm51bGwhPT1mLmljb24mJlwiXCIhPT1mLmljb258fChmLmljb249ITApLG4mJm4uZGF0YSYmKGYuZGF0YT1uLmRhdGEsbi5kYXRhLmpzdHJlZSkpZm9yKHMgaW4gbi5kYXRhLmpzdHJlZSluLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KHMpJiYoZi5zdGF0ZVtzXT1uLmRhdGEuanN0cmVlW3NdKTtpZihuJiZcIm9iamVjdFwiPT09YShuLnN0YXRlKSlmb3IocyBpbiBuLnN0YXRlKW4uc3RhdGUuaGFzT3duUHJvcGVydHkocykmJihmLnN0YXRlW3NdPW4uc3RhdGVbc10pO2lmKG4mJlwib2JqZWN0XCI9PT1hKG4ubGlfYXR0cikpZm9yKHMgaW4gbi5saV9hdHRyKW4ubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShzKSYmKGYubGlfYXR0cltzXT1uLmxpX2F0dHJbc10pO2lmKGYubGlfYXR0ci5pZHx8KGYubGlfYXR0ci5pZD1sKSxuJiZcIm9iamVjdFwiPT09YShuLmFfYXR0cikpZm9yKHMgaW4gbi5hX2F0dHIpbi5hX2F0dHIuaGFzT3duUHJvcGVydHkocykmJihmLmFfYXR0cltzXT1uLmFfYXR0cltzXSk7Zm9yKG4mJm4uY2hpbGRyZW4mJiEwPT09bi5jaGlsZHJlbiYmKGYuc3RhdGUubG9hZGVkPSExLGYuY2hpbGRyZW49W10sZi5jaGlsZHJlbl9kPVtdKSxnW2YuaWRdPWYscz0wLG89Zi5jaGlsZHJlbi5sZW5ndGg7czxvO3MrKylkPWUoZ1tmLmNoaWxkcmVuW3NdXSxmLmlkLGkpLGM9Z1tkXSxmLmNoaWxkcmVuX2QucHVzaChkKSxjLmNoaWxkcmVuX2QubGVuZ3RoJiYoZi5jaGlsZHJlbl9kPWYuY2hpbGRyZW5fZC5jb25jYXQoYy5jaGlsZHJlbl9kKSk7cmV0dXJuIGRlbGV0ZSBuLmRhdGEsZGVsZXRlIG4uY2hpbGRyZW4sZ1tmLmlkXS5vcmlnaW5hbD1uLGYuc3RhdGUuc2VsZWN0ZWQmJmgucHVzaChmLmlkKSxmLmlkfSx5PWZ1bmN0aW9uIGUobixyLGkpe2k9aT9pLmNvbmNhdCgpOltdLHImJmkudW5zaGlmdChyKTt2YXIgcyxvLGQsYyxsLF89ITE7ZG97Xz1cImpcIitmK1wiX1wiKyArK3B9d2hpbGUoZ1tfXSk7Zm9yKHMgaW4gbD17aWQ6ITEsdGV4dDpcInN0cmluZ1wiPT10eXBlb2Ygbj9uOlwiXCIsaWNvbjpcIm9iamVjdFwiIT09KHZvaWQgMD09PW4/XCJ1bmRlZmluZWRcIjphKG4pKXx8bi5pY29uPT09dHx8bi5pY29uLHBhcmVudDpyLHBhcmVudHM6aSxjaGlsZHJlbjpbXSxjaGlsZHJlbl9kOltdLGRhdGE6bnVsbCxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOlwiI1wifSxvcmlnaW5hbDohMX0sdSl1Lmhhc093blByb3BlcnR5KHMpJiYobC5zdGF0ZVtzXT11W3NdKTtpZihuJiZuLmlkJiYobC5pZD1uLmlkLnRvU3RyaW5nKCkpLG4mJm4udGV4dCYmKGwudGV4dD1uLnRleHQpLG4mJm4uZGF0YSYmbi5kYXRhLmpzdHJlZSYmbi5kYXRhLmpzdHJlZS5pY29uJiYobC5pY29uPW4uZGF0YS5qc3RyZWUuaWNvbiksbC5pY29uIT09dCYmbnVsbCE9PWwuaWNvbiYmXCJcIiE9PWwuaWNvbnx8KGwuaWNvbj0hMCksbiYmbi5kYXRhJiYobC5kYXRhPW4uZGF0YSxuLmRhdGEuanN0cmVlKSlmb3IocyBpbiBuLmRhdGEuanN0cmVlKW4uZGF0YS5qc3RyZWUuaGFzT3duUHJvcGVydHkocykmJihsLnN0YXRlW3NdPW4uZGF0YS5qc3RyZWVbc10pO2lmKG4mJlwib2JqZWN0XCI9PT1hKG4uc3RhdGUpKWZvcihzIGluIG4uc3RhdGUpbi5zdGF0ZS5oYXNPd25Qcm9wZXJ0eShzKSYmKGwuc3RhdGVbc109bi5zdGF0ZVtzXSk7aWYobiYmXCJvYmplY3RcIj09PWEobi5saV9hdHRyKSlmb3IocyBpbiBuLmxpX2F0dHIpbi5saV9hdHRyLmhhc093blByb3BlcnR5KHMpJiYobC5saV9hdHRyW3NdPW4ubGlfYXR0cltzXSk7aWYobC5saV9hdHRyLmlkJiYhbC5pZCYmKGwuaWQ9bC5saV9hdHRyLmlkLnRvU3RyaW5nKCkpLGwuaWR8fChsLmlkPV8pLGwubGlfYXR0ci5pZHx8KGwubGlfYXR0ci5pZD1sLmlkKSxuJiZcIm9iamVjdFwiPT09YShuLmFfYXR0cikpZm9yKHMgaW4gbi5hX2F0dHIpbi5hX2F0dHIuaGFzT3duUHJvcGVydHkocykmJihsLmFfYXR0cltzXT1uLmFfYXR0cltzXSk7aWYobiYmbi5jaGlsZHJlbiYmbi5jaGlsZHJlbi5sZW5ndGgpe2ZvcihzPTAsbz1uLmNoaWxkcmVuLmxlbmd0aDtzPG87cysrKWQ9ZShuLmNoaWxkcmVuW3NdLGwuaWQsaSksYz1nW2RdLGwuY2hpbGRyZW4ucHVzaChkKSxjLmNoaWxkcmVuX2QubGVuZ3RoJiYobC5jaGlsZHJlbl9kPWwuY2hpbGRyZW5fZC5jb25jYXQoYy5jaGlsZHJlbl9kKSk7bC5jaGlsZHJlbl9kPWwuY2hpbGRyZW5fZC5jb25jYXQobC5jaGlsZHJlbil9cmV0dXJuIG4mJm4uY2hpbGRyZW4mJiEwPT09bi5jaGlsZHJlbiYmKGwuc3RhdGUubG9hZGVkPSExLGwuY2hpbGRyZW49W10sbC5jaGlsZHJlbl9kPVtdKSxkZWxldGUgbi5kYXRhLGRlbGV0ZSBuLmNoaWxkcmVuLGwub3JpZ2luYWw9bixnW2wuaWRdPWwsbC5zdGF0ZS5zZWxlY3RlZCYmaC5wdXNoKGwuaWQpLGwuaWR9O2lmKG8ubGVuZ3RoJiZvWzBdLmlkIT09dCYmb1swXS5wYXJlbnQhPT10KXtmb3Iocj0wLGk9by5sZW5ndGg7cjxpO3IrKylvW3JdLmNoaWxkcmVufHwob1tyXS5jaGlsZHJlbj1bXSksb1tyXS5zdGF0ZXx8KG9bcl0uc3RhdGU9e30pLGdbb1tyXS5pZC50b1N0cmluZygpXT1vW3JdO2ZvcihyPTAsaT1vLmxlbmd0aDtyPGk7cisrKWdbb1tyXS5wYXJlbnQudG9TdHJpbmcoKV0/KGdbb1tyXS5wYXJlbnQudG9TdHJpbmcoKV0uY2hpbGRyZW4ucHVzaChvW3JdLmlkLnRvU3RyaW5nKCkpLF8uY2hpbGRyZW5fZC5wdXNoKG9bcl0uaWQudG9TdHJpbmcoKSkpOih0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJwYXJzZVwiLHBsdWdpbjpcImNvcmVcIixpZDpcImNvcmVfMDdcIixyZWFzb246XCJOb2RlIHdpdGggaW52YWxpZCBwYXJlbnRcIixkYXRhOkpTT04uc3RyaW5naWZ5KHtpZDpvW3JdLmlkLnRvU3RyaW5nKCkscGFyZW50Om9bcl0ucGFyZW50LnRvU3RyaW5nKCl9KX0sdGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcikpO2ZvcihyPTAsaT1fLmNoaWxkcmVuLmxlbmd0aDtyPGk7cisrKW49dihnW18uY2hpbGRyZW5bcl1dLGQsXy5wYXJlbnRzLmNvbmNhdCgpKSxsLnB1c2gobiksZ1tuXS5jaGlsZHJlbl9kLmxlbmd0aCYmKGw9bC5jb25jYXQoZ1tuXS5jaGlsZHJlbl9kKSk7Zm9yKHI9MCxpPV8ucGFyZW50cy5sZW5ndGg7cjxpO3IrKylnW18ucGFyZW50c1tyXV0uY2hpbGRyZW5fZD1nW18ucGFyZW50c1tyXV0uY2hpbGRyZW5fZC5jb25jYXQobCk7cz17Y250OnAsbW9kOmcsc2VsOm0scGFyOmQsZHBjOmwsYWRkOmh9fWVsc2V7Zm9yKHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspKG49eShvW3JdLGQsXy5wYXJlbnRzLmNvbmNhdCgpKSkmJihjLnB1c2gobiksbC5wdXNoKG4pLGdbbl0uY2hpbGRyZW5fZC5sZW5ndGgmJihsPWwuY29uY2F0KGdbbl0uY2hpbGRyZW5fZCkpKTtmb3IoXy5jaGlsZHJlbj1jLF8uY2hpbGRyZW5fZD1sLHI9MCxpPV8ucGFyZW50cy5sZW5ndGg7cjxpO3IrKylnW18ucGFyZW50c1tyXV0uY2hpbGRyZW5fZD1nW18ucGFyZW50c1tyXV0uY2hpbGRyZW5fZC5jb25jYXQobCk7cz17Y250OnAsbW9kOmcsc2VsOm0scGFyOmQsZHBjOmwsYWRkOmh9fWlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5kb2N1bWVudClyZXR1cm4gcztwb3N0TWVzc2FnZShzKX0sYz1mdW5jdGlvbih0LG4pe2lmKG51bGwhPT10aGlzLmVsZW1lbnQpe3RoaXMuX2NudD10LmNudDt2YXIgaSxzPXRoaXMuX21vZGVsLmRhdGE7Zm9yKGkgaW4gcylzLmhhc093blByb3BlcnR5KGkpJiZzW2ldLnN0YXRlJiZzW2ldLnN0YXRlLmxvYWRpbmcmJnQubW9kW2ldJiYodC5tb2RbaV0uc3RhdGUubG9hZGluZz0hMCk7aWYodGhpcy5fbW9kZWwuZGF0YT10Lm1vZCxuKXt2YXIgYSxvPXQuYWRkLGQ9dC5zZWwsYz10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuc2xpY2UoKTtpZihzPXRoaXMuX21vZGVsLmRhdGEsZC5sZW5ndGghPT1jLmxlbmd0aHx8ZS52YWthdGEuYXJyYXlfdW5pcXVlKGQuY29uY2F0KGMpKS5sZW5ndGghPT1kLmxlbmd0aCl7Zm9yKGk9MCxhPWQubGVuZ3RoO2k8YTtpKyspLTE9PT1lLmluQXJyYXkoZFtpXSxvKSYmLTE9PT1lLmluQXJyYXkoZFtpXSxjKSYmKHNbZFtpXV0uc3RhdGUuc2VsZWN0ZWQ9ITEpO2ZvcihpPTAsYT1jLmxlbmd0aDtpPGE7aSsrKS0xPT09ZS5pbkFycmF5KGNbaV0sZCkmJihzW2NbaV1dLnN0YXRlLnNlbGVjdGVkPSEwKX19dC5hZGQubGVuZ3RoJiYodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQodC5hZGQpKSx0aGlzLnRyaWdnZXIoXCJtb2RlbFwiLHtub2Rlczp0LmRwYyxwYXJlbnQ6dC5wYXJ9KSx0LnBhciE9PWUuanN0cmVlLnJvb3Q/KHRoaXMuX25vZGVfY2hhbmdlZCh0LnBhciksdGhpcy5yZWRyYXcoKSk6dGhpcy5yZWRyYXcoITApLHQuYWRkLmxlbmd0aCYmdGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJtb2RlbFwiLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZH0pLHIuY2FsbCh0aGlzLCEwKX19O2lmKHRoaXMuc2V0dGluZ3MuY29yZS53b3JrZXImJndpbmRvdy5CbG9iJiZ3aW5kb3cuVVJMJiZ3aW5kb3cuV29ya2VyKXRyeXtudWxsPT09dGhpcy5fd3JrJiYodGhpcy5fd3JrPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyB3aW5kb3cuQmxvYihbXCJzZWxmLm9ubWVzc2FnZSA9IFwiK2QudG9TdHJpbmcoKV0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pKSksIXRoaXMuX2RhdGEuY29yZS53b3JraW5nfHxpPyh0aGlzLl9kYXRhLmNvcmUud29ya2luZz0hMCwocz1uZXcgd2luZG93Lldvcmtlcih0aGlzLl93cmspKS5vbm1lc3NhZ2U9ZS5wcm94eShmdW5jdGlvbihlKXtjLmNhbGwodGhpcyxlLmRhdGEsITApO3RyeXtzLnRlcm1pbmF0ZSgpLHM9bnVsbH1jYXRjaChlKXt9dGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITF9LHRoaXMpLG8ucGFyP3MucG9zdE1lc3NhZ2Uobyk6dGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5sZW5ndGg/dGhpcy5fYXBwZW5kX2pzb25fZGF0YS5hcHBseSh0aGlzLHRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUuc2hpZnQoKSk6dGhpcy5fZGF0YS5jb3JlLndvcmtpbmc9ITEpOnRoaXMuX2RhdGEuY29yZS53b3JrZXJfcXVldWUucHVzaChbdCxuLHIsITBdKX1jYXRjaChlKXtjLmNhbGwodGhpcyxkKG8pLCExKSx0aGlzLl9kYXRhLmNvcmUud29ya2VyX3F1ZXVlLmxlbmd0aD90aGlzLl9hcHBlbmRfanNvbl9kYXRhLmFwcGx5KHRoaXMsdGhpcy5fZGF0YS5jb3JlLndvcmtlcl9xdWV1ZS5zaGlmdCgpKTp0aGlzLl9kYXRhLmNvcmUud29ya2luZz0hMX1lbHNlIGMuY2FsbCh0aGlzLGQobyksITEpfX0sX3BhcnNlX21vZGVsX2Zyb21faHRtbDpmdW5jdGlvbihuLHIsaSl7aT1pP1tdLmNvbmNhdChpKTpbXSxyJiZpLnVuc2hpZnQocik7dmFyIHMsYSxvLGQsYyxsPXRoaXMuX21vZGVsLmRhdGEsaD17aWQ6ITEsdGV4dDohMSxpY29uOiEwLHBhcmVudDpyLHBhcmVudHM6aSxjaGlsZHJlbjpbXSxjaGlsZHJlbl9kOltdLGRhdGE6bnVsbCxzdGF0ZTp7fSxsaV9hdHRyOntpZDohMX0sYV9hdHRyOntocmVmOlwiI1wifSxvcmlnaW5hbDohMX07Zm9yKG8gaW4gdGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSl0aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlLmhhc093blByb3BlcnR5KG8pJiYoaC5zdGF0ZVtvXT10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlW29dKTtpZihkPWUudmFrYXRhLmF0dHJpYnV0ZXMobiwhMCksZS5lYWNoKGQsZnVuY3Rpb24odCxuKXtpZighKG49ZS50cmltKG4pKS5sZW5ndGgpcmV0dXJuITA7aC5saV9hdHRyW3RdPW4sXCJpZFwiPT09dCYmKGguaWQ9bi50b1N0cmluZygpKX0pLChkPW4uY2hpbGRyZW4oXCJhXCIpLmZpcnN0KCkpLmxlbmd0aCYmKGQ9ZS52YWthdGEuYXR0cmlidXRlcyhkLCEwKSxlLmVhY2goZCxmdW5jdGlvbih0LG4peyhuPWUudHJpbShuKSkubGVuZ3RoJiYoaC5hX2F0dHJbdF09bil9KSksKGQ9bi5jaGlsZHJlbihcImFcIikuZmlyc3QoKS5sZW5ndGg/bi5jaGlsZHJlbihcImFcIikuZmlyc3QoKS5jbG9uZSgpOm4uY2xvbmUoKSkuY2hpbGRyZW4oXCJpbnMsIGksIHVsXCIpLnJlbW92ZSgpLGQ9ZC5odG1sKCksZD1lKFwiPGRpdiAvPlwiKS5odG1sKGQpLGgudGV4dD10aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dD9kLnRleHQoKTpkLmh0bWwoKSxkPW4uZGF0YSgpLGguZGF0YT1kP2UuZXh0ZW5kKCEwLHt9LGQpOm51bGwsaC5zdGF0ZS5vcGVuZWQ9bi5oYXNDbGFzcyhcImpzdHJlZS1vcGVuXCIpLGguc3RhdGUuc2VsZWN0ZWQ9bi5jaGlsZHJlbihcImFcIikuaGFzQ2xhc3MoXCJqc3RyZWUtY2xpY2tlZFwiKSxoLnN0YXRlLmRpc2FibGVkPW4uY2hpbGRyZW4oXCJhXCIpLmhhc0NsYXNzKFwianN0cmVlLWRpc2FibGVkXCIpLGguZGF0YSYmaC5kYXRhLmpzdHJlZSlmb3IobyBpbiBoLmRhdGEuanN0cmVlKWguZGF0YS5qc3RyZWUuaGFzT3duUHJvcGVydHkobykmJihoLnN0YXRlW29dPWguZGF0YS5qc3RyZWVbb10pOyhkPW4uY2hpbGRyZW4oXCJhXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS10aGVtZWljb25cIikpLmxlbmd0aCYmKGguaWNvbj0hZC5oYXNDbGFzcyhcImpzdHJlZS10aGVtZWljb24taGlkZGVuXCIpJiZkLmF0dHIoXCJyZWxcIikpLGguc3RhdGUuaWNvbiE9PXQmJihoLmljb249aC5zdGF0ZS5pY29uKSxoLmljb24hPT10JiZudWxsIT09aC5pY29uJiZcIlwiIT09aC5pY29ufHwoaC5pY29uPSEwKSxkPW4uY2hpbGRyZW4oXCJ1bFwiKS5jaGlsZHJlbihcImxpXCIpO2Rve2M9XCJqXCIrdGhpcy5faWQrXCJfXCIrICsrdGhpcy5fY250fXdoaWxlKGxbY10pO3JldHVybiBoLmlkPWgubGlfYXR0ci5pZD9oLmxpX2F0dHIuaWQudG9TdHJpbmcoKTpjLGQubGVuZ3RoPyhkLmVhY2goZS5wcm94eShmdW5jdGlvbih0LG4pe3M9dGhpcy5fcGFyc2VfbW9kZWxfZnJvbV9odG1sKGUobiksaC5pZCxpKSxhPXRoaXMuX21vZGVsLmRhdGFbc10saC5jaGlsZHJlbi5wdXNoKHMpLGEuY2hpbGRyZW5fZC5sZW5ndGgmJihoLmNoaWxkcmVuX2Q9aC5jaGlsZHJlbl9kLmNvbmNhdChhLmNoaWxkcmVuX2QpKX0sdGhpcykpLGguY2hpbGRyZW5fZD1oLmNoaWxkcmVuX2QuY29uY2F0KGguY2hpbGRyZW4pKTpuLmhhc0NsYXNzKFwianN0cmVlLWNsb3NlZFwiKSYmKGguc3RhdGUubG9hZGVkPSExKSxoLmxpX2F0dHIuY2xhc3MmJihoLmxpX2F0dHIuY2xhc3M9aC5saV9hdHRyLmNsYXNzLnJlcGxhY2UoXCJqc3RyZWUtY2xvc2VkXCIsXCJcIikucmVwbGFjZShcImpzdHJlZS1vcGVuXCIsXCJcIikpLGguYV9hdHRyLmNsYXNzJiYoaC5hX2F0dHIuY2xhc3M9aC5hX2F0dHIuY2xhc3MucmVwbGFjZShcImpzdHJlZS1jbGlja2VkXCIsXCJcIikucmVwbGFjZShcImpzdHJlZS1kaXNhYmxlZFwiLFwiXCIpKSxsW2guaWRdPWgsaC5zdGF0ZS5zZWxlY3RlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2goaC5pZCksaC5pZH0sX3BhcnNlX21vZGVsX2Zyb21fZmxhdF9qc29uOmZ1bmN0aW9uKGUsbixyKXtyPXI/ci5jb25jYXQoKTpbXSxuJiZyLnVuc2hpZnQobik7dmFyIGkscyxvLGQsYz1lLmlkLnRvU3RyaW5nKCksbD10aGlzLl9tb2RlbC5kYXRhLGg9dGhpcy5fbW9kZWwuZGVmYXVsdF9zdGF0ZSx1PXtpZDpjLHRleHQ6ZS50ZXh0fHxcIlwiLGljb246ZS5pY29uPT09dHx8ZS5pY29uLHBhcmVudDpuLHBhcmVudHM6cixjaGlsZHJlbjplLmNoaWxkcmVufHxbXSxjaGlsZHJlbl9kOmUuY2hpbGRyZW5fZHx8W10sZGF0YTplLmRhdGEsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjpcIiNcIn0sb3JpZ2luYWw6ITF9O2ZvcihpIGluIGgpaC5oYXNPd25Qcm9wZXJ0eShpKSYmKHUuc3RhdGVbaV09aFtpXSk7aWYoZSYmZS5kYXRhJiZlLmRhdGEuanN0cmVlJiZlLmRhdGEuanN0cmVlLmljb24mJih1Lmljb249ZS5kYXRhLmpzdHJlZS5pY29uKSx1Lmljb24hPT10JiZudWxsIT09dS5pY29uJiZcIlwiIT09dS5pY29ufHwodS5pY29uPSEwKSxlJiZlLmRhdGEmJih1LmRhdGE9ZS5kYXRhLGUuZGF0YS5qc3RyZWUpKWZvcihpIGluIGUuZGF0YS5qc3RyZWUpZS5kYXRhLmpzdHJlZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHUuc3RhdGVbaV09ZS5kYXRhLmpzdHJlZVtpXSk7aWYoZSYmXCJvYmplY3RcIj09PWEoZS5zdGF0ZSkpZm9yKGkgaW4gZS5zdGF0ZSllLnN0YXRlLmhhc093blByb3BlcnR5KGkpJiYodS5zdGF0ZVtpXT1lLnN0YXRlW2ldKTtpZihlJiZcIm9iamVjdFwiPT09YShlLmxpX2F0dHIpKWZvcihpIGluIGUubGlfYXR0cillLmxpX2F0dHIuaGFzT3duUHJvcGVydHkoaSkmJih1LmxpX2F0dHJbaV09ZS5saV9hdHRyW2ldKTtpZih1LmxpX2F0dHIuaWR8fCh1LmxpX2F0dHIuaWQ9YyksZSYmXCJvYmplY3RcIj09PWEoZS5hX2F0dHIpKWZvcihpIGluIGUuYV9hdHRyKWUuYV9hdHRyLmhhc093blByb3BlcnR5KGkpJiYodS5hX2F0dHJbaV09ZS5hX2F0dHJbaV0pO2ZvcihlJiZlLmNoaWxkcmVuJiYhMD09PWUuY2hpbGRyZW4mJih1LnN0YXRlLmxvYWRlZD0hMSx1LmNoaWxkcmVuPVtdLHUuY2hpbGRyZW5fZD1bXSksbFt1LmlkXT11LGk9MCxzPXUuY2hpbGRyZW4ubGVuZ3RoO2k8cztpKyspbz10aGlzLl9wYXJzZV9tb2RlbF9mcm9tX2ZsYXRfanNvbihsW3UuY2hpbGRyZW5baV1dLHUuaWQsciksZD1sW29dLHUuY2hpbGRyZW5fZC5wdXNoKG8pLGQuY2hpbGRyZW5fZC5sZW5ndGgmJih1LmNoaWxkcmVuX2Q9dS5jaGlsZHJlbl9kLmNvbmNhdChkLmNoaWxkcmVuX2QpKTtyZXR1cm4gZGVsZXRlIGUuZGF0YSxkZWxldGUgZS5jaGlsZHJlbixsW3UuaWRdLm9yaWdpbmFsPWUsdS5zdGF0ZS5zZWxlY3RlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2godS5pZCksdS5pZH0sX3BhcnNlX21vZGVsX2Zyb21fanNvbjpmdW5jdGlvbihlLG4scil7cj1yP3IuY29uY2F0KCk6W10sbiYmci51bnNoaWZ0KG4pO3ZhciBpLHMsbyxkLGMsbD0hMSxoPXRoaXMuX21vZGVsLmRhdGEsdT10aGlzLl9tb2RlbC5kZWZhdWx0X3N0YXRlO2Rve2w9XCJqXCIrdGhpcy5faWQrXCJfXCIrICsrdGhpcy5fY250fXdoaWxlKGhbbF0pO2ZvcihpIGluIGM9e2lkOiExLHRleHQ6XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpcIlwiLGljb246XCJvYmplY3RcIiE9PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6YShlKSl8fGUuaWNvbj09PXR8fGUuaWNvbixwYXJlbnQ6bixwYXJlbnRzOnIsY2hpbGRyZW46W10sY2hpbGRyZW5fZDpbXSxkYXRhOm51bGwsc3RhdGU6e30sbGlfYXR0cjp7aWQ6ITF9LGFfYXR0cjp7aHJlZjpcIiNcIn0sb3JpZ2luYWw6ITF9LHUpdS5oYXNPd25Qcm9wZXJ0eShpKSYmKGMuc3RhdGVbaV09dVtpXSk7aWYoZSYmZS5pZCYmKGMuaWQ9ZS5pZC50b1N0cmluZygpKSxlJiZlLnRleHQmJihjLnRleHQ9ZS50ZXh0KSxlJiZlLmRhdGEmJmUuZGF0YS5qc3RyZWUmJmUuZGF0YS5qc3RyZWUuaWNvbiYmKGMuaWNvbj1lLmRhdGEuanN0cmVlLmljb24pLGMuaWNvbiE9PXQmJm51bGwhPT1jLmljb24mJlwiXCIhPT1jLmljb258fChjLmljb249ITApLGUmJmUuZGF0YSYmKGMuZGF0YT1lLmRhdGEsZS5kYXRhLmpzdHJlZSkpZm9yKGkgaW4gZS5kYXRhLmpzdHJlZSllLmRhdGEuanN0cmVlLmhhc093blByb3BlcnR5KGkpJiYoYy5zdGF0ZVtpXT1lLmRhdGEuanN0cmVlW2ldKTtpZihlJiZcIm9iamVjdFwiPT09YShlLnN0YXRlKSlmb3IoaSBpbiBlLnN0YXRlKWUuc3RhdGUuaGFzT3duUHJvcGVydHkoaSkmJihjLnN0YXRlW2ldPWUuc3RhdGVbaV0pO2lmKGUmJlwib2JqZWN0XCI9PT1hKGUubGlfYXR0cikpZm9yKGkgaW4gZS5saV9hdHRyKWUubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShpKSYmKGMubGlfYXR0cltpXT1lLmxpX2F0dHJbaV0pO2lmKGMubGlfYXR0ci5pZCYmIWMuaWQmJihjLmlkPWMubGlfYXR0ci5pZC50b1N0cmluZygpKSxjLmlkfHwoYy5pZD1sKSxjLmxpX2F0dHIuaWR8fChjLmxpX2F0dHIuaWQ9Yy5pZCksZSYmXCJvYmplY3RcIj09PWEoZS5hX2F0dHIpKWZvcihpIGluIGUuYV9hdHRyKWUuYV9hdHRyLmhhc093blByb3BlcnR5KGkpJiYoYy5hX2F0dHJbaV09ZS5hX2F0dHJbaV0pO2lmKGUmJmUuY2hpbGRyZW4mJmUuY2hpbGRyZW4ubGVuZ3RoKXtmb3IoaT0wLHM9ZS5jaGlsZHJlbi5sZW5ndGg7aTxzO2krKylvPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21fanNvbihlLmNoaWxkcmVuW2ldLGMuaWQsciksZD1oW29dLGMuY2hpbGRyZW4ucHVzaChvKSxkLmNoaWxkcmVuX2QubGVuZ3RoJiYoYy5jaGlsZHJlbl9kPWMuY2hpbGRyZW5fZC5jb25jYXQoZC5jaGlsZHJlbl9kKSk7Yy5jaGlsZHJlbl9kPWMuY2hpbGRyZW5fZC5jb25jYXQoYy5jaGlsZHJlbil9cmV0dXJuIGUmJmUuY2hpbGRyZW4mJiEwPT09ZS5jaGlsZHJlbiYmKGMuc3RhdGUubG9hZGVkPSExLGMuY2hpbGRyZW49W10sYy5jaGlsZHJlbl9kPVtdKSxkZWxldGUgZS5kYXRhLGRlbGV0ZSBlLmNoaWxkcmVuLGMub3JpZ2luYWw9ZSxoW2MuaWRdPWMsYy5zdGF0ZS5zZWxlY3RlZCYmdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLnB1c2goYy5pZCksYy5pZH0sX3JlZHJhdzpmdW5jdGlvbigpe3ZhciB0LG4scixpPXRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3P3RoaXMuX21vZGVsLmRhdGFbZS5qc3RyZWUucm9vdF0uY2hpbGRyZW4uY29uY2F0KFtdKTp0aGlzLl9tb2RlbC5jaGFuZ2VkLmNvbmNhdChbXSkscz1jLmNyZWF0ZUVsZW1lbnQoXCJVTFwiKSxhPXRoaXMuX2RhdGEuY29yZS5mb2N1c2VkO2ZvcihuPTAscj1pLmxlbmd0aDtuPHI7bisrKSh0PXRoaXMucmVkcmF3X25vZGUoaVtuXSwhMCx0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdykpJiZ0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdyYmcy5hcHBlbmRDaGlsZCh0KTt0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdyYmKHMuY2xhc3NOYW1lPXRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpWzBdLmNsYXNzTmFtZSxzLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImdyb3VwXCIpLHRoaXMuZWxlbWVudC5lbXB0eSgpLmFwcGVuZChzKSksbnVsbCE9PWEmJigodD10aGlzLmdldF9ub2RlKGEsITApKSYmdC5sZW5ndGgmJnQuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKVswXSE9PWMuYWN0aXZlRWxlbWVudD90LmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKTp0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1udWxsKSx0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMSx0aGlzLl9tb2RlbC5jaGFuZ2VkPVtdLHRoaXMudHJpZ2dlcihcInJlZHJhd1wiLHtub2RlczppfSl9LHJlZHJhdzpmdW5jdGlvbihlKXtlJiYodGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITApLHRoaXMuX3JlZHJhdygpfSxkcmF3X2NoaWxkcmVuOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2V0X25vZGUodCkscj0hMSxpPSExLHM9ITEsYT1jO2lmKCFuKXJldHVybiExO2lmKG4uaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiB0aGlzLnJlZHJhdyghMCk7aWYoISh0PXRoaXMuZ2V0X25vZGUodCwhMCkpfHwhdC5sZW5ndGgpcmV0dXJuITE7aWYodC5jaGlsZHJlbihcIi5qc3RyZWUtY2hpbGRyZW5cIikucmVtb3ZlKCksdD10WzBdLG4uY2hpbGRyZW4ubGVuZ3RoJiZuLnN0YXRlLmxvYWRlZCl7Zm9yKChzPWEuY3JlYXRlRWxlbWVudChcIlVMXCIpKS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJncm91cFwiKSxzLmNsYXNzTmFtZT1cImpzdHJlZS1jaGlsZHJlblwiLHI9MCxpPW4uY2hpbGRyZW4ubGVuZ3RoO3I8aTtyKyspcy5hcHBlbmRDaGlsZCh0aGlzLnJlZHJhd19ub2RlKG4uY2hpbGRyZW5bcl0sITAsITApKTt0LmFwcGVuZENoaWxkKHMpfX0scmVkcmF3X25vZGU6ZnVuY3Rpb24odCxuLHIsaSl7dmFyIHM9dGhpcy5nZXRfbm9kZSh0KSxhPSExLG89ITEsZD0hMSxsPSExLGg9ITEsdT0hMSxmPVwiXCIscD1jLGc9dGhpcy5fbW9kZWwuZGF0YSxfPSExLG09bnVsbCx2PTAseT0wLHg9ITEsYj0hMTtpZighcylyZXR1cm4hMTtpZihzLmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4gdGhpcy5yZWRyYXcoITApO2lmKG49bnx8MD09PXMuY2hpbGRyZW4ubGVuZ3RoLHQ9Yy5xdWVyeVNlbGVjdG9yP3RoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKFwiI1wiKygtMSE9PVwiMDEyMzQ1Njc4OVwiLmluZGV4T2Yocy5pZFswXSk/XCJcXFxcM1wiK3MuaWRbMF0rXCIgXCIrcy5pZC5zdWJzdHIoMSkucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LFwiXFxcXCQmXCIpOnMuaWQucmVwbGFjZShlLmpzdHJlZS5pZHJlZ2V4LFwiXFxcXCQmXCIpKSk6Yy5nZXRFbGVtZW50QnlJZChzLmlkKSl0PWUodCkscnx8KChhPXQucGFyZW50KCkucGFyZW50KClbMF0pPT09dGhpcy5lbGVtZW50WzBdJiYoYT1udWxsKSxvPXQuaW5kZXgoKSksbnx8IXMuY2hpbGRyZW4ubGVuZ3RofHx0LmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5sZW5ndGh8fChuPSEwKSxufHwoZD10LmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKVswXSksXz10LmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIilbMF09PT1jLmFjdGl2ZUVsZW1lbnQsdC5yZW1vdmUoKTtlbHNlIGlmKG49ITAsIXIpe2lmKCEobnVsbD09PShhPXMucGFyZW50IT09ZS5qc3RyZWUucm9vdD9lKFwiI1wiK3MucGFyZW50LnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKSx0aGlzLmVsZW1lbnQpWzBdOm51bGwpfHxhJiZnW3MucGFyZW50XS5zdGF0ZS5vcGVuZWQpKXJldHVybiExO289ZS5pbkFycmF5KHMuaWQsbnVsbD09PWE/Z1tlLmpzdHJlZS5yb290XS5jaGlsZHJlbjpnW3MucGFyZW50XS5jaGlsZHJlbil9Zm9yKGwgaW4gdD10aGlzLl9kYXRhLmNvcmUubm9kZS5jbG9uZU5vZGUoITApLGY9XCJqc3RyZWUtbm9kZSBcIixzLmxpX2F0dHIpaWYocy5saV9hdHRyLmhhc093blByb3BlcnR5KGwpKXtpZihcImlkXCI9PT1sKWNvbnRpbnVlO1wiY2xhc3NcIiE9PWw/dC5zZXRBdHRyaWJ1dGUobCxzLmxpX2F0dHJbbF0pOmYrPXMubGlfYXR0cltsXX1mb3Iocy5hX2F0dHIuaWR8fChzLmFfYXR0ci5pZD1zLmlkK1wiX2FuY2hvclwiKSx0LnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwhIXMuc3RhdGUuc2VsZWN0ZWQpLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1sZXZlbFwiLHMucGFyZW50cy5sZW5ndGgpLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIscy5hX2F0dHIuaWQpLHMuc3RhdGUuZGlzYWJsZWQmJnQuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCEwKSxsPTAsaD1zLmNoaWxkcmVuLmxlbmd0aDtsPGg7bCsrKWlmKCFnW3MuY2hpbGRyZW5bbF1dLnN0YXRlLmhpZGRlbil7eD0hMDticmVha31pZihudWxsIT09cy5wYXJlbnQmJmdbcy5wYXJlbnRdJiYhcy5zdGF0ZS5oaWRkZW4mJihsPWUuaW5BcnJheShzLmlkLGdbcy5wYXJlbnRdLmNoaWxkcmVuKSxiPXMuaWQsLTEhPT1sKSlmb3IobCsrLGg9Z1tzLnBhcmVudF0uY2hpbGRyZW4ubGVuZ3RoO2w8aCYmKGdbZ1tzLnBhcmVudF0uY2hpbGRyZW5bbF1dLnN0YXRlLmhpZGRlbnx8KGI9Z1tzLnBhcmVudF0uY2hpbGRyZW5bbF0pLGI9PT1zLmlkKTtsKyspO2ZvcihoIGluIHMuc3RhdGUuaGlkZGVuJiYoZis9XCIganN0cmVlLWhpZGRlblwiKSxzLnN0YXRlLmxvYWRpbmcmJihmKz1cIiBqc3RyZWUtbG9hZGluZ1wiKSxzLnN0YXRlLmxvYWRlZCYmIXg/Zis9XCIganN0cmVlLWxlYWZcIjooZis9cy5zdGF0ZS5vcGVuZWQmJnMuc3RhdGUubG9hZGVkP1wiIGpzdHJlZS1vcGVuXCI6XCIganN0cmVlLWNsb3NlZFwiLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLHMuc3RhdGUub3BlbmVkJiZzLnN0YXRlLmxvYWRlZCkpLGI9PT1zLmlkJiYoZis9XCIganN0cmVlLWxhc3RcIiksdC5pZD1zLmlkLHQuY2xhc3NOYW1lPWYsZj0ocy5zdGF0ZS5zZWxlY3RlZD9cIiBqc3RyZWUtY2xpY2tlZFwiOlwiXCIpKyhzLnN0YXRlLmRpc2FibGVkP1wiIGpzdHJlZS1kaXNhYmxlZFwiOlwiXCIpLHMuYV9hdHRyKWlmKHMuYV9hdHRyLmhhc093blByb3BlcnR5KGgpKXtpZihcImhyZWZcIj09PWgmJlwiI1wiPT09cy5hX2F0dHJbaF0pY29udGludWU7XCJjbGFzc1wiIT09aD90LmNoaWxkTm9kZXNbMV0uc2V0QXR0cmlidXRlKGgscy5hX2F0dHJbaF0pOmYrPVwiIFwiK3MuYV9hdHRyW2hdfWlmKGYubGVuZ3RoJiYodC5jaGlsZE5vZGVzWzFdLmNsYXNzTmFtZT1cImpzdHJlZS1hbmNob3IgXCIrZiksKHMuaWNvbiYmITAhPT1zLmljb258fCExPT09cy5pY29uKSYmKCExPT09cy5pY29uP3QuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLmNsYXNzTmFtZSs9XCIganN0cmVlLXRoZW1laWNvbi1oaWRkZW5cIjotMT09PXMuaWNvbi5pbmRleE9mKFwiL1wiKSYmLTE9PT1zLmljb24uaW5kZXhPZihcIi5cIik/dC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uY2xhc3NOYW1lKz1cIiBcIitzLmljb24rXCIganN0cmVlLXRoZW1laWNvbi1jdXN0b21cIjoodC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSd1cmwoXCInK3MuaWNvbisnXCIpJyx0LmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249XCJjZW50ZXIgY2VudGVyXCIsdC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uc3R5bGUuYmFja2dyb3VuZFNpemU9XCJhdXRvXCIsdC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0uY2xhc3NOYW1lKz1cIiBqc3RyZWUtdGhlbWVpY29uLWN1c3RvbVwiKSksdGhpcy5zZXR0aW5ncy5jb3JlLmZvcmNlX3RleHQ/dC5jaGlsZE5vZGVzWzFdLmFwcGVuZENoaWxkKHAuY3JlYXRlVGV4dE5vZGUocy50ZXh0KSk6dC5jaGlsZE5vZGVzWzFdLmlubmVySFRNTCs9cy50ZXh0LG4mJnMuY2hpbGRyZW4ubGVuZ3RoJiYocy5zdGF0ZS5vcGVuZWR8fGkpJiZzLnN0YXRlLmxvYWRlZCl7Zm9yKCh1PXAuY3JlYXRlRWxlbWVudChcIlVMXCIpKS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJncm91cFwiKSx1LmNsYXNzTmFtZT1cImpzdHJlZS1jaGlsZHJlblwiLGw9MCxoPXMuY2hpbGRyZW4ubGVuZ3RoO2w8aDtsKyspdS5hcHBlbmRDaGlsZCh0aGlzLnJlZHJhd19ub2RlKHMuY2hpbGRyZW5bbF0sbiwhMCkpO3QuYXBwZW5kQ2hpbGQodSl9aWYoZCYmdC5hcHBlbmRDaGlsZChkKSwhcil7Zm9yKGF8fChhPXRoaXMuZWxlbWVudFswXSksbD0wLGg9YS5jaGlsZE5vZGVzLmxlbmd0aDtsPGg7bCsrKWlmKGEuY2hpbGROb2Rlc1tsXSYmYS5jaGlsZE5vZGVzW2xdLmNsYXNzTmFtZSYmLTEhPT1hLmNoaWxkTm9kZXNbbF0uY2xhc3NOYW1lLmluZGV4T2YoXCJqc3RyZWUtY2hpbGRyZW5cIikpe209YS5jaGlsZE5vZGVzW2xdO2JyZWFrfW18fCgobT1wLmNyZWF0ZUVsZW1lbnQoXCJVTFwiKSkuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiZ3JvdXBcIiksbS5jbGFzc05hbWU9XCJqc3RyZWUtY2hpbGRyZW5cIixhLmFwcGVuZENoaWxkKG0pKSxvPChhPW0pLmNoaWxkTm9kZXMubGVuZ3RoP2EuaW5zZXJ0QmVmb3JlKHQsYS5jaGlsZE5vZGVzW29dKTphLmFwcGVuZENoaWxkKHQpLF8mJih2PXRoaXMuZWxlbWVudFswXS5zY3JvbGxUb3AseT10aGlzLmVsZW1lbnRbMF0uc2Nyb2xsTGVmdCx0LmNoaWxkTm9kZXNbMV0uZm9jdXMoKSx0aGlzLmVsZW1lbnRbMF0uc2Nyb2xsVG9wPXYsdGhpcy5lbGVtZW50WzBdLnNjcm9sbExlZnQ9eSl9cmV0dXJuIHMuc3RhdGUub3BlbmVkJiYhcy5zdGF0ZS5sb2FkZWQmJihzLnN0YXRlLm9wZW5lZD0hMSxzZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLm9wZW5fbm9kZShzLmlkLCExLDApfSx0aGlzKSwwKSksdH0sb3Blbl9ub2RlOmZ1bmN0aW9uKG4scixpKXt2YXIgcyxhLG8sZDtpZihlLmlzQXJyYXkobikpe2ZvcihuPW4uc2xpY2UoKSxzPTAsYT1uLmxlbmd0aDtzPGE7cysrKXRoaXMub3Blbl9ub2RlKG5bc10scixpKTtyZXR1cm4hMH1yZXR1cm4hKCEobj10aGlzLmdldF9ub2RlKG4pKXx8bi5pZD09PWUuanN0cmVlLnJvb3QpJiYoaT1pPT09dD90aGlzLnNldHRpbmdzLmNvcmUuYW5pbWF0aW9uOmksdGhpcy5pc19jbG9zZWQobik/dGhpcy5pc19sb2FkZWQobik/KG89dGhpcy5nZXRfbm9kZShuLCEwKSxkPXRoaXMsby5sZW5ndGgmJihpJiZvLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5sZW5ndGgmJm8uY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLnN0b3AoITAsITApLG4uY2hpbGRyZW4ubGVuZ3RoJiYhdGhpcy5fZmlyc3RDaGlsZChvLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKVswXSkmJnRoaXMuZHJhd19jaGlsZHJlbihuKSxpPyh0aGlzLnRyaWdnZXIoXCJiZWZvcmVfb3BlblwiLHtub2RlOm59KSxvLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5jc3MoXCJkaXNwbGF5XCIsXCJub25lXCIpLmVuZCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNsb3NlZFwiKS5hZGRDbGFzcyhcImpzdHJlZS1vcGVuXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5zdG9wKCEwLCEwKS5zbGlkZURvd24oaSxmdW5jdGlvbigpe3RoaXMuc3R5bGUuZGlzcGxheT1cIlwiLGQuZWxlbWVudCYmZC50cmlnZ2VyKFwiYWZ0ZXJfb3BlblwiLHtub2RlOm59KX0pKToodGhpcy50cmlnZ2VyKFwiYmVmb3JlX29wZW5cIix7bm9kZTpufSksb1swXS5jbGFzc05hbWU9b1swXS5jbGFzc05hbWUucmVwbGFjZShcImpzdHJlZS1jbG9zZWRcIixcImpzdHJlZS1vcGVuXCIpLG9bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCEwKSkpLG4uc3RhdGUub3BlbmVkPSEwLHImJnIuY2FsbCh0aGlzLG4sITApLG8ubGVuZ3RofHx0aGlzLnRyaWdnZXIoXCJiZWZvcmVfb3BlblwiLHtub2RlOm59KSx0aGlzLnRyaWdnZXIoXCJvcGVuX25vZGVcIix7bm9kZTpufSksaSYmby5sZW5ndGh8fHRoaXMudHJpZ2dlcihcImFmdGVyX29wZW5cIix7bm9kZTpufSksITApOnRoaXMuaXNfbG9hZGluZyhuKT9zZXRUaW1lb3V0KGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLm9wZW5fbm9kZShuLHIsaSl9LHRoaXMpLDUwMCk6dm9pZCB0aGlzLmxvYWRfbm9kZShuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/dGhpcy5vcGVuX25vZGUoZSxyLGkpOiEhciYmci5jYWxsKHRoaXMsZSwhMSl9KToociYmci5jYWxsKHRoaXMsbiwhMSksITEpKX0sX29wZW5fdG86ZnVuY3Rpb24odCl7aWYoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTt2YXIgbixyLGk9dC5wYXJlbnRzO2ZvcihuPTAscj1pLmxlbmd0aDtuPHI7bis9MSluIT09ZS5qc3RyZWUucm9vdCYmdGhpcy5vcGVuX25vZGUoaVtuXSwhMSwwKTtyZXR1cm4gZShcIiNcIit0LmlkLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKSx0aGlzLmVsZW1lbnQpfSxjbG9zZV9ub2RlOmZ1bmN0aW9uKG4scil7dmFyIGkscyxhLG87aWYoZS5pc0FycmF5KG4pKXtmb3Iobj1uLnNsaWNlKCksaT0wLHM9bi5sZW5ndGg7aTxzO2krKyl0aGlzLmNsb3NlX25vZGUobltpXSxyKTtyZXR1cm4hMH1yZXR1cm4hKCEobj10aGlzLmdldF9ub2RlKG4pKXx8bi5pZD09PWUuanN0cmVlLnJvb3QpJiYhdGhpcy5pc19jbG9zZWQobikmJihyPXI9PT10P3RoaXMuc2V0dGluZ3MuY29yZS5hbmltYXRpb246cixhPXRoaXMsbz10aGlzLmdldF9ub2RlKG4sITApLG4uc3RhdGUub3BlbmVkPSExLHRoaXMudHJpZ2dlcihcImNsb3NlX25vZGVcIix7bm9kZTpufSksdm9pZChvLmxlbmd0aD9yP28uY2hpbGRyZW4oXCIuanN0cmVlLWNoaWxkcmVuXCIpLmF0dHIoXCJzdHlsZVwiLFwiZGlzcGxheTpibG9jayAhaW1wb3J0YW50XCIpLmVuZCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLW9wZW5cIikuYWRkQ2xhc3MoXCJqc3RyZWUtY2xvc2VkXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITEpLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5zdG9wKCEwLCEwKS5zbGlkZVVwKHIsZnVuY3Rpb24oKXt0aGlzLnN0eWxlLmRpc3BsYXk9XCJcIixvLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5yZW1vdmUoKSxhLmVsZW1lbnQmJmEudHJpZ2dlcihcImFmdGVyX2Nsb3NlXCIse25vZGU6bn0pfSk6KG9bMF0uY2xhc3NOYW1lPW9bMF0uY2xhc3NOYW1lLnJlcGxhY2UoXCJqc3RyZWUtb3BlblwiLFwianN0cmVlLWNsb3NlZFwiKSxvLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITEpLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGlsZHJlblwiKS5yZW1vdmUoKSx0aGlzLnRyaWdnZXIoXCJhZnRlcl9jbG9zZVwiLHtub2RlOm59KSk6dGhpcy50cmlnZ2VyKFwiYWZ0ZXJfY2xvc2VcIix7bm9kZTpufSkpKX0sdG9nZ2xlX25vZGU6ZnVuY3Rpb24odCl7dmFyIG4scjtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxuPTAscj10Lmxlbmd0aDtuPHI7bisrKXRoaXMudG9nZ2xlX25vZGUodFtuXSk7cmV0dXJuITB9cmV0dXJuIHRoaXMuaXNfY2xvc2VkKHQpP3RoaXMub3Blbl9ub2RlKHQpOnRoaXMuaXNfb3Blbih0KT90aGlzLmNsb3NlX25vZGUodCk6dm9pZCAwfSxvcGVuX2FsbDpmdW5jdGlvbih0LG4scil7aWYodHx8KHQ9ZS5qc3RyZWUucm9vdCksISh0PXRoaXMuZ2V0X25vZGUodCkpKXJldHVybiExO3ZhciBpLHMsYSxvPXQuaWQ9PT1lLmpzdHJlZS5yb290P3RoaXMuZ2V0X2NvbnRhaW5lcl91bCgpOnRoaXMuZ2V0X25vZGUodCwhMCk7aWYoIW8ubGVuZ3RoKXtmb3IoaT0wLHM9dC5jaGlsZHJlbl9kLmxlbmd0aDtpPHM7aSsrKXRoaXMuaXNfY2xvc2VkKHRoaXMuX21vZGVsLmRhdGFbdC5jaGlsZHJlbl9kW2ldXSkmJih0aGlzLl9tb2RlbC5kYXRhW3QuY2hpbGRyZW5fZFtpXV0uc3RhdGUub3BlbmVkPSEwKTtyZXR1cm4gdGhpcy50cmlnZ2VyKFwib3Blbl9hbGxcIix7bm9kZTp0fSl9cj1yfHxvLGE9dGhpcywobz10aGlzLmlzX2Nsb3NlZCh0KT9vLmZpbmQoXCIuanN0cmVlLWNsb3NlZFwiKS5hZGRCYWNrKCk6by5maW5kKFwiLmpzdHJlZS1jbG9zZWRcIikpLmVhY2goZnVuY3Rpb24oKXthLm9wZW5fbm9kZSh0aGlzLGZ1bmN0aW9uKGUsdCl7dCYmdGhpcy5pc19wYXJlbnQoZSkmJnRoaXMub3Blbl9hbGwoZSxuLHIpfSxufHwwKX0pLDA9PT1yLmZpbmQoXCIuanN0cmVlLWNsb3NlZFwiKS5sZW5ndGgmJnRoaXMudHJpZ2dlcihcIm9wZW5fYWxsXCIse25vZGU6dGhpcy5nZXRfbm9kZShyKX0pfSxjbG9zZV9hbGw6ZnVuY3Rpb24odCxuKXtpZih0fHwodD1lLmpzdHJlZS5yb290KSwhKHQ9dGhpcy5nZXRfbm9kZSh0KSkpcmV0dXJuITE7dmFyIHIsaSxzPXQuaWQ9PT1lLmpzdHJlZS5yb290P3RoaXMuZ2V0X2NvbnRhaW5lcl91bCgpOnRoaXMuZ2V0X25vZGUodCwhMCksYT10aGlzO2ZvcihzLmxlbmd0aCYmKHM9dGhpcy5pc19vcGVuKHQpP3MuZmluZChcIi5qc3RyZWUtb3BlblwiKS5hZGRCYWNrKCk6cy5maW5kKFwiLmpzdHJlZS1vcGVuXCIpLGUocy5nZXQoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oKXthLmNsb3NlX25vZGUodGhpcyxufHwwKX0pKSxyPTAsaT10LmNoaWxkcmVuX2QubGVuZ3RoO3I8aTtyKyspdGhpcy5fbW9kZWwuZGF0YVt0LmNoaWxkcmVuX2Rbcl1dLnN0YXRlLm9wZW5lZD0hMTt0aGlzLnRyaWdnZXIoXCJjbG9zZV9hbGxcIix7bm9kZTp0fSl9LGlzX2Rpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybihlPXRoaXMuZ2V0X25vZGUoZSkpJiZlLnN0YXRlJiZlLnN0YXRlLmRpc2FibGVkfSxlbmFibGVfbm9kZTpmdW5jdGlvbih0KXt2YXIgbixyO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxyPXQubGVuZ3RoO248cjtuKyspdGhpcy5lbmFibGVfbm9kZSh0W25dKTtyZXR1cm4hMH1pZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO3Quc3RhdGUuZGlzYWJsZWQ9ITEsdGhpcy5nZXRfbm9kZSh0LCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLWRpc2FibGVkXCIpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsITEpLHRoaXMudHJpZ2dlcihcImVuYWJsZV9ub2RlXCIse25vZGU6dH0pfSxkaXNhYmxlX25vZGU6ZnVuY3Rpb24odCl7dmFyIG4scjtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxuPTAscj10Lmxlbmd0aDtuPHI7bisrKXRoaXMuZGlzYWJsZV9ub2RlKHRbbl0pO3JldHVybiEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7dC5zdGF0ZS5kaXNhYmxlZD0hMCx0aGlzLmdldF9ub2RlKHQsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3MoXCJqc3RyZWUtZGlzYWJsZWRcIikuYXR0cihcImFyaWEtZGlzYWJsZWRcIiwhMCksdGhpcy50cmlnZ2VyKFwiZGlzYWJsZV9ub2RlXCIse25vZGU6dH0pfSxpc19oaWRkZW46ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT0oZT10aGlzLmdldF9ub2RlKGUpKS5zdGF0ZS5oaWRkZW59LGhpZGVfbm9kZTpmdW5jdGlvbih0LG4pe3ZhciByLGk7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCkscj0wLGk9dC5sZW5ndGg7cjxpO3IrKyl0aGlzLmhpZGVfbm9kZSh0W3JdLCEwKTtyZXR1cm4gbnx8dGhpcy5yZWRyYXcoKSwhMH1pZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO3Quc3RhdGUuaGlkZGVufHwodC5zdGF0ZS5oaWRkZW49ITAsdGhpcy5fbm9kZV9jaGFuZ2VkKHQucGFyZW50KSxufHx0aGlzLnJlZHJhdygpLHRoaXMudHJpZ2dlcihcImhpZGVfbm9kZVwiLHtub2RlOnR9KSl9LHNob3dfbm9kZTpmdW5jdGlvbih0LG4pe3ZhciByLGk7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCkscj0wLGk9dC5sZW5ndGg7cjxpO3IrKyl0aGlzLnNob3dfbm9kZSh0W3JdLCEwKTtyZXR1cm4gbnx8dGhpcy5yZWRyYXcoKSwhMH1pZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO3Quc3RhdGUuaGlkZGVuJiYodC5zdGF0ZS5oaWRkZW49ITEsdGhpcy5fbm9kZV9jaGFuZ2VkKHQucGFyZW50KSxufHx0aGlzLnJlZHJhdygpLHRoaXMudHJpZ2dlcihcInNob3dfbm9kZVwiLHtub2RlOnR9KSl9LGhpZGVfYWxsOmZ1bmN0aW9uKHQpe3ZhciBuLHI9dGhpcy5fbW9kZWwuZGF0YSxpPVtdO2ZvcihuIGluIHIpci5oYXNPd25Qcm9wZXJ0eShuKSYmbiE9PWUuanN0cmVlLnJvb3QmJiFyW25dLnN0YXRlLmhpZGRlbiYmKHJbbl0uc3RhdGUuaGlkZGVuPSEwLGkucHVzaChuKSk7cmV0dXJuIHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3PSEwLHR8fHRoaXMucmVkcmF3KCksdGhpcy50cmlnZ2VyKFwiaGlkZV9hbGxcIix7bm9kZXM6aX0pLGl9LHNob3dfYWxsOmZ1bmN0aW9uKHQpe3ZhciBuLHI9dGhpcy5fbW9kZWwuZGF0YSxpPVtdO2ZvcihuIGluIHIpci5oYXNPd25Qcm9wZXJ0eShuKSYmbiE9PWUuanN0cmVlLnJvb3QmJnJbbl0uc3RhdGUuaGlkZGVuJiYocltuXS5zdGF0ZS5oaWRkZW49ITEsaS5wdXNoKG4pKTtyZXR1cm4gdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITAsdHx8dGhpcy5yZWRyYXcoKSx0aGlzLnRyaWdnZXIoXCJzaG93X2FsbFwiLHtub2RlczppfSksaX0sYWN0aXZhdGVfbm9kZTpmdW5jdGlvbihlLG4pe2lmKHRoaXMuaXNfZGlzYWJsZWQoZSkpcmV0dXJuITE7aWYobiYmXCJvYmplY3RcIj09PSh2b2lkIDA9PT1uP1widW5kZWZpbmVkXCI6YShuKSl8fChuPXt9KSx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkPXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQmJnRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQuaWQhPT10P3RoaXMuZ2V0X25vZGUodGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5pZCk6bnVsbCx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkJiYhdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZC5zdGF0ZS5zZWxlY3RlZCYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQ9bnVsbCksIXRoaXMuX2RhdGEuY29yZS5sYXN0X2NsaWNrZWQmJnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGgmJih0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkPXRoaXMuZ2V0X25vZGUodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGgtMV0pKSx0aGlzLnNldHRpbmdzLmNvcmUubXVsdGlwbGUmJihuLm1ldGFLZXl8fG4uY3RybEtleXx8bi5zaGlmdEtleSkmJighbi5zaGlmdEtleXx8dGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZCYmdGhpcy5nZXRfcGFyZW50KGUpJiZ0aGlzLmdldF9wYXJlbnQoZSk9PT10aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLnBhcmVudCkpaWYobi5zaGlmdEtleSl7dmFyIHIsaSxzPXRoaXMuZ2V0X25vZGUoZSkuaWQsbz10aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLmlkLGQ9dGhpcy5nZXRfbm9kZSh0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkLnBhcmVudCkuY2hpbGRyZW4sYz0hMTtmb3Iocj0wLGk9ZC5sZW5ndGg7cjxpO3IrPTEpZFtyXT09PXMmJihjPSFjKSxkW3JdPT09byYmKGM9IWMpLHRoaXMuaXNfZGlzYWJsZWQoZFtyXSl8fCFjJiZkW3JdIT09cyYmZFtyXSE9PW8/dGhpcy5kZXNlbGVjdF9ub2RlKGRbcl0sITAsbik6dGhpcy5pc19oaWRkZW4oZFtyXSl8fHRoaXMuc2VsZWN0X25vZGUoZFtyXSwhMCwhMSxuKTt0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcInNlbGVjdF9ub2RlXCIsbm9kZTp0aGlzLmdldF9ub2RlKGUpLHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDpufSl9ZWxzZSB0aGlzLmlzX3NlbGVjdGVkKGUpP3RoaXMuZGVzZWxlY3Rfbm9kZShlLCExLG4pOnRoaXMuc2VsZWN0X25vZGUoZSwhMSwhMSxuKTtlbHNlIXRoaXMuc2V0dGluZ3MuY29yZS5tdWx0aXBsZSYmKG4ubWV0YUtleXx8bi5jdHJsS2V5fHxuLnNoaWZ0S2V5KSYmdGhpcy5pc19zZWxlY3RlZChlKT90aGlzLmRlc2VsZWN0X25vZGUoZSwhMSxuKToodGhpcy5kZXNlbGVjdF9hbGwoITApLHRoaXMuc2VsZWN0X25vZGUoZSwhMSwhMSxuKSx0aGlzLl9kYXRhLmNvcmUubGFzdF9jbGlja2VkPXRoaXMuZ2V0X25vZGUoZSkpO3RoaXMudHJpZ2dlcihcImFjdGl2YXRlX25vZGVcIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpLGV2ZW50Om59KX0saG92ZXJfbm9kZTpmdW5jdGlvbihlKXtpZighKGU9dGhpcy5nZXRfbm9kZShlLCEwKSl8fCFlLmxlbmd0aHx8ZS5jaGlsZHJlbihcIi5qc3RyZWUtaG92ZXJlZFwiKS5sZW5ndGgpcmV0dXJuITE7dmFyIHQ9dGhpcy5lbGVtZW50LmZpbmQoXCIuanN0cmVlLWhvdmVyZWRcIiksbj10aGlzLmVsZW1lbnQ7dCYmdC5sZW5ndGgmJnRoaXMuZGVob3Zlcl9ub2RlKHQpLGUuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhcImpzdHJlZS1ob3ZlcmVkXCIpLHRoaXMudHJpZ2dlcihcImhvdmVyX25vZGVcIix7bm9kZTp0aGlzLmdldF9ub2RlKGUpfSksc2V0VGltZW91dChmdW5jdGlvbigpe24uYXR0cihcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiLGVbMF0uaWQpfSwwKX0sZGVob3Zlcl9ub2RlOmZ1bmN0aW9uKGUpe2lmKCEoZT10aGlzLmdldF9ub2RlKGUsITApKXx8IWUubGVuZ3RofHwhZS5jaGlsZHJlbihcIi5qc3RyZWUtaG92ZXJlZFwiKS5sZW5ndGgpcmV0dXJuITE7ZS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLWhvdmVyZWRcIiksdGhpcy50cmlnZ2VyKFwiZGVob3Zlcl9ub2RlXCIse25vZGU6dGhpcy5nZXRfbm9kZShlKX0pfSxzZWxlY3Rfbm9kZTpmdW5jdGlvbih0LG4scixpKXt2YXIgcyxhLG87aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksYT0wLG89dC5sZW5ndGg7YTxvO2ErKyl0aGlzLnNlbGVjdF9ub2RlKHRbYV0sbixyLGkpO3JldHVybiEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7cz10aGlzLmdldF9ub2RlKHQsITApLHQuc3RhdGUuc2VsZWN0ZWR8fCh0LnN0YXRlLnNlbGVjdGVkPSEwLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5wdXNoKHQuaWQpLHJ8fChzPXRoaXMuX29wZW5fdG8odCkpLHMmJnMubGVuZ3RoJiZzLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3MoXCJqc3RyZWUtY2xpY2tlZFwiKSx0aGlzLnRyaWdnZXIoXCJzZWxlY3Rfbm9kZVwiLHtub2RlOnQsc2VsZWN0ZWQ6dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLGV2ZW50Oml9KSxufHx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcInNlbGVjdF9ub2RlXCIsbm9kZTp0LHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDppfSkpfSxkZXNlbGVjdF9ub2RlOmZ1bmN0aW9uKHQsbixyKXt2YXIgaSxzLGE7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksaT0wLHM9dC5sZW5ndGg7aTxzO2krKyl0aGlzLmRlc2VsZWN0X25vZGUodFtpXSxuLHIpO3JldHVybiEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7YT10aGlzLmdldF9ub2RlKHQsITApLHQuc3RhdGUuc2VsZWN0ZWQmJih0LnN0YXRlLnNlbGVjdGVkPSExLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV9yZW1vdmVfaXRlbSh0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsdC5pZCksYS5sZW5ndGgmJmEuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMSkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1jbGlja2VkXCIpLHRoaXMudHJpZ2dlcihcImRlc2VsZWN0X25vZGVcIix7bm9kZTp0LHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDpyfSksbnx8dGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJkZXNlbGVjdF9ub2RlXCIsbm9kZTp0LHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxldmVudDpyfSkpfSxzZWxlY3RfYWxsOmZ1bmN0aW9uKHQpe3ZhciBuLHIsaT10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KFtdKTtmb3IodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPXRoaXMuX21vZGVsLmRhdGFbZS5qc3RyZWUucm9vdF0uY2hpbGRyZW5fZC5jb25jYXQoKSxuPTAscj10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQubGVuZ3RoO248cjtuKyspdGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbbl1dJiYodGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWRbbl1dLnN0YXRlLnNlbGVjdGVkPSEwKTt0aGlzLnJlZHJhdyghMCksdGhpcy50cmlnZ2VyKFwic2VsZWN0X2FsbFwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWR9KSx0fHx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcInNlbGVjdF9hbGxcIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsb2xkX3NlbGVjdGlvbjppfSl9LGRlc2VsZWN0X2FsbDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkLmNvbmNhdChbXSk7Zm9yKHQ9MCxuPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5sZW5ndGg7dDxuO3QrKyl0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFt0XV0mJih0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZFt0XV0uc3RhdGUuc2VsZWN0ZWQ9ITEpO3RoaXMuX2RhdGEuY29yZS5zZWxlY3RlZD1bXSx0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtY2xpY2tlZFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1jbGlja2VkXCIpLnBhcmVudCgpLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITEpLHRoaXMudHJpZ2dlcihcImRlc2VsZWN0X2FsbFwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsbm9kZTpyfSksZXx8dGhpcy50cmlnZ2VyKFwiY2hhbmdlZFwiLHthY3Rpb246XCJkZXNlbGVjdF9hbGxcIixzZWxlY3RlZDp0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsb2xkX3NlbGVjdGlvbjpyfSl9LGlzX3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3JldHVybiEoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJnQuc3RhdGUuc2VsZWN0ZWR9LGdldF9zZWxlY3RlZDpmdW5jdGlvbih0KXtyZXR1cm4gdD9lLm1hcCh0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5zbGljZSgpfSxnZXRfdG9wX3NlbGVjdGVkOmZ1bmN0aW9uKHQpe3ZhciBuLHIsaSxzLGE9dGhpcy5nZXRfc2VsZWN0ZWQoITApLG89e307Zm9yKG49MCxyPWEubGVuZ3RoO248cjtuKyspb1thW25dLmlkXT1hW25dO2ZvcihuPTAscj1hLmxlbmd0aDtuPHI7bisrKWZvcihpPTAscz1hW25dLmNoaWxkcmVuX2QubGVuZ3RoO2k8cztpKyspb1thW25dLmNoaWxkcmVuX2RbaV1dJiZkZWxldGUgb1thW25dLmNoaWxkcmVuX2RbaV1dO2ZvcihuIGluIGE9W10sbylvLmhhc093blByb3BlcnR5KG4pJiZhLnB1c2gobik7cmV0dXJuIHQ/ZS5tYXAoYSxlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldF9ub2RlKGUpfSx0aGlzKSk6YX0sZ2V0X2JvdHRvbV9zZWxlY3RlZDpmdW5jdGlvbih0KXt2YXIgbixyLGk9dGhpcy5nZXRfc2VsZWN0ZWQoITApLHM9W107Zm9yKG49MCxyPWkubGVuZ3RoO248cjtuKyspaVtuXS5jaGlsZHJlbi5sZW5ndGh8fHMucHVzaChpW25dLmlkKTtyZXR1cm4gdD9lLm1hcChzLGUucHJveHkoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0X25vZGUoZSl9LHRoaXMpKTpzfSxnZXRfc3RhdGU6ZnVuY3Rpb24oKXt2YXIgdCxuPXtjb3JlOntvcGVuOltdLGxvYWRlZDpbXSxzY3JvbGw6e2xlZnQ6dGhpcy5lbGVtZW50LnNjcm9sbExlZnQoKSx0b3A6dGhpcy5lbGVtZW50LnNjcm9sbFRvcCgpfSxcbi8qIVxuICAgICAndGhlbWVzJyA6IHtcbiAgICAgXHQnbmFtZScgOiB0aGlzLmdldF90aGVtZSgpLFxuICAgICBcdCdpY29ucycgOiB0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zLFxuICAgICBcdCdkb3RzJyA6IHRoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90c1xuICAgICB9LFxuICAgICAqL1xuc2VsZWN0ZWQ6W119fTtmb3IodCBpbiB0aGlzLl9tb2RlbC5kYXRhKXRoaXMuX21vZGVsLmRhdGEuaGFzT3duUHJvcGVydHkodCkmJnQhPT1lLmpzdHJlZS5yb290JiYodGhpcy5fbW9kZWwuZGF0YVt0XS5zdGF0ZS5sb2FkZWQmJnRoaXMuc2V0dGluZ3MuY29yZS5sb2FkZWRfc3RhdGUmJm4uY29yZS5sb2FkZWQucHVzaCh0KSx0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLm9wZW5lZCYmbi5jb3JlLm9wZW4ucHVzaCh0KSx0aGlzLl9tb2RlbC5kYXRhW3RdLnN0YXRlLnNlbGVjdGVkJiZuLmNvcmUuc2VsZWN0ZWQucHVzaCh0KSk7cmV0dXJuIG59LHNldF9zdGF0ZTpmdW5jdGlvbihuLHIpe2lmKG4pe2lmKG4uY29yZSYmbi5jb3JlLnNlbGVjdGVkJiZuLmNvcmUuaW5pdGlhbF9zZWxlY3Rpb249PT10JiYobi5jb3JlLmluaXRpYWxfc2VsZWN0aW9uPXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoW10pLnNvcnQoKS5qb2luKFwiLFwiKSksbi5jb3JlKXt2YXIgaSxzO2lmKG4uY29yZS5sb2FkZWQpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5sb2FkZWRfc3RhdGUmJmUuaXNBcnJheShuLmNvcmUubG9hZGVkKSYmbi5jb3JlLmxvYWRlZC5sZW5ndGg/dGhpcy5fbG9hZF9ub2RlcyhuLmNvcmUubG9hZGVkLGZ1bmN0aW9uKGUpe2RlbGV0ZSBuLmNvcmUubG9hZGVkLHRoaXMuc2V0X3N0YXRlKG4scil9KTooZGVsZXRlIG4uY29yZS5sb2FkZWQsdGhpcy5zZXRfc3RhdGUobixyKSksITE7aWYobi5jb3JlLm9wZW4pcmV0dXJuIGUuaXNBcnJheShuLmNvcmUub3BlbikmJm4uY29yZS5vcGVuLmxlbmd0aD90aGlzLl9sb2FkX25vZGVzKG4uY29yZS5vcGVuLGZ1bmN0aW9uKGUpe3RoaXMub3Blbl9ub2RlKGUsITEsMCksZGVsZXRlIG4uY29yZS5vcGVuLHRoaXMuc2V0X3N0YXRlKG4scil9KTooZGVsZXRlIG4uY29yZS5vcGVuLHRoaXMuc2V0X3N0YXRlKG4scikpLCExO2lmKG4uY29yZS5zY3JvbGwpcmV0dXJuIG4uY29yZS5zY3JvbGwmJm4uY29yZS5zY3JvbGwubGVmdCE9PXQmJnRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0KG4uY29yZS5zY3JvbGwubGVmdCksbi5jb3JlLnNjcm9sbCYmbi5jb3JlLnNjcm9sbC50b3AhPT10JiZ0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wKG4uY29yZS5zY3JvbGwudG9wKSxkZWxldGUgbi5jb3JlLnNjcm9sbCx0aGlzLnNldF9zdGF0ZShuLHIpLCExO2lmKG4uY29yZS5zZWxlY3RlZClyZXR1cm4gaT10aGlzLG4uY29yZS5pbml0aWFsX3NlbGVjdGlvbiE9PXQmJm4uY29yZS5pbml0aWFsX3NlbGVjdGlvbiE9PXRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZC5jb25jYXQoW10pLnNvcnQoKS5qb2luKFwiLFwiKXx8KHRoaXMuZGVzZWxlY3RfYWxsKCksZS5lYWNoKG4uY29yZS5zZWxlY3RlZCxmdW5jdGlvbihlLHQpe2kuc2VsZWN0X25vZGUodCwhMSwhMCl9KSksZGVsZXRlIG4uY29yZS5pbml0aWFsX3NlbGVjdGlvbixkZWxldGUgbi5jb3JlLnNlbGVjdGVkLHRoaXMuc2V0X3N0YXRlKG4sciksITE7Zm9yKHMgaW4gbiluLmhhc093blByb3BlcnR5KHMpJiZcImNvcmVcIiE9PXMmJi0xPT09ZS5pbkFycmF5KHMsdGhpcy5zZXR0aW5ncy5wbHVnaW5zKSYmZGVsZXRlIG5bc107aWYoZS5pc0VtcHR5T2JqZWN0KG4uY29yZSkpcmV0dXJuIGRlbGV0ZSBuLmNvcmUsdGhpcy5zZXRfc3RhdGUobixyKSwhMX1yZXR1cm4hZS5pc0VtcHR5T2JqZWN0KG4pfHwobj1udWxsLHImJnIuY2FsbCh0aGlzKSx0aGlzLnRyaWdnZXIoXCJzZXRfc3RhdGVcIiksITEpfXJldHVybiExfSxyZWZyZXNoOmZ1bmN0aW9uKHQsbil7dGhpcy5fZGF0YS5jb3JlLnN0YXRlPSEwPT09bj97fTp0aGlzLmdldF9zdGF0ZSgpLG4mJmUuaXNGdW5jdGlvbihuKSYmKHRoaXMuX2RhdGEuY29yZS5zdGF0ZT1uLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUuc3RhdGUpKSx0aGlzLl9jbnQ9MCx0aGlzLl9tb2RlbC5kYXRhPXt9LHRoaXMuX21vZGVsLmRhdGFbZS5qc3RyZWUucm9vdF09e2lkOmUuanN0cmVlLnJvb3QscGFyZW50Om51bGwscGFyZW50czpbXSxjaGlsZHJlbjpbXSxjaGlsZHJlbl9kOltdLHN0YXRlOntsb2FkZWQ6ITF9fSx0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQ9W10sdGhpcy5fZGF0YS5jb3JlLmxhc3RfY2xpY2tlZD1udWxsLHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPW51bGw7dmFyIHI9dGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0uY2xhc3NOYW1lO3R8fCh0aGlzLmVsZW1lbnQuaHRtbChcIjx1bCBjbGFzcz0nXCIrcitcIicgcm9sZT0nZ3JvdXAnPjxsaSBjbGFzcz0nanN0cmVlLWluaXRpYWwtbm9kZSBqc3RyZWUtbG9hZGluZyBqc3RyZWUtbGVhZiBqc3RyZWUtbGFzdCcgcm9sZT0ndHJlZWl0ZW0nIGlkPSdqXCIrdGhpcy5faWQrXCJfbG9hZGluZyc+PGkgY2xhc3M9J2pzdHJlZS1pY29uIGpzdHJlZS1vY2wnPjwvaT48YSBjbGFzcz0nanN0cmVlLWFuY2hvcicgaHJlZj0nIyc+PGkgY2xhc3M9J2pzdHJlZS1pY29uIGpzdHJlZS10aGVtZWljb24taGlkZGVuJz48L2k+XCIrdGhpcy5nZXRfc3RyaW5nKFwiTG9hZGluZyAuLi5cIikrXCI8L2E+PC9saT48L3VsPlwiKSx0aGlzLmVsZW1lbnQuYXR0cihcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiLFwialwiK3RoaXMuX2lkK1wiX2xvYWRpbmdcIikpLHRoaXMubG9hZF9ub2RlKGUuanN0cmVlLnJvb3QsZnVuY3Rpb24odCxuKXtuJiYodGhpcy5nZXRfY29udGFpbmVyX3VsKClbMF0uY2xhc3NOYW1lPXIsdGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSkmJnRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsdGhpcy5fZmlyc3RDaGlsZCh0aGlzLmdldF9jb250YWluZXJfdWwoKVswXSkuaWQpLHRoaXMuc2V0X3N0YXRlKGUuZXh0ZW5kKCEwLHt9LHRoaXMuX2RhdGEuY29yZS5zdGF0ZSksZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoXCJyZWZyZXNoXCIpfSkpLHRoaXMuX2RhdGEuY29yZS5zdGF0ZT1udWxsfSl9LHJlZnJlc2hfbm9kZTpmdW5jdGlvbih0KXtpZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO3ZhciBuPVtdLHI9W10saT10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KFtdKTtyLnB1c2godC5pZCksITA9PT10LnN0YXRlLm9wZW5lZCYmbi5wdXNoKHQuaWQpLHRoaXMuZ2V0X25vZGUodCwhMCkuZmluZChcIi5qc3RyZWUtb3BlblwiKS5lYWNoKGZ1bmN0aW9uKCl7ci5wdXNoKHRoaXMuaWQpLG4ucHVzaCh0aGlzLmlkKX0pLHRoaXMuX2xvYWRfbm9kZXMocixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMub3Blbl9ub2RlKG4sITEsMCksdGhpcy5zZWxlY3Rfbm9kZShpKSx0aGlzLnRyaWdnZXIoXCJyZWZyZXNoX25vZGVcIix7bm9kZTp0LG5vZGVzOmV9KX0sdGhpcyksITEsITApfSxzZXRfaWQ6ZnVuY3Rpb24odCxuKXtpZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO3ZhciByLGkscz10aGlzLl9tb2RlbC5kYXRhLGE9dC5pZDtmb3Iobj1uLnRvU3RyaW5nKCksc1t0LnBhcmVudF0uY2hpbGRyZW5bZS5pbkFycmF5KHQuaWQsc1t0LnBhcmVudF0uY2hpbGRyZW4pXT1uLHI9MCxpPXQucGFyZW50cy5sZW5ndGg7cjxpO3IrKylzW3QucGFyZW50c1tyXV0uY2hpbGRyZW5fZFtlLmluQXJyYXkodC5pZCxzW3QucGFyZW50c1tyXV0uY2hpbGRyZW5fZCldPW47Zm9yKHI9MCxpPXQuY2hpbGRyZW4ubGVuZ3RoO3I8aTtyKyspc1t0LmNoaWxkcmVuW3JdXS5wYXJlbnQ9bjtmb3Iocj0wLGk9dC5jaGlsZHJlbl9kLmxlbmd0aDtyPGk7cisrKXNbdC5jaGlsZHJlbl9kW3JdXS5wYXJlbnRzW2UuaW5BcnJheSh0LmlkLHNbdC5jaGlsZHJlbl9kW3JdXS5wYXJlbnRzKV09bjtyZXR1cm4tMSE9PShyPWUuaW5BcnJheSh0LmlkLHRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCkpJiYodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkW3JdPW4pLChyPXRoaXMuZ2V0X25vZGUodC5pZCwhMCkpJiYoci5hdHRyKFwiaWRcIixuKSx0aGlzLmVsZW1lbnQuYXR0cihcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiKT09PXQuaWQmJnRoaXMuZWxlbWVudC5hdHRyKFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIsbikpLGRlbGV0ZSBzW3QuaWRdLHQuaWQ9bix0LmxpX2F0dHIuaWQ9bixzW25dPXQsdGhpcy50cmlnZ2VyKFwic2V0X2lkXCIse25vZGU6dCxuZXc6dC5pZCxvbGQ6YX0pLCEwfSxnZXRfdGV4dDpmdW5jdGlvbih0KXtyZXR1cm4hKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiZ0LnRleHR9LHNldF90ZXh0OmZ1bmN0aW9uKHQsbil7dmFyIHIsaTtpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtyPGk7cisrKXRoaXMuc2V0X3RleHQodFtyXSxuKTtyZXR1cm4hMH1yZXR1cm4hKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3R8fCh0LnRleHQ9bix0aGlzLmdldF9ub2RlKHQsITApLmxlbmd0aCYmdGhpcy5yZWRyYXdfbm9kZSh0LmlkKSx0aGlzLnRyaWdnZXIoXCJzZXRfdGV4dFwiLHtvYmo6dCx0ZXh0Om59KSwwKSl9LGdldF9qc29uOmZ1bmN0aW9uKHQsbixyKXtpZighKHQ9dGhpcy5nZXRfbm9kZSh0fHxlLmpzdHJlZS5yb290KSkpcmV0dXJuITE7biYmbi5mbGF0JiYhciYmKHI9W10pO3ZhciBpLHMsYT17aWQ6dC5pZCx0ZXh0OnQudGV4dCxpY29uOnRoaXMuZ2V0X2ljb24odCksbGlfYXR0cjplLmV4dGVuZCghMCx7fSx0LmxpX2F0dHIpLGFfYXR0cjplLmV4dGVuZCghMCx7fSx0LmFfYXR0ciksc3RhdGU6e30sZGF0YTooIW58fCFuLm5vX2RhdGEpJiZlLmV4dGVuZCghMCxlLmlzQXJyYXkodC5kYXRhKT9bXTp7fSx0LmRhdGEpfTtpZihuJiZuLmZsYXQ/YS5wYXJlbnQ9dC5wYXJlbnQ6YS5jaGlsZHJlbj1bXSxuJiZuLm5vX3N0YXRlKWRlbGV0ZSBhLnN0YXRlO2Vsc2UgZm9yKGkgaW4gdC5zdGF0ZSl0LnN0YXRlLmhhc093blByb3BlcnR5KGkpJiYoYS5zdGF0ZVtpXT10LnN0YXRlW2ldKTtpZihuJiZuLm5vX2xpX2F0dHImJmRlbGV0ZSBhLmxpX2F0dHIsbiYmbi5ub19hX2F0dHImJmRlbGV0ZSBhLmFfYXR0cixuJiZuLm5vX2lkJiYoZGVsZXRlIGEuaWQsYS5saV9hdHRyJiZhLmxpX2F0dHIuaWQmJmRlbGV0ZSBhLmxpX2F0dHIuaWQsYS5hX2F0dHImJmEuYV9hdHRyLmlkJiZkZWxldGUgYS5hX2F0dHIuaWQpLG4mJm4uZmxhdCYmdC5pZCE9PWUuanN0cmVlLnJvb3QmJnIucHVzaChhKSwhbnx8IW4ubm9fY2hpbGRyZW4pZm9yKGk9MCxzPXQuY2hpbGRyZW4ubGVuZ3RoO2k8cztpKyspbiYmbi5mbGF0P3RoaXMuZ2V0X2pzb24odC5jaGlsZHJlbltpXSxuLHIpOmEuY2hpbGRyZW4ucHVzaCh0aGlzLmdldF9qc29uKHQuY2hpbGRyZW5baV0sbikpO3JldHVybiBuJiZuLmZsYXQ/cjp0LmlkPT09ZS5qc3RyZWUucm9vdD9hLmNoaWxkcmVuOmF9LGNyZWF0ZV9ub2RlOmZ1bmN0aW9uKG4scixpLHMsYSl7aWYobnVsbD09PW4mJihuPWUuanN0cmVlLnJvb3QpLCEobj10aGlzLmdldF9ub2RlKG4pKSlyZXR1cm4hMTtpZighKGk9aT09PXQ/XCJsYXN0XCI6aSkudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhYSYmIXRoaXMuaXNfbG9hZGVkKG4pKXJldHVybiB0aGlzLmxvYWRfbm9kZShuLGZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVfbm9kZShuLHIsaSxzLCEwKX0pO3ZhciBvLGQsYyxsO3N3aXRjaChyfHwocj17dGV4dDp0aGlzLmdldF9zdHJpbmcoXCJOZXcgbm9kZVwiKX0pLChyPVwic3RyaW5nXCI9PXR5cGVvZiByP3t0ZXh0OnJ9OmUuZXh0ZW5kKCEwLHt9LHIpKS50ZXh0PT09dCYmKHIudGV4dD10aGlzLmdldF9zdHJpbmcoXCJOZXcgbm9kZVwiKSksbi5pZD09PWUuanN0cmVlLnJvb3QmJihcImJlZm9yZVwiPT09aSYmKGk9XCJmaXJzdFwiKSxcImFmdGVyXCI9PT1pJiYoaT1cImxhc3RcIikpLGkpe2Nhc2VcImJlZm9yZVwiOm89dGhpcy5nZXRfbm9kZShuLnBhcmVudCksaT1lLmluQXJyYXkobi5pZCxvLmNoaWxkcmVuKSxuPW87YnJlYWs7Y2FzZVwiYWZ0ZXJcIjpvPXRoaXMuZ2V0X25vZGUobi5wYXJlbnQpLGk9ZS5pbkFycmF5KG4uaWQsby5jaGlsZHJlbikrMSxuPW87YnJlYWs7Y2FzZVwiaW5zaWRlXCI6Y2FzZVwiZmlyc3RcIjppPTA7YnJlYWs7Y2FzZVwibGFzdFwiOmk9bi5jaGlsZHJlbi5sZW5ndGg7YnJlYWs7ZGVmYXVsdDppfHwoaT0wKX1pZihpPm4uY2hpbGRyZW4ubGVuZ3RoJiYoaT1uLmNoaWxkcmVuLmxlbmd0aCksci5pZHx8KHIuaWQ9ITApLCF0aGlzLmNoZWNrKFwiY3JlYXRlX25vZGVcIixyLG4saSkpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO2lmKCEwPT09ci5pZCYmZGVsZXRlIHIuaWQsIShyPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21fanNvbihyLG4uaWQsbi5wYXJlbnRzLmNvbmNhdCgpKSkpcmV0dXJuITE7Zm9yKG89dGhpcy5nZXRfbm9kZShyKSwoZD1bXSkucHVzaChyKSxkPWQuY29uY2F0KG8uY2hpbGRyZW5fZCksdGhpcy50cmlnZ2VyKFwibW9kZWxcIix7bm9kZXM6ZCxwYXJlbnQ6bi5pZH0pLG4uY2hpbGRyZW5fZD1uLmNoaWxkcmVuX2QuY29uY2F0KGQpLGM9MCxsPW4ucGFyZW50cy5sZW5ndGg7YzxsO2MrKyl0aGlzLl9tb2RlbC5kYXRhW24ucGFyZW50c1tjXV0uY2hpbGRyZW5fZD10aGlzLl9tb2RlbC5kYXRhW24ucGFyZW50c1tjXV0uY2hpbGRyZW5fZC5jb25jYXQoZCk7Zm9yKHI9byxvPVtdLGM9MCxsPW4uY2hpbGRyZW4ubGVuZ3RoO2M8bDtjKyspb1tjPj1pP2MrMTpjXT1uLmNoaWxkcmVuW2NdO3JldHVybiBvW2ldPXIuaWQsbi5jaGlsZHJlbj1vLHRoaXMucmVkcmF3X25vZGUobiwhMCksdGhpcy50cmlnZ2VyKFwiY3JlYXRlX25vZGVcIix7bm9kZTp0aGlzLmdldF9ub2RlKHIpLHBhcmVudDpuLmlkLHBvc2l0aW9uOml9KSxzJiZzLmNhbGwodGhpcyx0aGlzLmdldF9ub2RlKHIpKSxyLmlkfSxyZW5hbWVfbm9kZTpmdW5jdGlvbih0LG4pe3ZhciByLGkscztpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtyPGk7cisrKXRoaXMucmVuYW1lX25vZGUodFtyXSxuKTtyZXR1cm4hMH1yZXR1cm4hKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3R8fChzPXQudGV4dCx0aGlzLmNoZWNrKFwicmVuYW1lX25vZGVcIix0LHRoaXMuZ2V0X3BhcmVudCh0KSxuKT8odGhpcy5zZXRfdGV4dCh0LG4pLHRoaXMudHJpZ2dlcihcInJlbmFtZV9ub2RlXCIse25vZGU6dCx0ZXh0Om4sb2xkOnN9KSwwKToodGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksMSkpKX0sZGVsZXRlX25vZGU6ZnVuY3Rpb24odCl7dmFyIG4scixpLHMsYSxvLGQsYyxsLGgsdSxmO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxyPXQubGVuZ3RoO248cjtuKyspdGhpcy5kZWxldGVfbm9kZSh0W25dKTtyZXR1cm4hMH1pZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO2lmKGk9dGhpcy5nZXRfbm9kZSh0LnBhcmVudCkscz1lLmluQXJyYXkodC5pZCxpLmNoaWxkcmVuKSxoPSExLCF0aGlzLmNoZWNrKFwiZGVsZXRlX25vZGVcIix0LGkscykpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO2ZvcigtMSE9PXMmJihpLmNoaWxkcmVuPWUudmFrYXRhLmFycmF5X3JlbW92ZShpLmNoaWxkcmVuLHMpKSwoYT10LmNoaWxkcmVuX2QuY29uY2F0KFtdKSkucHVzaCh0LmlkKSxvPTAsZD10LnBhcmVudHMubGVuZ3RoO288ZDtvKyspdGhpcy5fbW9kZWwuZGF0YVt0LnBhcmVudHNbb11dLmNoaWxkcmVuX2Q9ZS52YWthdGEuYXJyYXlfZmlsdGVyKHRoaXMuX21vZGVsLmRhdGFbdC5wYXJlbnRzW29dXS5jaGlsZHJlbl9kLGZ1bmN0aW9uKHQpe3JldHVybi0xPT09ZS5pbkFycmF5KHQsYSl9KTtmb3IoYz0wLGw9YS5sZW5ndGg7YzxsO2MrKylpZih0aGlzLl9tb2RlbC5kYXRhW2FbY11dLnN0YXRlLnNlbGVjdGVkKXtoPSEwO2JyZWFrfWZvcihoJiYodGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X2ZpbHRlcih0aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQsZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1lLmluQXJyYXkodCxhKX0pKSx0aGlzLnRyaWdnZXIoXCJkZWxldGVfbm9kZVwiLHtub2RlOnQscGFyZW50OmkuaWR9KSxoJiZ0aGlzLnRyaWdnZXIoXCJjaGFuZ2VkXCIse2FjdGlvbjpcImRlbGV0ZV9ub2RlXCIsbm9kZTp0LHNlbGVjdGVkOnRoaXMuX2RhdGEuY29yZS5zZWxlY3RlZCxwYXJlbnQ6aS5pZH0pLGM9MCxsPWEubGVuZ3RoO2M8bDtjKyspZGVsZXRlIHRoaXMuX21vZGVsLmRhdGFbYVtjXV07cmV0dXJuLTEhPT1lLmluQXJyYXkodGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQsYSkmJih0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1udWxsLHU9dGhpcy5lbGVtZW50WzBdLnNjcm9sbFRvcCxmPXRoaXMuZWxlbWVudFswXS5zY3JvbGxMZWZ0LGkuaWQ9PT1lLmpzdHJlZS5yb290P3RoaXMuX21vZGVsLmRhdGFbZS5qc3RyZWUucm9vdF0uY2hpbGRyZW5bMF0mJnRoaXMuZ2V0X25vZGUodGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XS5jaGlsZHJlblswXSwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpOnRoaXMuZ2V0X25vZGUoaSwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpLHRoaXMuZWxlbWVudFswXS5zY3JvbGxUb3A9dSx0aGlzLmVsZW1lbnRbMF0uc2Nyb2xsTGVmdD1mKSx0aGlzLnJlZHJhd19ub2RlKGksITApLCEwfSxjaGVjazpmdW5jdGlvbih0LG4scixpLHMpe249biYmbi5pZD9uOnRoaXMuZ2V0X25vZGUobikscj1yJiZyLmlkP3I6dGhpcy5nZXRfbm9kZShyKTt2YXIgYT10Lm1hdGNoKC9ebW92ZV9ub2RlfGNvcHlfbm9kZXxjcmVhdGVfbm9kZSQvaSk/cjpuLG89dGhpcy5zZXR0aW5ncy5jb3JlLmNoZWNrX2NhbGxiYWNrO3JldHVyblwibW92ZV9ub2RlXCIhPT10JiZcImNvcHlfbm9kZVwiIT09dHx8cyYmcy5pc19tdWx0aXx8bi5pZCE9PXIuaWQmJihcIm1vdmVfbm9kZVwiIT09dHx8ZS5pbkFycmF5KG4uaWQsci5jaGlsZHJlbikhPT1pKSYmLTE9PT1lLmluQXJyYXkoci5pZCxuLmNoaWxkcmVuX2QpPyhhJiZhLmRhdGEmJihhPWEuZGF0YSksYSYmYS5mdW5jdGlvbnMmJighMT09PWEuZnVuY3Rpb25zW3RdfHwhMD09PWEuZnVuY3Rpb25zW3RdKT8oITE9PT1hLmZ1bmN0aW9uc1t0XSYmKHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwiY29yZVwiLGlkOlwiY29yZV8wMlwiLHJlYXNvbjpcIk5vZGUgZGF0YSBwcmV2ZW50cyBmdW5jdGlvbjogXCIrdCxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6dCxwb3M6aSxvYmo6ISghbnx8IW4uaWQpJiZuLmlkLHBhcjohKCFyfHwhci5pZCkmJnIuaWR9KX0pLGEuZnVuY3Rpb25zW3RdKTohKCExPT09b3x8ZS5pc0Z1bmN0aW9uKG8pJiYhMT09PW8uY2FsbCh0aGlzLHQsbixyLGkscyl8fG8mJiExPT09b1t0XSl8fCh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcImNvcmVcIixpZDpcImNvcmVfMDNcIixyZWFzb246XCJVc2VyIGNvbmZpZyBmb3IgY29yZS5jaGVja19jYWxsYmFjayBwcmV2ZW50cyBmdW5jdGlvbjogXCIrdCxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6dCxwb3M6aSxvYmo6ISghbnx8IW4uaWQpJiZuLmlkLHBhcjohKCFyfHwhci5pZCkmJnIuaWR9KX0sITEpKToodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiY2hlY2tcIixwbHVnaW46XCJjb3JlXCIsaWQ6XCJjb3JlXzAxXCIscmVhc29uOlwiTW92aW5nIHBhcmVudCBpbnNpZGUgY2hpbGRcIixkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6dCxwb3M6aSxvYmo6ISghbnx8IW4uaWQpJiZuLmlkLHBhcjohKCFyfHwhci5pZCkmJnIuaWR9KX0sITEpfSxsYXN0X2Vycm9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yfSxtb3ZlX25vZGU6ZnVuY3Rpb24obixyLGkscyxhLG8sZCl7dmFyIGMsbCxoLHUsZixwLGcsXyxtLHYseSx4LGIsajtpZihyPXRoaXMuZ2V0X25vZGUociksaT1pPT09dD8wOmksIXIpcmV0dXJuITE7aWYoIWkudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhYSYmIXRoaXMuaXNfbG9hZGVkKHIpKXJldHVybiB0aGlzLmxvYWRfbm9kZShyLGZ1bmN0aW9uKCl7dGhpcy5tb3ZlX25vZGUobixyLGkscywhMCwhMSxkKX0pO2lmKGUuaXNBcnJheShuKSl7aWYoMSE9PW4ubGVuZ3RoKXtmb3IoYz0wLGw9bi5sZW5ndGg7YzxsO2MrKykobT10aGlzLm1vdmVfbm9kZShuW2NdLHIsaSxzLGEsITEsZCkpJiYocj1tLGk9XCJhZnRlclwiKTtyZXR1cm4gdGhpcy5yZWRyYXcoKSwhMH1uPW5bMF19aWYoIShuPW4mJm4uaWQ/bjp0aGlzLmdldF9ub2RlKG4pKXx8bi5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7aWYoaD0obi5wYXJlbnR8fGUuanN0cmVlLnJvb3QpLnRvU3RyaW5nKCksZj1pLnRvU3RyaW5nKCkubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmci5pZCE9PWUuanN0cmVlLnJvb3Q/dGhpcy5nZXRfbm9kZShyLnBhcmVudCk6cixwPWR8fCh0aGlzLl9tb2RlbC5kYXRhW24uaWRdP3RoaXM6ZS5qc3RyZWUucmVmZXJlbmNlKG4uaWQpKSxnPSFwfHwhcC5faWR8fHRoaXMuX2lkIT09cC5faWQsdT1wJiZwLl9pZCYmaCYmcC5fbW9kZWwuZGF0YVtoXSYmcC5fbW9kZWwuZGF0YVtoXS5jaGlsZHJlbj9lLmluQXJyYXkobi5pZCxwLl9tb2RlbC5kYXRhW2hdLmNoaWxkcmVuKTotMSxwJiZwLl9pZCYmKG49cC5fbW9kZWwuZGF0YVtuLmlkXSksZylyZXR1cm4hIShtPXRoaXMuY29weV9ub2RlKG4scixpLHMsYSwhMSxkKSkmJihwJiZwLmRlbGV0ZV9ub2RlKG4pLG0pO3N3aXRjaChyLmlkPT09ZS5qc3RyZWUucm9vdCYmKFwiYmVmb3JlXCI9PT1pJiYoaT1cImZpcnN0XCIpLFwiYWZ0ZXJcIj09PWkmJihpPVwibGFzdFwiKSksaSl7Y2FzZVwiYmVmb3JlXCI6aT1lLmluQXJyYXkoci5pZCxmLmNoaWxkcmVuKTticmVhaztjYXNlXCJhZnRlclwiOmk9ZS5pbkFycmF5KHIuaWQsZi5jaGlsZHJlbikrMTticmVhaztjYXNlXCJpbnNpZGVcIjpjYXNlXCJmaXJzdFwiOmk9MDticmVhaztjYXNlXCJsYXN0XCI6aT1mLmNoaWxkcmVuLmxlbmd0aDticmVhaztkZWZhdWx0Oml8fChpPTApfWlmKGk+Zi5jaGlsZHJlbi5sZW5ndGgmJihpPWYuY2hpbGRyZW4ubGVuZ3RoKSwhdGhpcy5jaGVjayhcIm1vdmVfbm9kZVwiLG4sZixpLHtjb3JlOiEwLG9yaWdpbjpkLGlzX211bHRpOnAmJnAuX2lkJiZwLl9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IXB8fCFwLl9pZH0pKXJldHVybiB0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKSwhMTtpZihuLnBhcmVudD09PWYuaWQpe2ZvcihfPWYuY2hpbGRyZW4uY29uY2F0KCksLTEhPT0obT1lLmluQXJyYXkobi5pZCxfKSkmJihfPWUudmFrYXRhLmFycmF5X3JlbW92ZShfLG0pLGk+bSYmaS0tKSxtPVtdLHY9MCx5PV8ubGVuZ3RoO3Y8eTt2KyspbVt2Pj1pP3YrMTp2XT1fW3ZdO21baV09bi5pZCxmLmNoaWxkcmVuPW0sdGhpcy5fbm9kZV9jaGFuZ2VkKGYuaWQpLHRoaXMucmVkcmF3KGYuaWQ9PT1lLmpzdHJlZS5yb290KX1lbHNle2ZvcigobT1uLmNoaWxkcmVuX2QuY29uY2F0KCkpLnB1c2gobi5pZCksdj0wLHk9bi5wYXJlbnRzLmxlbmd0aDt2PHk7disrKXtmb3IoXz1bXSxqPXAuX21vZGVsLmRhdGFbbi5wYXJlbnRzW3ZdXS5jaGlsZHJlbl9kLHg9MCxiPWoubGVuZ3RoO3g8Yjt4KyspLTE9PT1lLmluQXJyYXkoalt4XSxtKSYmXy5wdXNoKGpbeF0pO3AuX21vZGVsLmRhdGFbbi5wYXJlbnRzW3ZdXS5jaGlsZHJlbl9kPV99Zm9yKHAuX21vZGVsLmRhdGFbaF0uY2hpbGRyZW49ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0ocC5fbW9kZWwuZGF0YVtoXS5jaGlsZHJlbixuLmlkKSx2PTAseT1mLnBhcmVudHMubGVuZ3RoO3Y8eTt2KyspdGhpcy5fbW9kZWwuZGF0YVtmLnBhcmVudHNbdl1dLmNoaWxkcmVuX2Q9dGhpcy5fbW9kZWwuZGF0YVtmLnBhcmVudHNbdl1dLmNoaWxkcmVuX2QuY29uY2F0KG0pO2ZvcihfPVtdLHY9MCx5PWYuY2hpbGRyZW4ubGVuZ3RoO3Y8eTt2KyspX1t2Pj1pP3YrMTp2XT1mLmNoaWxkcmVuW3ZdO2ZvcihfW2ldPW4uaWQsZi5jaGlsZHJlbj1fLGYuY2hpbGRyZW5fZC5wdXNoKG4uaWQpLGYuY2hpbGRyZW5fZD1mLmNoaWxkcmVuX2QuY29uY2F0KG4uY2hpbGRyZW5fZCksbi5wYXJlbnQ9Zi5pZCwobT1mLnBhcmVudHMuY29uY2F0KCkpLnVuc2hpZnQoZi5pZCksaj1uLnBhcmVudHMubGVuZ3RoLG4ucGFyZW50cz1tLG09bS5jb25jYXQoKSx2PTAseT1uLmNoaWxkcmVuX2QubGVuZ3RoO3Y8eTt2KyspdGhpcy5fbW9kZWwuZGF0YVtuLmNoaWxkcmVuX2Rbdl1dLnBhcmVudHM9dGhpcy5fbW9kZWwuZGF0YVtuLmNoaWxkcmVuX2Rbdl1dLnBhcmVudHMuc2xpY2UoMCwtMSpqKSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLl9tb2RlbC5kYXRhW24uY2hpbGRyZW5fZFt2XV0ucGFyZW50cyxtKTtoIT09ZS5qc3RyZWUucm9vdCYmZi5pZCE9PWUuanN0cmVlLnJvb3R8fCh0aGlzLl9tb2RlbC5mb3JjZV9mdWxsX3JlZHJhdz0hMCksdGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXd8fCh0aGlzLl9ub2RlX2NoYW5nZWQoaCksdGhpcy5fbm9kZV9jaGFuZ2VkKGYuaWQpKSxvfHx0aGlzLnJlZHJhdygpfXJldHVybiBzJiZzLmNhbGwodGhpcyxuLGYsaSksdGhpcy50cmlnZ2VyKFwibW92ZV9ub2RlXCIse25vZGU6bixwYXJlbnQ6Zi5pZCxwb3NpdGlvbjppLG9sZF9wYXJlbnQ6aCxvbGRfcG9zaXRpb246dSxpc19tdWx0aTpwJiZwLl9pZCYmcC5faWQhPT10aGlzLl9pZCxpc19mb3JlaWduOiFwfHwhcC5faWQsb2xkX2luc3RhbmNlOnAsbmV3X2luc3RhbmNlOnRoaXN9KSxuLmlkfSxjb3B5X25vZGU6ZnVuY3Rpb24obixyLGkscyxhLG8sZCl7dmFyIGMsbCxoLHUsZixwLGcsXyxtLHY7aWYocj10aGlzLmdldF9ub2RlKHIpLGk9aT09PXQ/MDppLCFyKXJldHVybiExO2lmKCFpLnRvU3RyaW5nKCkubWF0Y2goL14oYmVmb3JlfGFmdGVyKSQvKSYmIWEmJiF0aGlzLmlzX2xvYWRlZChyKSlyZXR1cm4gdGhpcy5sb2FkX25vZGUocixmdW5jdGlvbigpe3RoaXMuY29weV9ub2RlKG4scixpLHMsITAsITEsZCl9KTtpZihlLmlzQXJyYXkobikpe2lmKDEhPT1uLmxlbmd0aCl7Zm9yKGM9MCxsPW4ubGVuZ3RoO2M8bDtjKyspKHU9dGhpcy5jb3B5X25vZGUobltjXSxyLGkscyxhLCEwLGQpKSYmKHI9dSxpPVwiYWZ0ZXJcIik7cmV0dXJuIHRoaXMucmVkcmF3KCksITB9bj1uWzBdfWlmKCEobj1uJiZuLmlkP246dGhpcy5nZXRfbm9kZShuKSl8fG4uaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO3N3aXRjaChfPShuLnBhcmVudHx8ZS5qc3RyZWUucm9vdCkudG9TdHJpbmcoKSxtPWkudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiZyLmlkIT09ZS5qc3RyZWUucm9vdD90aGlzLmdldF9ub2RlKHIucGFyZW50KTpyLCEodj1kfHwodGhpcy5fbW9kZWwuZGF0YVtuLmlkXT90aGlzOmUuanN0cmVlLnJlZmVyZW5jZShuLmlkKSkpfHwhdi5faWR8fCh0aGlzLl9pZCx2Ll9pZCksdiYmdi5faWQmJihuPXYuX21vZGVsLmRhdGFbbi5pZF0pLHIuaWQ9PT1lLmpzdHJlZS5yb290JiYoXCJiZWZvcmVcIj09PWkmJihpPVwiZmlyc3RcIiksXCJhZnRlclwiPT09aSYmKGk9XCJsYXN0XCIpKSxpKXtjYXNlXCJiZWZvcmVcIjppPWUuaW5BcnJheShyLmlkLG0uY2hpbGRyZW4pO2JyZWFrO2Nhc2VcImFmdGVyXCI6aT1lLmluQXJyYXkoci5pZCxtLmNoaWxkcmVuKSsxO2JyZWFrO2Nhc2VcImluc2lkZVwiOmNhc2VcImZpcnN0XCI6aT0wO2JyZWFrO2Nhc2VcImxhc3RcIjppPW0uY2hpbGRyZW4ubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6aXx8KGk9MCl9aWYoaT5tLmNoaWxkcmVuLmxlbmd0aCYmKGk9bS5jaGlsZHJlbi5sZW5ndGgpLCF0aGlzLmNoZWNrKFwiY29weV9ub2RlXCIsbixtLGkse2NvcmU6ITAsb3JpZ2luOmQsaXNfbXVsdGk6diYmdi5faWQmJnYuX2lkIT09dGhpcy5faWQsaXNfZm9yZWlnbjohdnx8IXYuX2lkfSkpcmV0dXJuIHRoaXMuc2V0dGluZ3MuY29yZS5lcnJvci5jYWxsKHRoaXMsdGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3IpLCExO2lmKCEoZz12P3YuZ2V0X2pzb24obix7bm9faWQ6ITAsbm9fZGF0YTohMCxub19zdGF0ZTohMH0pOm4pKXJldHVybiExO2lmKCEwPT09Zy5pZCYmZGVsZXRlIGcuaWQsIShnPXRoaXMuX3BhcnNlX21vZGVsX2Zyb21fanNvbihnLG0uaWQsbS5wYXJlbnRzLmNvbmNhdCgpKSkpcmV0dXJuITE7Zm9yKHU9dGhpcy5nZXRfbm9kZShnKSxuJiZuLnN0YXRlJiYhMT09PW4uc3RhdGUubG9hZGVkJiYodS5zdGF0ZS5sb2FkZWQ9ITEpLChoPVtdKS5wdXNoKGcpLGg9aC5jb25jYXQodS5jaGlsZHJlbl9kKSx0aGlzLnRyaWdnZXIoXCJtb2RlbFwiLHtub2RlczpoLHBhcmVudDptLmlkfSksZj0wLHA9bS5wYXJlbnRzLmxlbmd0aDtmPHA7ZisrKXRoaXMuX21vZGVsLmRhdGFbbS5wYXJlbnRzW2ZdXS5jaGlsZHJlbl9kPXRoaXMuX21vZGVsLmRhdGFbbS5wYXJlbnRzW2ZdXS5jaGlsZHJlbl9kLmNvbmNhdChoKTtmb3IoaD1bXSxmPTAscD1tLmNoaWxkcmVuLmxlbmd0aDtmPHA7ZisrKWhbZj49aT9mKzE6Zl09bS5jaGlsZHJlbltmXTtyZXR1cm4gaFtpXT11LmlkLG0uY2hpbGRyZW49aCxtLmNoaWxkcmVuX2QucHVzaCh1LmlkKSxtLmNoaWxkcmVuX2Q9bS5jaGlsZHJlbl9kLmNvbmNhdCh1LmNoaWxkcmVuX2QpLG0uaWQ9PT1lLmpzdHJlZS5yb290JiYodGhpcy5fbW9kZWwuZm9yY2VfZnVsbF9yZWRyYXc9ITApLHRoaXMuX21vZGVsLmZvcmNlX2Z1bGxfcmVkcmF3fHx0aGlzLl9ub2RlX2NoYW5nZWQobS5pZCksb3x8dGhpcy5yZWRyYXcobS5pZD09PWUuanN0cmVlLnJvb3QpLHMmJnMuY2FsbCh0aGlzLHUsbSxpKSx0aGlzLnRyaWdnZXIoXCJjb3B5X25vZGVcIix7bm9kZTp1LG9yaWdpbmFsOm4scGFyZW50Om0uaWQscG9zaXRpb246aSxvbGRfcGFyZW50Ol8sb2xkX3Bvc2l0aW9uOnYmJnYuX2lkJiZfJiZ2Ll9tb2RlbC5kYXRhW19dJiZ2Ll9tb2RlbC5kYXRhW19dLmNoaWxkcmVuP2UuaW5BcnJheShuLmlkLHYuX21vZGVsLmRhdGFbX10uY2hpbGRyZW4pOi0xLGlzX211bHRpOnYmJnYuX2lkJiZ2Ll9pZCE9PXRoaXMuX2lkLGlzX2ZvcmVpZ246IXZ8fCF2Ll9pZCxvbGRfaW5zdGFuY2U6dixuZXdfaW5zdGFuY2U6dGhpc30pLHUuaWR9LGN1dDpmdW5jdGlvbih0KXtpZih0fHwodD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KCkpLGUuaXNBcnJheSh0KXx8KHQ9W3RdKSwhdC5sZW5ndGgpcmV0dXJuITE7dmFyIG4sYSxvLGQ9W107Zm9yKGE9MCxvPXQubGVuZ3RoO2E8bzthKyspKG49dGhpcy5nZXRfbm9kZSh0W2FdKSkmJm4uaWQmJm4uaWQhPT1lLmpzdHJlZS5yb290JiZkLnB1c2gobik7aWYoIWQubGVuZ3RoKXJldHVybiExO3I9ZCxzPXRoaXMsaT1cIm1vdmVfbm9kZVwiLHRoaXMudHJpZ2dlcihcImN1dFwiLHtub2RlOnR9KX0sY29weTpmdW5jdGlvbih0KXtpZih0fHwodD10aGlzLl9kYXRhLmNvcmUuc2VsZWN0ZWQuY29uY2F0KCkpLGUuaXNBcnJheSh0KXx8KHQ9W3RdKSwhdC5sZW5ndGgpcmV0dXJuITE7dmFyIG4sYSxvLGQ9W107Zm9yKGE9MCxvPXQubGVuZ3RoO2E8bzthKyspKG49dGhpcy5nZXRfbm9kZSh0W2FdKSkmJm4uaWQmJm4uaWQhPT1lLmpzdHJlZS5yb290JiZkLnB1c2gobik7aWYoIWQubGVuZ3RoKXJldHVybiExO3I9ZCxzPXRoaXMsaT1cImNvcHlfbm9kZVwiLHRoaXMudHJpZ2dlcihcImNvcHlcIix7bm9kZTp0fSl9LGdldF9idWZmZXI6ZnVuY3Rpb24oKXtyZXR1cm57bW9kZTppLG5vZGU6cixpbnN0OnN9fSxjYW5fcGFzdGU6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWkmJiExIT09cn0scGFzdGU6ZnVuY3Rpb24oZSx0KXtpZighKChlPXRoaXMuZ2V0X25vZGUoZSkpJiZpJiZpLm1hdGNoKC9eKGNvcHlfbm9kZXxtb3ZlX25vZGUpJC8pJiZyKSlyZXR1cm4hMTt0aGlzW2ldKHIsZSx0LCExLCExLCExLHMpJiZ0aGlzLnRyaWdnZXIoXCJwYXN0ZVwiLHtwYXJlbnQ6ZS5pZCxub2RlOnIsbW9kZTppfSkscj0hMSxpPSExLHM9ITF9LGNsZWFyX2J1ZmZlcjpmdW5jdGlvbigpe3I9ITEsaT0hMSxzPSExLHRoaXMudHJpZ2dlcihcImNsZWFyX2J1ZmZlclwiKX0sZWRpdDpmdW5jdGlvbih0LG4scil7dmFyIGkscyxhLG8sZCxsLGgsdSxmLHA9ITE7cmV0dXJuISEodD10aGlzLmdldF9ub2RlKHQpKSYmKHRoaXMuY2hlY2soXCJlZGl0XCIsdCx0aGlzLmdldF9wYXJlbnQodCkpPyhmPXQsbj1cInN0cmluZ1wiPT10eXBlb2Ygbj9uOnQudGV4dCx0aGlzLnNldF90ZXh0KHQsXCJcIiksdD10aGlzLl9vcGVuX3RvKHQpLGYudGV4dD1uLGk9dGhpcy5fZGF0YS5jb3JlLnJ0bCxzPXRoaXMuZWxlbWVudC53aWR0aCgpLHRoaXMuX2RhdGEuY29yZS5mb2N1c2VkPWYuaWQsYT10LmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZm9jdXMoKSxvPWUoXCI8c3Bhbj5cIiksXG4vKiFcbiAgIG9pID0gb2JqLmNoaWxkcmVuKFwiaTp2aXNpYmxlXCIpLFxuICAgYWkgPSBhLmNoaWxkcmVuKFwiaTp2aXNpYmxlXCIpLFxuICAgdzEgPSBvaS53aWR0aCgpICogb2kubGVuZ3RoLFxuICAgdzIgPSBhaS53aWR0aCgpICogYWkubGVuZ3RoLFxuICAgKi9cbmQ9bixsPWUoXCI8ZGl2IC8+XCIse2Nzczp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIi0yMDBweFwiLGxlZnQ6aT9cIjBweFwiOlwiLTEwMDBweFwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIn19KS5hcHBlbmRUbyhcImJvZHlcIiksaD1lKFwiPGlucHV0IC8+XCIse3ZhbHVlOmQsY2xhc3M6XCJqc3RyZWUtcmVuYW1lLWlucHV0XCIsY3NzOntwYWRkaW5nOlwiMFwiLGJvcmRlcjpcIjFweCBzb2xpZCBzaWx2ZXJcIixcImJveC1zaXppbmdcIjpcImJvcmRlci1ib3hcIixkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCIsaGVpZ2h0OnRoaXMuX2RhdGEuY29yZS5saV9oZWlnaHQrXCJweFwiLGxpbmVIZWlnaHQ6dGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCtcInB4XCIsd2lkdGg6XCIxNTBweFwifSxibHVyOmUucHJveHkoZnVuY3Rpb24obil7bi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxuLnByZXZlbnREZWZhdWx0KCk7dmFyIGkscz1vLmNoaWxkcmVuKFwiLmpzdHJlZS1yZW5hbWUtaW5wdXRcIiksYz1zLnZhbCgpLHU9dGhpcy5zZXR0aW5ncy5jb3JlLmZvcmNlX3RleHQ7XCJcIj09PWMmJihjPWQpLGwucmVtb3ZlKCksby5yZXBsYWNlV2l0aChhKSxvLnJlbW92ZSgpLGQ9dT9kOmUoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmQoZS5wYXJzZUhUTUwoZCkpLmh0bWwoKSx0aGlzLnNldF90ZXh0KHQsZCksKGk9ISF0aGlzLnJlbmFtZV9ub2RlKHQsdT9lKFwiPGRpdj48L2Rpdj5cIikudGV4dChjKS50ZXh0KCk6ZShcIjxkaXY+PC9kaXY+XCIpLmFwcGVuZChlLnBhcnNlSFRNTChjKSkuaHRtbCgpKSl8fHRoaXMuc2V0X3RleHQodCxkKSx0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1mLmlkLHNldFRpbWVvdXQoZS5wcm94eShmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0X25vZGUoZi5pZCwhMCk7ZS5sZW5ndGgmJih0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZD1mLmlkLGUuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5mb2N1cygpKX0sdGhpcyksMCksciYmci5jYWxsKHRoaXMsZixpLHApLGg9bnVsbH0sdGhpcyksa2V5ZG93bjpmdW5jdGlvbihlKXt2YXIgdD1lLndoaWNoOzI3PT09dCYmKHA9ITAsdGhpcy52YWx1ZT1kKSwyNyE9PXQmJjEzIT09dCYmMzchPT10JiYzOCE9PXQmJjM5IT09dCYmNDAhPT10JiYzMiE9PXR8fGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksMjchPT10JiYxMyE9PXR8fChlLnByZXZlbnREZWZhdWx0KCksdGhpcy5ibHVyKCkpfSxjbGljazpmdW5jdGlvbihlKXtlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSxtb3VzZWRvd246ZnVuY3Rpb24oZSl7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0sa2V5dXA6ZnVuY3Rpb24oZSl7aC53aWR0aChNYXRoLm1pbihsLnRleHQoXCJwV1wiK3RoaXMudmFsdWUpLndpZHRoKCkscykpfSxrZXlwcmVzczpmdW5jdGlvbihlKXtpZigxMz09PWUud2hpY2gpcmV0dXJuITF9fSksdT17Zm9udEZhbWlseTphLmNzcyhcImZvbnRGYW1pbHlcIil8fFwiXCIsZm9udFNpemU6YS5jc3MoXCJmb250U2l6ZVwiKXx8XCJcIixmb250V2VpZ2h0OmEuY3NzKFwiZm9udFdlaWdodFwiKXx8XCJcIixmb250U3R5bGU6YS5jc3MoXCJmb250U3R5bGVcIil8fFwiXCIsZm9udFN0cmV0Y2g6YS5jc3MoXCJmb250U3RyZXRjaFwiKXx8XCJcIixmb250VmFyaWFudDphLmNzcyhcImZvbnRWYXJpYW50XCIpfHxcIlwiLGxldHRlclNwYWNpbmc6YS5jc3MoXCJsZXR0ZXJTcGFjaW5nXCIpfHxcIlwiLHdvcmRTcGFjaW5nOmEuY3NzKFwid29yZFNwYWNpbmdcIil8fFwiXCJ9LG8uYXR0cihcImNsYXNzXCIsYS5hdHRyKFwiY2xhc3NcIikpLmFwcGVuZChhLmNvbnRlbnRzKCkuY2xvbmUoKSkuYXBwZW5kKGgpLGEucmVwbGFjZVdpdGgobyksbC5jc3ModSksaC5jc3ModSkud2lkdGgoTWF0aC5taW4obC50ZXh0KFwicFdcIitoWzBdLnZhbHVlKS53aWR0aCgpLHMpKVswXS5zZWxlY3QoKSx2b2lkIGUoYykub25lKFwibW91c2Vkb3duLmpzdHJlZSB0b3VjaHN0YXJ0LmpzdHJlZSBkbmRfc3RhcnQudmFrYXRhXCIsZnVuY3Rpb24odCl7aCYmdC50YXJnZXQhPT1oJiZlKGgpLmJsdXIoKX0pKToodGhpcy5zZXR0aW5ncy5jb3JlLmVycm9yLmNhbGwodGhpcyx0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvciksITEpKX0sc2V0X3RoZW1lOmZ1bmN0aW9uKHQsbil7aWYoIXQpcmV0dXJuITE7aWYoITA9PT1uKXt2YXIgcj10aGlzLnNldHRpbmdzLmNvcmUudGhlbWVzLmRpcjtyfHwocj1lLmpzdHJlZS5wYXRoK1wiL3RoZW1lc1wiKSxuPXIrXCIvXCIrdCtcIi9zdHlsZS5jc3NcIn1uJiYtMT09PWUuaW5BcnJheShuLG8pJiYoZShcImhlYWRcIikuYXBwZW5kKCc8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIicrbisnXCIgdHlwZT1cInRleHQvY3NzXCIgLz4nKSxvLnB1c2gobikpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZSYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwianN0cmVlLVwiK3RoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZSksdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5uYW1lPXQsdGhpcy5lbGVtZW50LmFkZENsYXNzKFwianN0cmVlLVwiK3QpLHRoaXMuZWxlbWVudFt0aGlzLnNldHRpbmdzLmNvcmUudGhlbWVzLnJlc3BvbnNpdmU/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJqc3RyZWUtXCIrdCtcIi1yZXNwb25zaXZlXCIpLHRoaXMudHJpZ2dlcihcInNldF90aGVtZVwiLHt0aGVtZTp0fSl9LGdldF90aGVtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWV9LHNldF90aGVtZV92YXJpYW50OmZ1bmN0aW9uKGUpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwianN0cmVlLVwiK3RoaXMuX2RhdGEuY29yZS50aGVtZXMubmFtZStcIi1cIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnZhcmlhbnQpLHRoaXMuX2RhdGEuY29yZS50aGVtZXMudmFyaWFudD1lLGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhcImpzdHJlZS1cIit0aGlzLl9kYXRhLmNvcmUudGhlbWVzLm5hbWUrXCItXCIrdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy52YXJpYW50KX0sZ2V0X3RoZW1lX3ZhcmlhbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3JlLnRoZW1lcy52YXJpYW50fSxzaG93X3N0cmlwZXM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnN0cmlwZXM9ITAsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkuYWRkQ2xhc3MoXCJqc3RyZWUtc3RyaXBlZFwiKSx0aGlzLnRyaWdnZXIoXCJzaG93X3N0cmlwZXNcIil9LGhpZGVfc3RyaXBlczpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuc3RyaXBlcz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1zdHJpcGVkXCIpLHRoaXMudHJpZ2dlcihcImhpZGVfc3RyaXBlc1wiKX0sdG9nZ2xlX3N0cmlwZXM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLnN0cmlwZXM/dGhpcy5oaWRlX3N0cmlwZXMoKTp0aGlzLnNob3dfc3RyaXBlcygpfSxzaG93X2RvdHM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM9ITAsdGhpcy5nZXRfY29udGFpbmVyX3VsKCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtbm8tZG90c1wiKSx0aGlzLnRyaWdnZXIoXCJzaG93X2RvdHNcIil9LGhpZGVfZG90czpmdW5jdGlvbigpe3RoaXMuX2RhdGEuY29yZS50aGVtZXMuZG90cz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS1uby1kb3RzXCIpLHRoaXMudHJpZ2dlcihcImhpZGVfZG90c1wiKX0sdG9nZ2xlX2RvdHM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmRvdHM/dGhpcy5oaWRlX2RvdHMoKTp0aGlzLnNob3dfZG90cygpfSxzaG93X2ljb25zOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1uby1pY29uc1wiKSx0aGlzLnRyaWdnZXIoXCJzaG93X2ljb25zXCIpfSxoaWRlX2ljb25zOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5pY29ucz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS1uby1pY29uc1wiKSx0aGlzLnRyaWdnZXIoXCJoaWRlX2ljb25zXCIpfSx0b2dnbGVfaWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmljb25zP3RoaXMuaGlkZV9pY29ucygpOnRoaXMuc2hvd19pY29ucygpfSxzaG93X2VsbGlwc2lzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5lbGxpcHNpcz0hMCx0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS1lbGxpcHNpc1wiKSx0aGlzLnRyaWdnZXIoXCJzaG93X2VsbGlwc2lzXCIpfSxoaWRlX2VsbGlwc2lzOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5lbGxpcHNpcz0hMSx0aGlzLmdldF9jb250YWluZXJfdWwoKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1lbGxpcHNpc1wiKSx0aGlzLnRyaWdnZXIoXCJoaWRlX2VsbGlwc2lzXCIpfSx0b2dnbGVfZWxsaXBzaXM6ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmVsbGlwc2lzP3RoaXMuaGlkZV9lbGxpcHNpcygpOnRoaXMuc2hvd19lbGxpcHNpcygpfSxzZXRfaWNvbjpmdW5jdGlvbihuLHIpe3ZhciBpLHMsYSxvO2lmKGUuaXNBcnJheShuKSl7Zm9yKG49bi5zbGljZSgpLGk9MCxzPW4ubGVuZ3RoO2k8cztpKyspdGhpcy5zZXRfaWNvbihuW2ldLHIpO3JldHVybiEwfXJldHVybiEoIShuPXRoaXMuZ2V0X25vZGUobikpfHxuLmlkPT09ZS5qc3RyZWUucm9vdHx8KG89bi5pY29uLG4uaWNvbj0hMD09PXJ8fG51bGw9PT1yfHxyPT09dHx8XCJcIj09PXJ8fHIsYT10aGlzLmdldF9ub2RlKG4sITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuY2hpbGRyZW4oXCIuanN0cmVlLXRoZW1laWNvblwiKSwhMT09PXI/KGEucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtdGhlbWVpY29uLWN1c3RvbSBcIitvKS5jc3MoXCJiYWNrZ3JvdW5kXCIsXCJcIikucmVtb3ZlQXR0cihcInJlbFwiKSx0aGlzLmhpZGVfaWNvbihuKSk6ITA9PT1yfHxudWxsPT09cnx8cj09PXR8fFwiXCI9PT1yPyhhLnJlbW92ZUNsYXNzKFwianN0cmVlLXRoZW1laWNvbi1jdXN0b20gXCIrbykuY3NzKFwiYmFja2dyb3VuZFwiLFwiXCIpLnJlbW92ZUF0dHIoXCJyZWxcIiksITE9PT1vJiZ0aGlzLnNob3dfaWNvbihuKSk6LTE9PT1yLmluZGV4T2YoXCIvXCIpJiYtMT09PXIuaW5kZXhPZihcIi5cIik/KGEucmVtb3ZlQ2xhc3MobykuY3NzKFwiYmFja2dyb3VuZFwiLFwiXCIpLGEuYWRkQ2xhc3MocitcIiBqc3RyZWUtdGhlbWVpY29uLWN1c3RvbVwiKS5hdHRyKFwicmVsXCIsciksITE9PT1vJiZ0aGlzLnNob3dfaWNvbihuKSk6KGEucmVtb3ZlQ2xhc3MobykuY3NzKFwiYmFja2dyb3VuZFwiLFwiXCIpLGEuYWRkQ2xhc3MoXCJqc3RyZWUtdGhlbWVpY29uLWN1c3RvbVwiKS5jc3MoXCJiYWNrZ3JvdW5kXCIsXCJ1cmwoJ1wiK3IrXCInKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdFwiKS5hdHRyKFwicmVsXCIsciksITE9PT1vJiZ0aGlzLnNob3dfaWNvbihuKSksMCkpfSxnZXRfaWNvbjpmdW5jdGlvbih0KXtyZXR1cm4hKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpJiZ0Lmljb259LGhpZGVfaWNvbjpmdW5jdGlvbih0KXt2YXIgbixyO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxyPXQubGVuZ3RoO248cjtuKyspdGhpcy5oaWRlX2ljb24odFtuXSk7cmV0dXJuITB9cmV0dXJuISghKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQ9PT1lLmpzdHJlZS5yb290fHwodC5pY29uPSExLHRoaXMuZ2V0X25vZGUodCwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5jaGlsZHJlbihcIi5qc3RyZWUtdGhlbWVpY29uXCIpLmFkZENsYXNzKFwianN0cmVlLXRoZW1laWNvbi1oaWRkZW5cIiksMCkpfSxzaG93X2ljb246ZnVuY3Rpb24odCl7dmFyIG4scixpO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxyPXQubGVuZ3RoO248cjtuKyspdGhpcy5zaG93X2ljb24odFtuXSk7cmV0dXJuITB9cmV0dXJuISghKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQ9PT1lLmpzdHJlZS5yb290fHwoaT10aGlzLmdldF9ub2RlKHQsITApLHQuaWNvbj0haS5sZW5ndGh8fGkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5jaGlsZHJlbihcIi5qc3RyZWUtdGhlbWVpY29uXCIpLmF0dHIoXCJyZWxcIiksdC5pY29ufHwodC5pY29uPSEwKSxpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuY2hpbGRyZW4oXCIuanN0cmVlLXRoZW1laWNvblwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS10aGVtZWljb24taGlkZGVuXCIpLDApKX19LGUudmFrYXRhPXt9LGUudmFrYXRhLmF0dHJpYnV0ZXM9ZnVuY3Rpb24odCxuKXt0PWUodClbMF07dmFyIHI9bj97fTpbXTtyZXR1cm4gdCYmdC5hdHRyaWJ1dGVzJiZlLmVhY2godC5hdHRyaWJ1dGVzLGZ1bmN0aW9uKHQsaSl7LTE9PT1lLmluQXJyYXkoaS5uYW1lLnRvTG93ZXJDYXNlKCksW1wic3R5bGVcIixcImNvbnRlbnRlZGl0YWJsZVwiLFwiaGFzZm9jdXNcIixcInRhYmluZGV4XCJdKSYmbnVsbCE9PWkudmFsdWUmJlwiXCIhPT1lLnRyaW0oaS52YWx1ZSkmJihuP3JbaS5uYW1lXT1pLnZhbHVlOnIucHVzaChpLm5hbWUpKX0pLHJ9LGUudmFrYXRhLmFycmF5X3VuaXF1ZT1mdW5jdGlvbihlKXt2YXIgbixyLGk9W10scz17fTtmb3Iobj0wLHI9ZS5sZW5ndGg7bjxyO24rKylzW2Vbbl1dPT09dCYmKGkucHVzaChlW25dKSxzW2Vbbl1dPSEwKTtyZXR1cm4gaX0sZS52YWthdGEuYXJyYXlfcmVtb3ZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3BsaWNlKHQsMSksZX0sZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW09ZnVuY3Rpb24odCxuKXt2YXIgcj1lLmluQXJyYXkobix0KTtyZXR1cm4tMSE9PXI/ZS52YWthdGEuYXJyYXlfcmVtb3ZlKHQscik6dH0sZS52YWthdGEuYXJyYXlfZmlsdGVyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7aWYoZS5maWx0ZXIpcmV0dXJuIGUuZmlsdGVyKHQsbik7Zm9yKGkgaW4gcj1bXSxlKX5+aStcIlwiPT1pK1wiXCImJmk+PTAmJnQuY2FsbChuLGVbaV0sK2ksZSkmJnIucHVzaChlW2ldKTtyZXR1cm4gcn0sZS5qc3RyZWUucGx1Z2lucy5jaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7dmFyIG49W107dGhpcy50cmlnZ2VyPWZ1bmN0aW9uKGUscil7dmFyIGkscztpZihyfHwocj17fSksXCJjaGFuZ2VkXCI9PT1lLnJlcGxhY2UoXCIuanN0cmVlXCIsXCJcIikpe3IuY2hhbmdlZD17c2VsZWN0ZWQ6W10sZGVzZWxlY3RlZDpbXX07dmFyIGE9e307Zm9yKGk9MCxzPW4ubGVuZ3RoO2k8cztpKyspYVtuW2ldXT0xO2ZvcihpPTAscz1yLnNlbGVjdGVkLmxlbmd0aDtpPHM7aSsrKWFbci5zZWxlY3RlZFtpXV0/YVtyLnNlbGVjdGVkW2ldXT0yOnIuY2hhbmdlZC5zZWxlY3RlZC5wdXNoKHIuc2VsZWN0ZWRbaV0pO2ZvcihpPTAscz1uLmxlbmd0aDtpPHM7aSsrKTE9PT1hW25baV1dJiZyLmNoYW5nZWQuZGVzZWxlY3RlZC5wdXNoKG5baV0pO249ci5zZWxlY3RlZC5zbGljZSgpfXQudHJpZ2dlci5jYWxsKHRoaXMsZSxyKX0sdGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGUscil7cmV0dXJuIG49W10sdC5yZWZyZXNoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O3ZhciBsLGgsdT1jLmNyZWF0ZUVsZW1lbnQoXCJJXCIpO3UuY2xhc3NOYW1lPVwianN0cmVlLWljb24ganN0cmVlLWNoZWNrYm94XCIsdS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJwcmVzZW50YXRpb25cIiksZS5qc3RyZWUuZGVmYXVsdHMuY2hlY2tib3g9e3Zpc2libGU6ITAsdGhyZWVfc3RhdGU6ITAsd2hvbGVfbm9kZTohMCxrZWVwX3NlbGVjdGVkX3N0eWxlOiEwLGNhc2NhZGU6XCJcIix0aWVfc2VsZWN0aW9uOiEwLGNhc2NhZGVfdG9fZGlzYWJsZWQ6ITAsY2FzY2FkZV90b19oaWRkZW46ITB9LGUuanN0cmVlLnBsdWdpbnMuY2hlY2tib3g9ZnVuY3Rpb24obixyKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtyLmJpbmQuY2FsbCh0aGlzKSx0aGlzLl9kYXRhLmNoZWNrYm94LnV0bz0hMSx0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPVtdLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGhyZWVfc3RhdGUmJih0aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGU9XCJ1cCtkb3duK3VuZGV0ZXJtaW5lZFwiKSx0aGlzLmVsZW1lbnQub24oXCJpbml0LmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNoZWNrYm94LnZpc2libGU9dGhpcy5zZXR0aW5ncy5jaGVja2JveC52aXNpYmxlLHRoaXMuc2V0dGluZ3MuY2hlY2tib3gua2VlcF9zZWxlY3RlZF9zdHlsZXx8dGhpcy5lbGVtZW50LmFkZENsYXNzKFwianN0cmVlLWNoZWNrYm94LW5vLWNsaWNrZWRcIiksdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJqc3RyZWUtY2hlY2tib3gtc2VsZWN0aW9uXCIpfSx0aGlzKSkub24oXCJsb2FkaW5nLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzW3RoaXMuX2RhdGEuY2hlY2tib3gudmlzaWJsZT9cInNob3dfY2hlY2tib3hlc1wiOlwiaGlkZV9jaGVja2JveGVzXCJdKCl9LHRoaXMpKSwtMSE9PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKFwidW5kZXRlcm1pbmVkXCIpJiZ0aGlzLmVsZW1lbnQub24oXCJjaGFuZ2VkLmpzdHJlZSB1bmNoZWNrX25vZGUuanN0cmVlIGNoZWNrX25vZGUuanN0cmVlIHVuY2hlY2tfYWxsLmpzdHJlZSBjaGVja19hbGwuanN0cmVlIG1vdmVfbm9kZS5qc3RyZWUgY29weV9ub2RlLmpzdHJlZSByZWRyYXcuanN0cmVlIG9wZW5fbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jaGVja2JveC51dG8mJmNsZWFyVGltZW91dCh0aGlzLl9kYXRhLmNoZWNrYm94LnV0byksdGhpcy5fZGF0YS5jaGVja2JveC51dG89c2V0VGltZW91dChlLnByb3h5KHRoaXMuX3VuZGV0ZXJtaW5lZCx0aGlzKSw1MCl9LHRoaXMpKSx0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb258fHRoaXMuZWxlbWVudC5vbihcIm1vZGVsLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9dGhpcy5fbW9kZWwuZGF0YSxzPShpW3QucGFyZW50XSx0Lm5vZGVzKTtmb3Iobj0wLHI9cy5sZW5ndGg7bjxyO24rKylpW3Nbbl1dLnN0YXRlLmNoZWNrZWQ9aVtzW25dXS5zdGF0ZS5jaGVja2VkfHxpW3Nbbl1dLm9yaWdpbmFsJiZpW3Nbbl1dLm9yaWdpbmFsLnN0YXRlJiZpW3Nbbl1dLm9yaWdpbmFsLnN0YXRlLmNoZWNrZWQsaVtzW25dXS5zdGF0ZS5jaGVja2VkJiZ0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLnB1c2goc1tuXSl9LHRoaXMpKSwtMT09PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKFwidXBcIikmJi0xPT09dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLmluZGV4T2YoXCJkb3duXCIpfHx0aGlzLmVsZW1lbnQub24oXCJtb2RlbC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7dmFyIHIsaSxzLGEsbyxkLGM9dGhpcy5fbW9kZWwuZGF0YSxsPWNbbi5wYXJlbnRdLGg9bi5ub2Rlcyx1PVtdLGY9dGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlLHA9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO2lmKC0xIT09Zi5pbmRleE9mKFwiZG93blwiKSlpZihsLnN0YXRlW3A/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXSl7Zm9yKGk9MCxzPWgubGVuZ3RoO2k8cztpKyspY1toW2ldXS5zdGF0ZVtwP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITA7dGhpcy5fZGF0YVtwP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQ9dGhpcy5fZGF0YVtwP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQuY29uY2F0KGgpfWVsc2UgZm9yKGk9MCxzPWgubGVuZ3RoO2k8cztpKyspaWYoY1toW2ldXS5zdGF0ZVtwP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl0pe2ZvcihhPTAsbz1jW2hbaV1dLmNoaWxkcmVuX2QubGVuZ3RoO2E8bzthKyspY1tjW2hbaV1dLmNoaWxkcmVuX2RbYV1dLnN0YXRlW3A/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMDt0aGlzLl9kYXRhW3A/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZD10aGlzLl9kYXRhW3A/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZC5jb25jYXQoY1toW2ldXS5jaGlsZHJlbl9kKX1pZigtMSE9PWYuaW5kZXhPZihcInVwXCIpKXtmb3IoaT0wLHM9bC5jaGlsZHJlbl9kLmxlbmd0aDtpPHM7aSsrKWNbbC5jaGlsZHJlbl9kW2ldXS5jaGlsZHJlbi5sZW5ndGh8fHUucHVzaChjW2wuY2hpbGRyZW5fZFtpXV0ucGFyZW50KTtmb3IodT1lLnZha2F0YS5hcnJheV91bmlxdWUodSksYT0wLG89dS5sZW5ndGg7YTxvO2ErKylmb3IobD1jW3VbYV1dO2wmJmwuaWQhPT1lLmpzdHJlZS5yb290Oyl7Zm9yKHI9MCxpPTAscz1sLmNoaWxkcmVuLmxlbmd0aDtpPHM7aSsrKXIrPWNbbC5jaGlsZHJlbltpXV0uc3RhdGVbcD9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdO2lmKHIhPT1zKWJyZWFrO2wuc3RhdGVbcD9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSEwLHRoaXMuX2RhdGFbcD9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLnB1c2gobC5pZCksKGQ9dGhpcy5nZXRfbm9kZShsLCEwKSkmJmQubGVuZ3RoJiZkLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3MocD9cImpzdHJlZS1jbGlja2VkXCI6XCJqc3RyZWUtY2hlY2tlZFwiKSxsPXRoaXMuZ2V0X25vZGUobC5wYXJlbnQpfX10aGlzLl9kYXRhW3A/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZD1lLnZha2F0YS5hcnJheV91bmlxdWUodGhpcy5fZGF0YVtwP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQpfSx0aGlzKSkub24odGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uP1wic2VsZWN0X25vZGUuanN0cmVlXCI6XCJjaGVja19ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24odCxuKXt2YXIgcixpLHMsYSxvPW4ubm9kZSxkPXRoaXMuX21vZGVsLmRhdGEsYz10aGlzLmdldF9ub2RlKG8ucGFyZW50KSxsPXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZSxoPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbix1PXt9LGY9dGhpcy5fZGF0YVtoP1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQ7Zm9yKHI9MCxpPWYubGVuZ3RoO3I8aTtyKyspdVtmW3JdXT0hMDtpZigtMSE9PWwuaW5kZXhPZihcImRvd25cIikpe3ZhciBwPXRoaXMuX2Nhc2NhZGVfbmV3X2NoZWNrZWRfc3RhdGUoby5pZCwhMCksZz1vLmNoaWxkcmVuX2QuY29uY2F0KG8uaWQpO2ZvcihyPTAsaT1nLmxlbmd0aDtyPGk7cisrKXAuaW5kZXhPZihnW3JdKT4tMT91W2dbcl1dPSEwOmRlbGV0ZSB1W2dbcl1dfWlmKC0xIT09bC5pbmRleE9mKFwidXBcIikpZm9yKDtjJiZjLmlkIT09ZS5qc3RyZWUucm9vdDspe2ZvcihzPTAscj0wLGk9Yy5jaGlsZHJlbi5sZW5ndGg7cjxpO3IrKylzKz1kW2MuY2hpbGRyZW5bcl1dLnN0YXRlW2g/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXTtpZihzIT09aSlicmVhaztjLnN0YXRlW2g/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMCx1W2MuaWRdPSEwLChhPXRoaXMuZ2V0X25vZGUoYywhMCkpJiZhLmxlbmd0aCYmYS5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKGg/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIiksYz10aGlzLmdldF9ub2RlKGMucGFyZW50KX1mb3IociBpbiBmPVtdLHUpdS5oYXNPd25Qcm9wZXJ0eShyKSYmZi5wdXNoKHIpO3RoaXMuX2RhdGFbaD9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkPWZ9LHRoaXMpKS5vbih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24/XCJkZXNlbGVjdF9hbGwuanN0cmVlXCI6XCJ1bmNoZWNrX2FsbC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7dmFyIHIsaSxzLGE9dGhpcy5nZXRfbm9kZShlLmpzdHJlZS5yb290KSxvPXRoaXMuX21vZGVsLmRhdGE7Zm9yKHI9MCxpPWEuY2hpbGRyZW5fZC5sZW5ndGg7cjxpO3IrKykocz1vW2EuY2hpbGRyZW5fZFtyXV0pJiZzLm9yaWdpbmFsJiZzLm9yaWdpbmFsLnN0YXRlJiZzLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmKHMub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkPSExKX0sdGhpcykpLm9uKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj9cImRlc2VsZWN0X25vZGUuanN0cmVlXCI6XCJ1bmNoZWNrX25vZGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxzPXQubm9kZSxhPSh0aGlzLmdldF9ub2RlKHMsITApLHRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZSksbz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sZD10aGlzLl9kYXRhW28/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZCxjPXMuY2hpbGRyZW5fZC5jb25jYXQocy5pZCk7aWYoLTEhPT1hLmluZGV4T2YoXCJkb3duXCIpKXt2YXIgbD10aGlzLl9jYXNjYWRlX25ld19jaGVja2VkX3N0YXRlKHMuaWQsITEpO2Q9ZC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1jLmluZGV4T2YoZSl8fGwuaW5kZXhPZihlKT4tMX0pfWlmKC0xIT09YS5pbmRleE9mKFwidXBcIikmJi0xPT09ZC5pbmRleE9mKHMuaWQpKXtmb3Iobj0wLHI9cy5wYXJlbnRzLmxlbmd0aDtuPHI7bisrKShpPXRoaXMuX21vZGVsLmRhdGFbcy5wYXJlbnRzW25dXSkuc3RhdGVbbz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSExLGkmJmkub3JpZ2luYWwmJmkub3JpZ2luYWwuc3RhdGUmJmkub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYoaS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQ9ITEpLChpPXRoaXMuZ2V0X25vZGUocy5wYXJlbnRzW25dLCEwKSkmJmkubGVuZ3RoJiZpLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITEpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3Mobz9cImpzdHJlZS1jbGlja2VkXCI6XCJqc3RyZWUtY2hlY2tlZFwiKTtkPWQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09cy5wYXJlbnRzLmluZGV4T2YoZSl9KX10aGlzLl9kYXRhW28/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZD1kfSx0aGlzKSksLTEhPT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZihcInVwXCIpJiZ0aGlzLmVsZW1lbnQub24oXCJkZWxldGVfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7Zm9yKHZhciByLGkscyxhLG89dGhpcy5nZXRfbm9kZShuLnBhcmVudCksZD10aGlzLl9tb2RlbC5kYXRhLGM9dGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uO28mJm8uaWQhPT1lLmpzdHJlZS5yb290JiYhby5zdGF0ZVtjP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl07KXtmb3Iocz0wLHI9MCxpPW8uY2hpbGRyZW4ubGVuZ3RoO3I8aTtyKyspcys9ZFtvLmNoaWxkcmVuW3JdXS5zdGF0ZVtjP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl07aWYoIShpPjAmJnM9PT1pKSlicmVhaztvLnN0YXRlW2M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMCx0aGlzLl9kYXRhW2M/XCJjb3JlXCI6XCJjaGVja2JveFwiXS5zZWxlY3RlZC5wdXNoKG8uaWQpLChhPXRoaXMuZ2V0X25vZGUobywhMCkpJiZhLmxlbmd0aCYmYS5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKGM/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIiksbz10aGlzLmdldF9ub2RlKG8ucGFyZW50KX19LHRoaXMpKS5vbihcIm1vdmVfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7dmFyIHIsaSxzLGEsbyxkPW4uaXNfbXVsdGksYz1uLm9sZF9wYXJlbnQsbD10aGlzLmdldF9ub2RlKG4ucGFyZW50KSxoPXRoaXMuX21vZGVsLmRhdGEsdT10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb247aWYoIWQpZm9yKHI9dGhpcy5nZXRfbm9kZShjKTtyJiZyLmlkIT09ZS5qc3RyZWUucm9vdCYmIXIuc3RhdGVbdT9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdOyl7Zm9yKGk9MCxzPTAsYT1yLmNoaWxkcmVuLmxlbmd0aDtzPGE7cysrKWkrPWhbci5jaGlsZHJlbltzXV0uc3RhdGVbdT9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdO2lmKCEoYT4wJiZpPT09YSkpYnJlYWs7ci5zdGF0ZVt1P1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITAsdGhpcy5fZGF0YVt1P1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQucHVzaChyLmlkKSwobz10aGlzLmdldF9ub2RlKHIsITApKSYmby5sZW5ndGgmJm8uYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMCkuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyh1P1wianN0cmVlLWNsaWNrZWRcIjpcImpzdHJlZS1jaGVja2VkXCIpLHI9dGhpcy5nZXRfbm9kZShyLnBhcmVudCl9Zm9yKHI9bDtyJiZyLmlkIT09ZS5qc3RyZWUucm9vdDspe2ZvcihpPTAscz0wLGE9ci5jaGlsZHJlbi5sZW5ndGg7czxhO3MrKylpKz1oW3IuY2hpbGRyZW5bc11dLnN0YXRlW3U/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXTtpZihpPT09YSlyLnN0YXRlW3U/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXXx8KHIuc3RhdGVbdT9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdPSEwLHRoaXMuX2RhdGFbdT9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLnB1c2goci5pZCksKG89dGhpcy5nZXRfbm9kZShyLCEwKSkmJm8ubGVuZ3RoJiZvLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITApLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3ModT9cImpzdHJlZS1jbGlja2VkXCI6XCJqc3RyZWUtY2hlY2tlZFwiKSk7ZWxzZXtpZighci5zdGF0ZVt1P1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl0pYnJlYWs7ci5zdGF0ZVt1P1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09ITEsdGhpcy5fZGF0YVt1P1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YVt1P1wiY29yZVwiOlwiY2hlY2tib3hcIl0uc2VsZWN0ZWQsci5pZCksKG89dGhpcy5nZXRfbm9kZShyLCEwKSkmJm8ubGVuZ3RoJiZvLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITEpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3ModT9cImpzdHJlZS1jbGlja2VkXCI6XCJqc3RyZWUtY2hlY2tlZFwiKX1yPXRoaXMuZ2V0X25vZGUoci5wYXJlbnQpfX0sdGhpcykpfSx0aGlzLmdldF91bmRldGVybWluZWQ9ZnVuY3Rpb24obil7aWYoLTE9PT10aGlzLnNldHRpbmdzLmNoZWNrYm94LmNhc2NhZGUuaW5kZXhPZihcInVuZGV0ZXJtaW5lZFwiKSlyZXR1cm5bXTt2YXIgcixpLHMsYSxvPXt9LGQ9dGhpcy5fbW9kZWwuZGF0YSxjPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbixsPXRoaXMuX2RhdGFbYz9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLGg9W10sdT10aGlzLGY9W107Zm9yKHI9MCxpPWwubGVuZ3RoO3I8aTtyKyspaWYoZFtsW3JdXSYmZFtsW3JdXS5wYXJlbnRzKWZvcihzPTAsYT1kW2xbcl1dLnBhcmVudHMubGVuZ3RoO3M8YSYmb1tkW2xbcl1dLnBhcmVudHNbc11dPT09dDtzKyspZFtsW3JdXS5wYXJlbnRzW3NdIT09ZS5qc3RyZWUucm9vdCYmKG9bZFtsW3JdXS5wYXJlbnRzW3NdXT0hMCxoLnB1c2goZFtsW3JdXS5wYXJlbnRzW3NdKSk7Zm9yKHRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS1jbG9zZWRcIikubm90KFwiOmhhcyguanN0cmVlLWNoaWxkcmVuKVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG4sYz11LmdldF9ub2RlKHRoaXMpO2lmKGMpaWYoYy5zdGF0ZS5sb2FkZWQpe2ZvcihyPTAsaT1jLmNoaWxkcmVuX2QubGVuZ3RoO3I8aTtyKyspaWYoIShuPWRbYy5jaGlsZHJlbl9kW3JdXSkuc3RhdGUubG9hZGVkJiZuLm9yaWdpbmFsJiZuLm9yaWdpbmFsLnN0YXRlJiZuLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZCYmITA9PT1uLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZClmb3Iob1tuLmlkXT09PXQmJm4uaWQhPT1lLmpzdHJlZS5yb290JiYob1tuLmlkXT0hMCxoLnB1c2gobi5pZCkpLHM9MCxhPW4ucGFyZW50cy5sZW5ndGg7czxhO3MrKylvW24ucGFyZW50c1tzXV09PT10JiZuLnBhcmVudHNbc10hPT1lLmpzdHJlZS5yb290JiYob1tuLnBhcmVudHNbc11dPSEwLGgucHVzaChuLnBhcmVudHNbc10pKX1lbHNlIGlmKGMub3JpZ2luYWwmJmMub3JpZ2luYWwuc3RhdGUmJmMub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkJiYhMD09PWMub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkKWZvcihvW2MuaWRdPT09dCYmYy5pZCE9PWUuanN0cmVlLnJvb3QmJihvW2MuaWRdPSEwLGgucHVzaChjLmlkKSkscz0wLGE9Yy5wYXJlbnRzLmxlbmd0aDtzPGE7cysrKW9bYy5wYXJlbnRzW3NdXT09PXQmJmMucGFyZW50c1tzXSE9PWUuanN0cmVlLnJvb3QmJihvW2MucGFyZW50c1tzXV09ITAsaC5wdXNoKGMucGFyZW50c1tzXSkpfSkscj0wLGk9aC5sZW5ndGg7cjxpO3IrKylkW2hbcl1dLnN0YXRlW2M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXXx8Zi5wdXNoKG4/ZFtoW3JdXTpoW3JdKTtyZXR1cm4gZn0sdGhpcy5fdW5kZXRlcm1pbmVkPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuZWxlbWVudCl7dmFyIGUsdCxuLHI9dGhpcy5nZXRfdW5kZXRlcm1pbmVkKCExKTtmb3IodGhpcy5lbGVtZW50LmZpbmQoXCIuanN0cmVlLXVuZGV0ZXJtaW5lZFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS11bmRldGVybWluZWRcIiksZT0wLHQ9ci5sZW5ndGg7ZTx0O2UrKykobj10aGlzLmdldF9ub2RlKHJbZV0sITApKSYmbi5sZW5ndGgmJm4uY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5jaGlsZHJlbihcIi5qc3RyZWUtY2hlY2tib3hcIikuYWRkQ2xhc3MoXCJqc3RyZWUtdW5kZXRlcm1pbmVkXCIpfX0sdGhpcy5yZWRyYXdfbm9kZT1mdW5jdGlvbih0LG4saSxzKXtpZih0PXIucmVkcmF3X25vZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgYSxvLGQ9bnVsbCxjPW51bGw7Zm9yKGE9MCxvPXQuY2hpbGROb2Rlcy5sZW5ndGg7YTxvO2ErKylpZih0LmNoaWxkTm9kZXNbYV0mJnQuY2hpbGROb2Rlc1thXS5jbGFzc05hbWUmJi0xIT09dC5jaGlsZE5vZGVzW2FdLmNsYXNzTmFtZS5pbmRleE9mKFwianN0cmVlLWFuY2hvclwiKSl7ZD10LmNoaWxkTm9kZXNbYV07YnJlYWt9ZCYmKCF0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJnRoaXMuX21vZGVsLmRhdGFbdC5pZF0uc3RhdGUuY2hlY2tlZCYmKGQuY2xhc3NOYW1lKz1cIiBqc3RyZWUtY2hlY2tlZFwiKSxjPXUuY2xvbmVOb2RlKCExKSx0aGlzLl9tb2RlbC5kYXRhW3QuaWRdLnN0YXRlLmNoZWNrYm94X2Rpc2FibGVkJiYoYy5jbGFzc05hbWUrPVwiIGpzdHJlZS1jaGVja2JveC1kaXNhYmxlZFwiKSxkLmluc2VydEJlZm9yZShjLGQuY2hpbGROb2Rlc1swXSkpfXJldHVybiBpfHwtMT09PXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZS5pbmRleE9mKFwidW5kZXRlcm1pbmVkXCIpfHwodGhpcy5fZGF0YS5jaGVja2JveC51dG8mJmNsZWFyVGltZW91dCh0aGlzLl9kYXRhLmNoZWNrYm94LnV0byksdGhpcy5fZGF0YS5jaGVja2JveC51dG89c2V0VGltZW91dChlLnByb3h5KHRoaXMuX3VuZGV0ZXJtaW5lZCx0aGlzKSw1MCkpLHR9LHRoaXMuc2hvd19jaGVja2JveGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5jaGVja2JveGVzPSEwLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLW5vLWNoZWNrYm94ZXNcIil9LHRoaXMuaGlkZV9jaGVja2JveGVzPWZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLnRoZW1lcy5jaGVja2JveGVzPSExLHRoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKFwianN0cmVlLW5vLWNoZWNrYm94ZXNcIil9LHRoaXMudG9nZ2xlX2NoZWNrYm94ZXM9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhLmNvcmUudGhlbWVzLmNoZWNrYm94ZXM/dGhpcy5oaWRlX2NoZWNrYm94ZXMoKTp0aGlzLnNob3dfY2hlY2tib3hlcygpfSx0aGlzLmlzX3VuZGV0ZXJtaW5lZD1mdW5jdGlvbih0KXt0PXRoaXMuZ2V0X25vZGUodCk7dmFyIG4scixpPXRoaXMuc2V0dGluZ3MuY2hlY2tib3guY2FzY2FkZSxzPXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbixhPXRoaXMuX2RhdGFbcz9cImNvcmVcIjpcImNoZWNrYm94XCJdLnNlbGVjdGVkLG89dGhpcy5fbW9kZWwuZGF0YTtpZighdHx8ITA9PT10LnN0YXRlW3M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXXx8LTE9PT1pLmluZGV4T2YoXCJ1bmRldGVybWluZWRcIil8fC0xPT09aS5pbmRleE9mKFwiZG93blwiKSYmLTE9PT1pLmluZGV4T2YoXCJ1cFwiKSlyZXR1cm4hMTtpZighdC5zdGF0ZS5sb2FkZWQmJiEwPT09dC5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQpcmV0dXJuITA7Zm9yKG49MCxyPXQuY2hpbGRyZW5fZC5sZW5ndGg7bjxyO24rKylpZigtMSE9PWUuaW5BcnJheSh0LmNoaWxkcmVuX2Rbbl0sYSl8fCFvW3QuY2hpbGRyZW5fZFtuXV0uc3RhdGUubG9hZGVkJiZvW3QuY2hpbGRyZW5fZFtuXV0ub3JpZ2luYWwuc3RhdGUudW5kZXRlcm1pbmVkKXJldHVybiEwO3JldHVybiExfSx0aGlzLmRpc2FibGVfY2hlY2tib3g9ZnVuY3Rpb24odCl7dmFyIG4scixpO2lmKGUuaXNBcnJheSh0KSl7Zm9yKHQ9dC5zbGljZSgpLG49MCxyPXQubGVuZ3RoO248cjtuKyspdGhpcy5kaXNhYmxlX2NoZWNrYm94KHRbbl0pO3JldHVybiEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7aT10aGlzLmdldF9ub2RlKHQsITApLHQuc3RhdGUuY2hlY2tib3hfZGlzYWJsZWR8fCh0LnN0YXRlLmNoZWNrYm94X2Rpc2FibGVkPSEwLGkmJmkubGVuZ3RoJiZpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuY2hpbGRyZW4oXCIuanN0cmVlLWNoZWNrYm94XCIpLmFkZENsYXNzKFwianN0cmVlLWNoZWNrYm94LWRpc2FibGVkXCIpLHRoaXMudHJpZ2dlcihcImRpc2FibGVfY2hlY2tib3hcIix7bm9kZTp0fSkpfSx0aGlzLmVuYWJsZV9jaGVja2JveD1mdW5jdGlvbih0KXt2YXIgbixyLGk7aWYoZS5pc0FycmF5KHQpKXtmb3IodD10LnNsaWNlKCksbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl0aGlzLmVuYWJsZV9jaGVja2JveCh0W25dKTtyZXR1cm4hMH1pZighKHQ9dGhpcy5nZXRfbm9kZSh0KSl8fHQuaWQ9PT1lLmpzdHJlZS5yb290KXJldHVybiExO2k9dGhpcy5nZXRfbm9kZSh0LCEwKSx0LnN0YXRlLmNoZWNrYm94X2Rpc2FibGVkJiYodC5zdGF0ZS5jaGVja2JveF9kaXNhYmxlZD0hMSxpJiZpLmxlbmd0aCYmaS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1jaGVja2JveFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1jaGVja2JveC1kaXNhYmxlZFwiKSx0aGlzLnRyaWdnZXIoXCJlbmFibGVfY2hlY2tib3hcIix7bm9kZTp0fSkpfSx0aGlzLmFjdGl2YXRlX25vZGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4hZShuLnRhcmdldCkuaGFzQ2xhc3MoXCJqc3RyZWUtY2hlY2tib3gtZGlzYWJsZWRcIikmJih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24mJih0aGlzLnNldHRpbmdzLmNoZWNrYm94Lndob2xlX25vZGV8fGUobi50YXJnZXQpLmhhc0NsYXNzKFwianN0cmVlLWNoZWNrYm94XCIpKSYmKG4uY3RybEtleT0hMCksdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9ufHwhdGhpcy5zZXR0aW5ncy5jaGVja2JveC53aG9sZV9ub2RlJiYhZShuLnRhcmdldCkuaGFzQ2xhc3MoXCJqc3RyZWUtY2hlY2tib3hcIik/ci5hY3RpdmF0ZV9ub2RlLmNhbGwodGhpcyx0LG4pOiF0aGlzLmlzX2Rpc2FibGVkKHQpJiYodGhpcy5pc19jaGVja2VkKHQpP3RoaXMudW5jaGVja19ub2RlKHQsbik6dGhpcy5jaGVja19ub2RlKHQsbiksdm9pZCB0aGlzLnRyaWdnZXIoXCJhY3RpdmF0ZV9ub2RlXCIse25vZGU6dGhpcy5nZXRfbm9kZSh0KX0pKSl9LHRoaXMuX2Nhc2NhZGVfbmV3X2NoZWNrZWRfc3RhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGkscz10aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24sYT10aGlzLl9tb2RlbC5kYXRhW2VdLG89W10sZD1bXTtpZighdGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlX3RvX2Rpc2FibGVkJiZhLnN0YXRlLmRpc2FibGVkfHwhdGhpcy5zZXR0aW5ncy5jaGVja2JveC5jYXNjYWRlX3RvX2hpZGRlbiYmYS5zdGF0ZS5oaWRkZW4paT10aGlzLmdldF9jaGVja2VkX2Rlc2NlbmRhbnRzKGUpLGEuc3RhdGVbcz9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdJiZpLnB1c2goYS5pZCksbz1vLmNvbmNhdChpKTtlbHNle2lmKGEuY2hpbGRyZW4pZm9yKG49MCxyPWEuY2hpbGRyZW4ubGVuZ3RoO248cjtuKyspe3ZhciBjPWEuY2hpbGRyZW5bbl07aT10aGlzLl9jYXNjYWRlX25ld19jaGVja2VkX3N0YXRlKGMsdCksbz1vLmNvbmNhdChpKSxpLmluZGV4T2YoYyk+LTEmJmQucHVzaChjKX12YXIgbD10aGlzLmdldF9ub2RlKGEsITApLGg9ZC5sZW5ndGg+MCYmZC5sZW5ndGg8YS5jaGlsZHJlbi5sZW5ndGg7YS5vcmlnaW5hbCYmYS5vcmlnaW5hbC5zdGF0ZSYmYS5vcmlnaW5hbC5zdGF0ZS51bmRldGVybWluZWQmJihhLm9yaWdpbmFsLnN0YXRlLnVuZGV0ZXJtaW5lZD1oKSxoPyhhLnN0YXRlW3M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMSxsLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITEpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3Mocz9cImpzdHJlZS1jbGlja2VkXCI6XCJqc3RyZWUtY2hlY2tlZFwiKSk6dCYmZC5sZW5ndGg9PT1hLmNoaWxkcmVuLmxlbmd0aD8oYS5zdGF0ZVtzP1wic2VsZWN0ZWRcIjpcImNoZWNrZWRcIl09dCxvLnB1c2goYS5pZCksbC5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLCEwKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmFkZENsYXNzKHM/XCJqc3RyZWUtY2xpY2tlZFwiOlwianN0cmVlLWNoZWNrZWRcIikpOihhLnN0YXRlW3M/XCJzZWxlY3RlZFwiOlwiY2hlY2tlZFwiXT0hMSxsLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITEpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3Mocz9cImpzdHJlZS1jbGlja2VkXCI6XCJqc3RyZWUtY2hlY2tlZFwiKSl9cmV0dXJuIG99LHRoaXMuZ2V0X2NoZWNrZWRfZGVzY2VuZGFudHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXQuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbixyPXQuX21vZGVsLmRhdGFbZV07cmV0dXJuIHIuY2hpbGRyZW5fZC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX21vZGVsLmRhdGFbZV0uc3RhdGVbbj9cInNlbGVjdGVkXCI6XCJjaGVja2VkXCJdfSl9LHRoaXMuY2hlY2tfbm9kZT1mdW5jdGlvbih0LG4pe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5zZWxlY3Rfbm9kZSh0LCExLCEwLG4pO3ZhciByLGkscztpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxpPTAscz10Lmxlbmd0aDtpPHM7aSsrKXRoaXMuY2hlY2tfbm9kZSh0W2ldLG4pO3JldHVybiEwfWlmKCEodD10aGlzLmdldF9ub2RlKHQpKXx8dC5pZD09PWUuanN0cmVlLnJvb3QpcmV0dXJuITE7cj10aGlzLmdldF9ub2RlKHQsITApLHQuc3RhdGUuY2hlY2tlZHx8KHQuc3RhdGUuY2hlY2tlZD0hMCx0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLnB1c2godC5pZCksciYmci5sZW5ndGgmJnIuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5hZGRDbGFzcyhcImpzdHJlZS1jaGVja2VkXCIpLHRoaXMudHJpZ2dlcihcImNoZWNrX25vZGVcIix7bm9kZTp0LHNlbGVjdGVkOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsZXZlbnQ6bn0pKX0sdGhpcy51bmNoZWNrX25vZGU9ZnVuY3Rpb24odCxuKXtpZih0aGlzLnNldHRpbmdzLmNoZWNrYm94LnRpZV9zZWxlY3Rpb24pcmV0dXJuIHRoaXMuZGVzZWxlY3Rfbm9kZSh0LCExLG4pO3ZhciByLGkscztpZihlLmlzQXJyYXkodCkpe2Zvcih0PXQuc2xpY2UoKSxyPTAsaT10Lmxlbmd0aDtyPGk7cisrKXRoaXMudW5jaGVja19ub2RlKHRbcl0sbik7cmV0dXJuITB9aWYoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTtzPXRoaXMuZ2V0X25vZGUodCwhMCksdC5zdGF0ZS5jaGVja2VkJiYodC5zdGF0ZS5jaGVja2VkPSExLHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0odGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCx0LmlkKSxzLmxlbmd0aCYmcy5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNoZWNrZWRcIiksdGhpcy50cmlnZ2VyKFwidW5jaGVja19ub2RlXCIse25vZGU6dCxzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLGV2ZW50Om59KSl9LHRoaXMuY2hlY2tfYWxsPWZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLnNlbGVjdF9hbGwoKTt2YXIgdCxuO2Zvcih0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLmNvbmNhdChbXSksdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZD10aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdLmNoaWxkcmVuX2QuY29uY2F0KCksdD0wLG49dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5sZW5ndGg7dDxuO3QrKyl0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWRbdF1dJiYodGhpcy5fbW9kZWwuZGF0YVt0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkW3RdXS5zdGF0ZS5jaGVja2VkPSEwKTt0aGlzLnJlZHJhdyghMCksdGhpcy50cmlnZ2VyKFwiY2hlY2tfYWxsXCIse3NlbGVjdGVkOnRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWR9KX0sdGhpcy51bmNoZWNrX2FsbD1mdW5jdGlvbigpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5kZXNlbGVjdF9hbGwoKTt2YXIgZSx0LG49dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZC5jb25jYXQoW10pO2ZvcihlPTAsdD10aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLmxlbmd0aDtlPHQ7ZSsrKXRoaXMuX21vZGVsLmRhdGFbdGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZFtlXV0mJih0aGlzLl9tb2RlbC5kYXRhW3RoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWRbZV1dLnN0YXRlLmNoZWNrZWQ9ITEpO3RoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9W10sdGhpcy5lbGVtZW50LmZpbmQoXCIuanN0cmVlLWNoZWNrZWRcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtY2hlY2tlZFwiKSx0aGlzLnRyaWdnZXIoXCJ1bmNoZWNrX2FsbFwiLHtzZWxlY3RlZDp0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkLG5vZGU6bn0pfSx0aGlzLmlzX2NoZWNrZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj90aGlzLmlzX3NlbGVjdGVkKHQpOiEoISh0PXRoaXMuZ2V0X25vZGUodCkpfHx0LmlkPT09ZS5qc3RyZWUucm9vdCkmJnQuc3RhdGUuY2hlY2tlZH0sdGhpcy5nZXRfY2hlY2tlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uP3RoaXMuZ2V0X3NlbGVjdGVkKHQpOnQ/ZS5tYXAodGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZCxlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldF9ub2RlKGUpfSx0aGlzKSk6dGhpcy5fZGF0YS5jaGVja2JveC5zZWxlY3RlZH0sdGhpcy5nZXRfdG9wX2NoZWNrZWQ9ZnVuY3Rpb24odCl7aWYodGhpcy5zZXR0aW5ncy5jaGVja2JveC50aWVfc2VsZWN0aW9uKXJldHVybiB0aGlzLmdldF90b3Bfc2VsZWN0ZWQodCk7dmFyIG4scixpLHMsYT10aGlzLmdldF9jaGVja2VkKCEwKSxvPXt9O2ZvcihuPTAscj1hLmxlbmd0aDtuPHI7bisrKW9bYVtuXS5pZF09YVtuXTtmb3Iobj0wLHI9YS5sZW5ndGg7bjxyO24rKylmb3IoaT0wLHM9YVtuXS5jaGlsZHJlbl9kLmxlbmd0aDtpPHM7aSsrKW9bYVtuXS5jaGlsZHJlbl9kW2ldXSYmZGVsZXRlIG9bYVtuXS5jaGlsZHJlbl9kW2ldXTtmb3IobiBpbiBhPVtdLG8pby5oYXNPd25Qcm9wZXJ0eShuKSYmYS5wdXNoKG4pO3JldHVybiB0P2UubWFwKGEsZS5wcm94eShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZShlKX0sdGhpcykpOmF9LHRoaXMuZ2V0X2JvdHRvbV9jaGVja2VkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbilyZXR1cm4gdGhpcy5nZXRfYm90dG9tX3NlbGVjdGVkKHQpO3ZhciBuLHIsaT10aGlzLmdldF9jaGVja2VkKCEwKSxzPVtdO2ZvcihuPTAscj1pLmxlbmd0aDtuPHI7bisrKWlbbl0uY2hpbGRyZW4ubGVuZ3RofHxzLnB1c2goaVtuXS5pZCk7cmV0dXJuIHQ/ZS5tYXAocyxlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldF9ub2RlKGUpfSx0aGlzKSk6c30sdGhpcy5sb2FkX25vZGU9ZnVuY3Rpb24odCxuKXt2YXIgaSxzLGE7aWYoIWUuaXNBcnJheSh0KSYmIXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbiYmKGE9dGhpcy5nZXRfbm9kZSh0KSkmJmEuc3RhdGUubG9hZGVkKWZvcihpPTAscz1hLmNoaWxkcmVuX2QubGVuZ3RoO2k8cztpKyspdGhpcy5fbW9kZWwuZGF0YVthLmNoaWxkcmVuX2RbaV1dLnN0YXRlLmNoZWNrZWQmJih0aGlzLl9kYXRhLmNoZWNrYm94LnNlbGVjdGVkPWUudmFrYXRhLmFycmF5X3JlbW92ZV9pdGVtKHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQsYS5jaGlsZHJlbl9kW2ldKSk7cmV0dXJuIHIubG9hZF9ub2RlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdGhpcy5nZXRfc3RhdGU9ZnVuY3Rpb24oKXt2YXIgZT1yLmdldF9zdGF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbj9lOihlLmNoZWNrYm94PXRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQuc2xpY2UoKSxlKX0sdGhpcy5zZXRfc3RhdGU9ZnVuY3Rpb24odCxuKXt2YXIgaT1yLnNldF9zdGF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoaSYmdC5jaGVja2JveCl7aWYoIXRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbil7dGhpcy51bmNoZWNrX2FsbCgpO3ZhciBzPXRoaXM7ZS5lYWNoKHQuY2hlY2tib3gsZnVuY3Rpb24oZSx0KXtzLmNoZWNrX25vZGUodCl9KX1yZXR1cm4gZGVsZXRlIHQuY2hlY2tib3gsdGhpcy5zZXRfc3RhdGUodCxuKSwhMX1yZXR1cm4gaX0sdGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MuY2hlY2tib3gudGllX3NlbGVjdGlvbnx8KHRoaXMuX2RhdGEuY2hlY2tib3guc2VsZWN0ZWQ9W10pLHIucmVmcmVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxlLmpzdHJlZS5kZWZhdWx0cy5jb25kaXRpb25hbHNlbGVjdD1mdW5jdGlvbigpe3JldHVybiEwfSxlLmpzdHJlZS5wbHVnaW5zLmNvbmRpdGlvbmFsc2VsZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5hY3RpdmF0ZV9ub2RlPWZ1bmN0aW9uKGUsbil7aWYodGhpcy5zZXR0aW5ncy5jb25kaXRpb25hbHNlbGVjdC5jYWxsKHRoaXMsdGhpcy5nZXRfbm9kZShlKSxuKSlyZXR1cm4gdC5hY3RpdmF0ZV9ub2RlLmNhbGwodGhpcyxlLG4pfX0sZS5qc3RyZWUuZGVmYXVsdHMuY29udGV4dG1lbnU9e3NlbGVjdF9ub2RlOiEwLHNob3dfYXRfbm9kZTohMCxpdGVtczpmdW5jdGlvbih0LG4pe3JldHVybntjcmVhdGU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsc2VwYXJhdG9yX2FmdGVyOiEwLF9kaXNhYmxlZDohMSxsYWJlbDpcIkNyZWF0ZVwiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgbj1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHI9bi5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7bi5jcmVhdGVfbm9kZShyLHt9LFwibGFzdFwiLGZ1bmN0aW9uKGUpe3RyeXtuLmVkaXQoZSl9Y2F0Y2godCl7c2V0VGltZW91dChmdW5jdGlvbigpe24uZWRpdChlKX0sMCl9fSl9fSxyZW5hbWU6e3NlcGFyYXRvcl9iZWZvcmU6ITEsc2VwYXJhdG9yX2FmdGVyOiExLF9kaXNhYmxlZDohMSxsYWJlbDpcIlJlbmFtZVwiLFxuLyohXG4gICAgIFwic2hvcnRjdXRcIlx0XHRcdDogMTEzLFxuICAgICBcInNob3J0Y3V0X2xhYmVsXCJcdDogJ0YyJyxcbiAgICAgXCJpY29uXCJcdFx0XHRcdDogXCJnbHlwaGljb24gZ2x5cGhpY29uLWxlYWZcIixcbiAgICAgKi9cbmFjdGlvbjpmdW5jdGlvbih0KXt2YXIgbj1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHI9bi5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7bi5lZGl0KHIpfX0scmVtb3ZlOntzZXBhcmF0b3JfYmVmb3JlOiExLGljb246ITEsc2VwYXJhdG9yX2FmdGVyOiExLF9kaXNhYmxlZDohMSxsYWJlbDpcIkRlbGV0ZVwiLGFjdGlvbjpmdW5jdGlvbih0KXt2YXIgbj1lLmpzdHJlZS5yZWZlcmVuY2UodC5yZWZlcmVuY2UpLHI9bi5nZXRfbm9kZSh0LnJlZmVyZW5jZSk7bi5pc19zZWxlY3RlZChyKT9uLmRlbGV0ZV9ub2RlKG4uZ2V0X3NlbGVjdGVkKCkpOm4uZGVsZXRlX25vZGUocil9fSxjY3A6e3NlcGFyYXRvcl9iZWZvcmU6ITAsaWNvbjohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsbGFiZWw6XCJFZGl0XCIsYWN0aW9uOiExLHN1Ym1lbnU6e2N1dDp7c2VwYXJhdG9yX2JlZm9yZTohMSxzZXBhcmF0b3JfYWZ0ZXI6ITEsbGFiZWw6XCJDdXRcIixhY3Rpb246ZnVuY3Rpb24odCl7dmFyIG49ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxyPW4uZ2V0X25vZGUodC5yZWZlcmVuY2UpO24uaXNfc2VsZWN0ZWQocik/bi5jdXQobi5nZXRfdG9wX3NlbGVjdGVkKCkpOm4uY3V0KHIpfX0sY29weTp7c2VwYXJhdG9yX2JlZm9yZTohMSxpY29uOiExLHNlcGFyYXRvcl9hZnRlcjohMSxsYWJlbDpcIkNvcHlcIixhY3Rpb246ZnVuY3Rpb24odCl7dmFyIG49ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxyPW4uZ2V0X25vZGUodC5yZWZlcmVuY2UpO24uaXNfc2VsZWN0ZWQocik/bi5jb3B5KG4uZ2V0X3RvcF9zZWxlY3RlZCgpKTpuLmNvcHkocil9fSxwYXN0ZTp7c2VwYXJhdG9yX2JlZm9yZTohMSxpY29uOiExLF9kaXNhYmxlZDpmdW5jdGlvbih0KXtyZXR1cm4hZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKS5jYW5fcGFzdGUoKX0sc2VwYXJhdG9yX2FmdGVyOiExLGxhYmVsOlwiUGFzdGVcIixhY3Rpb246ZnVuY3Rpb24odCl7dmFyIG49ZS5qc3RyZWUucmVmZXJlbmNlKHQucmVmZXJlbmNlKSxyPW4uZ2V0X25vZGUodC5yZWZlcmVuY2UpO24ucGFzdGUocil9fX19fX19LGUuanN0cmVlLnBsdWdpbnMuY29udGV4dG1lbnU9ZnVuY3Rpb24obixyKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtyLmJpbmQuY2FsbCh0aGlzKTt2YXIgdCxuLGk9MCxzPW51bGw7dGhpcy5lbGVtZW50Lm9uKFwiaW5pdC5qc3RyZWUgbG9hZGluZy5qc3RyZWUgcmVhZHkuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuZ2V0X2NvbnRhaW5lcl91bCgpLmFkZENsYXNzKFwianN0cmVlLWNvbnRleHRtZW51XCIpfSx0aGlzKSkub24oXCJjb250ZXh0bWVudS5qc3RyZWVcIixcIi5qc3RyZWUtYW5jaG9yXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe1wiaW5wdXRcIiE9PWUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKGUucHJldmVudERlZmF1bHQoKSxpPWUuY3RybEtleT8rbmV3IERhdGU6MCwodHx8cykmJihpPStuZXcgRGF0ZSsxZTQpLHMmJmNsZWFyVGltZW91dChzKSx0aGlzLmlzX2xvYWRpbmcoZS5jdXJyZW50VGFyZ2V0KXx8dGhpcy5zaG93X2NvbnRleHRtZW51KGUuY3VycmVudFRhcmdldCxlLnBhZ2VYLGUucGFnZVksZSkpfSx0aGlzKSkub24oXCJjbGljay5qc3RyZWVcIixcIi5qc3RyZWUtYW5jaG9yXCIsZS5wcm94eShmdW5jdGlvbih0KXt0aGlzLl9kYXRhLmNvbnRleHRtZW51LnZpc2libGUmJighaXx8K25ldyBEYXRlLWk+MjUwKSYmZS52YWthdGEuY29udGV4dC5oaWRlKCksaT0wfSx0aGlzKSkub24oXCJ0b3VjaHN0YXJ0LmpzdHJlZVwiLFwiLmpzdHJlZS1hbmNob3JcIixmdW5jdGlvbihyKXtyLm9yaWdpbmFsRXZlbnQmJnIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyYmci5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdJiYodD1yLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCxuPXIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZLHM9c2V0VGltZW91dChmdW5jdGlvbigpe2Uoci5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKFwiY29udGV4dG1lbnVcIiwhMCl9LDc1MCkpfSkub24oXCJ0b3VjaG1vdmUudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKHIpe3MmJnIub3JpZ2luYWxFdmVudCYmci5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzJiZyLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0mJihNYXRoLmFicyh0LXIub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYKT4xMHx8TWF0aC5hYnMobi1yLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSk+MTApJiYoY2xlYXJUaW1lb3V0KHMpLGUudmFrYXRhLmNvbnRleHQuaGlkZSgpKX0pLm9uKFwidG91Y2hlbmQudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKGUpe3MmJmNsZWFyVGltZW91dChzKX0pLFxuLyohXG4gICBpZighKCdvbmNvbnRleHRtZW51JyBpbiBkb2N1bWVudC5ib2R5KSAmJiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuYm9keSkpIHtcbiAgIFx0dmFyIGVsID0gbnVsbCwgdG0gPSBudWxsO1xuICAgXHR0aGlzLmVsZW1lbnRcbiAgIFx0XHQub24oXCJ0b3VjaHN0YXJ0XCIsIFwiLmpzdHJlZS1hbmNob3JcIiwgZnVuY3Rpb24gKGUpIHtcbiAgIFx0XHRcdGVsID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgXHRcdFx0dG0gPSArbmV3IERhdGUoKTtcbiAgIFx0XHRcdCQoZG9jdW1lbnQpLm9uZShcInRvdWNoZW5kXCIsIGZ1bmN0aW9uIChlKSB7XG4gICBcdFx0XHRcdGUudGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCAtIHdpbmRvdy5wYWdlWE9mZnNldCwgZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgLSB3aW5kb3cucGFnZVlPZmZzZXQpO1xuICAgXHRcdFx0XHRlLmN1cnJlbnRUYXJnZXQgPSBlLnRhcmdldDtcbiAgIFx0XHRcdFx0dG0gPSAoKCsobmV3IERhdGUoKSkpIC0gdG0pO1xuICAgXHRcdFx0XHRpZihlLnRhcmdldCA9PT0gZWwgJiYgdG0gPiA2MDAgJiYgdG0gPCAxMDAwKSB7XG4gICBcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgXHRcdFx0XHRcdCQoZWwpLnRyaWdnZXIoJ2NvbnRleHRtZW51JywgZSk7XG4gICBcdFx0XHRcdH1cbiAgIFx0XHRcdFx0ZWwgPSBudWxsO1xuICAgXHRcdFx0XHR0bSA9IG51bGw7XG4gICBcdFx0XHR9KTtcbiAgIFx0XHR9KTtcbiAgIH1cbiAgICovXG5lKGMpLm9uKFwiY29udGV4dF9oaWRlLnZha2F0YS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7dGhpcy5fZGF0YS5jb250ZXh0bWVudS52aXNpYmxlPSExLGUobi5yZWZlcmVuY2UpLnJlbW92ZUNsYXNzKFwianN0cmVlLWNvbnRleHRcIil9LHRoaXMpKX0sdGhpcy50ZWFyZG93bj1mdW5jdGlvbigpe3RoaXMuX2RhdGEuY29udGV4dG1lbnUudmlzaWJsZSYmZS52YWthdGEuY29udGV4dC5oaWRlKCksci50ZWFyZG93bi5jYWxsKHRoaXMpfSx0aGlzLnNob3dfY29udGV4dG1lbnU9ZnVuY3Rpb24obixyLGkscyl7aWYoIShuPXRoaXMuZ2V0X25vZGUobikpfHxuLmlkPT09ZS5qc3RyZWUucm9vdClyZXR1cm4hMTt2YXIgYT10aGlzLnNldHRpbmdzLmNvbnRleHRtZW51LG89dGhpcy5nZXRfbm9kZShuLCEwKSxkPW8uY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKSxjPSExLGw9ITE7KGEuc2hvd19hdF9ub2RlfHxyPT09dHx8aT09PXQpJiYoYz1kLm9mZnNldCgpLHI9Yy5sZWZ0LGk9Yy50b3ArdGhpcy5fZGF0YS5jb3JlLmxpX2hlaWdodCksdGhpcy5zZXR0aW5ncy5jb250ZXh0bWVudS5zZWxlY3Rfbm9kZSYmIXRoaXMuaXNfc2VsZWN0ZWQobikmJnRoaXMuYWN0aXZhdGVfbm9kZShuLHMpLGw9YS5pdGVtcyxlLmlzRnVuY3Rpb24obCkmJihsPWwuY2FsbCh0aGlzLG4sZS5wcm94eShmdW5jdGlvbihlKXt0aGlzLl9zaG93X2NvbnRleHRtZW51KG4scixpLGUpfSx0aGlzKSkpLGUuaXNQbGFpbk9iamVjdChsKSYmdGhpcy5fc2hvd19jb250ZXh0bWVudShuLHIsaSxsKX0sdGhpcy5fc2hvd19jb250ZXh0bWVudT1mdW5jdGlvbih0LG4scixpKXt2YXIgcz10aGlzLmdldF9ub2RlKHQsITApLGE9cy5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpO2UoYykub25lKFwiY29udGV4dF9zaG93LnZha2F0YS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7dmFyIHI9XCJqc3RyZWUtY29udGV4dG1lbnUganN0cmVlLVwiK3RoaXMuZ2V0X3RoZW1lKCkrXCItY29udGV4dG1lbnVcIjtlKG4uZWxlbWVudCkuYWRkQ2xhc3MociksYS5hZGRDbGFzcyhcImpzdHJlZS1jb250ZXh0XCIpfSx0aGlzKSksdGhpcy5fZGF0YS5jb250ZXh0bWVudS52aXNpYmxlPSEwLGUudmFrYXRhLmNvbnRleHQuc2hvdyhhLHt4Om4seTpyfSxpKSx0aGlzLnRyaWdnZXIoXCJzaG93X2NvbnRleHRtZW51XCIse25vZGU6dCx4Om4seTpyfSl9fSxmdW5jdGlvbihlKXt2YXIgdD0hMSxuPXtlbGVtZW50OiExLHJlZmVyZW5jZTohMSxwb3NpdGlvbl94OjAscG9zaXRpb25feTowLGl0ZW1zOltdLGh0bWw6XCJcIixpc192aXNpYmxlOiExfTtlLnZha2F0YS5jb250ZXh0PXtzZXR0aW5nczp7aGlkZV9vbm1vdXNlbGVhdmU6MCxpY29uczohMH0sX3RyaWdnZXI6ZnVuY3Rpb24odCl7ZShjKS50cmlnZ2VySGFuZGxlcihcImNvbnRleHRfXCIrdCtcIi52YWthdGFcIix7cmVmZXJlbmNlOm4ucmVmZXJlbmNlLGVsZW1lbnQ6bi5lbGVtZW50LHBvc2l0aW9uOnt4Om4ucG9zaXRpb25feCx5Om4ucG9zaXRpb25feX19KX0sX2V4ZWN1dGU6ZnVuY3Rpb24odCl7cmV0dXJuISghKHQ9bi5pdGVtc1t0XSl8fHQuX2Rpc2FibGVkJiYoIWUuaXNGdW5jdGlvbih0Ll9kaXNhYmxlZCl8fHQuX2Rpc2FibGVkKHtpdGVtOnQscmVmZXJlbmNlOm4ucmVmZXJlbmNlLGVsZW1lbnQ6bi5lbGVtZW50fSkpfHwhdC5hY3Rpb24pJiZ0LmFjdGlvbi5jYWxsKG51bGwse2l0ZW06dCxyZWZlcmVuY2U6bi5yZWZlcmVuY2UsZWxlbWVudDpuLmVsZW1lbnQscG9zaXRpb246e3g6bi5wb3NpdGlvbl94LHk6bi5wb3NpdGlvbl95fX0pfSxfcGFyc2U6ZnVuY3Rpb24odCxyKXtpZighdClyZXR1cm4hMTtyfHwobi5odG1sPVwiXCIsbi5pdGVtcz1bXSk7dmFyIGkscz1cIlwiLGE9ITE7cmV0dXJuIHImJihzKz1cIjx1bD5cIiksZS5lYWNoKHQsZnVuY3Rpb24odCxyKXtpZighcilyZXR1cm4hMDtuLml0ZW1zLnB1c2gociksIWEmJnIuc2VwYXJhdG9yX2JlZm9yZSYmKHMrPVwiPGxpIGNsYXNzPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InPjxhIGhyZWY9JyMnIFwiKyhlLnZha2F0YS5jb250ZXh0LnNldHRpbmdzLmljb25zP1wiXCI6J3N0eWxlPVwibWFyZ2luLWxlZnQ6MHB4O1wiJykrXCI+JiMxNjA7PC9hPjwvbGk+XCIpLGE9ITEscys9XCI8bGkgY2xhc3M9J1wiKyhyLl9jbGFzc3x8XCJcIikrKCEwPT09ci5fZGlzYWJsZWR8fGUuaXNGdW5jdGlvbihyLl9kaXNhYmxlZCkmJnIuX2Rpc2FibGVkKHtpdGVtOnIscmVmZXJlbmNlOm4ucmVmZXJlbmNlLGVsZW1lbnQ6bi5lbGVtZW50fSk/XCIgdmFrYXRhLWNvbnRleHRtZW51LWRpc2FibGVkIFwiOlwiXCIpK1wiJyBcIisoci5zaG9ydGN1dD9cIiBkYXRhLXNob3J0Y3V0PSdcIityLnNob3J0Y3V0K1wiJyBcIjpcIlwiKStcIj5cIixzKz1cIjxhIGhyZWY9JyMnIHJlbD0nXCIrKG4uaXRlbXMubGVuZ3RoLTEpK1wiJyBcIisoci50aXRsZT9cInRpdGxlPSdcIityLnRpdGxlK1wiJ1wiOlwiXCIpK1wiPlwiLGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaWNvbnMmJihzKz1cIjxpIFwiLHIuaWNvbiYmKC0xIT09ci5pY29uLmluZGV4T2YoXCIvXCIpfHwtMSE9PXIuaWNvbi5pbmRleE9mKFwiLlwiKT9zKz1cIiBzdHlsZT0nYmFja2dyb3VuZDp1cmwoXFxcIlwiK3IuaWNvbitcIlxcXCIpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0JyBcIjpzKz1cIiBjbGFzcz0nXCIrci5pY29uK1wiJyBcIikscys9XCI+PC9pPjxzcGFuIGNsYXNzPSd2YWthdGEtY29udGV4dG1lbnUtc2VwJz4mIzE2MDs8L3NwYW4+XCIpLHMrPShlLmlzRnVuY3Rpb24oci5sYWJlbCk/ci5sYWJlbCh7aXRlbTp0LHJlZmVyZW5jZTpuLnJlZmVyZW5jZSxlbGVtZW50Om4uZWxlbWVudH0pOnIubGFiZWwpKyhyLnNob3J0Y3V0PycgPHNwYW4gY2xhc3M9XCJ2YWthdGEtY29udGV4dG1lbnUtc2hvcnRjdXQgdmFrYXRhLWNvbnRleHRtZW51LXNob3J0Y3V0LScrci5zaG9ydGN1dCsnXCI+Jysoci5zaG9ydGN1dF9sYWJlbHx8XCJcIikrXCI8L3NwYW4+XCI6XCJcIikrXCI8L2E+XCIsci5zdWJtZW51JiYoaT1lLnZha2F0YS5jb250ZXh0Ll9wYXJzZShyLnN1Ym1lbnUsITApKSYmKHMrPWkpLHMrPVwiPC9saT5cIixyLnNlcGFyYXRvcl9hZnRlciYmKHMrPVwiPGxpIGNsYXNzPSd2YWthdGEtY29udGV4dC1zZXBhcmF0b3InPjxhIGhyZWY9JyMnIFwiKyhlLnZha2F0YS5jb250ZXh0LnNldHRpbmdzLmljb25zP1wiXCI6J3N0eWxlPVwibWFyZ2luLWxlZnQ6MHB4O1wiJykrXCI+JiMxNjA7PC9hPjwvbGk+XCIsYT0hMCl9KSxzPXMucmVwbGFjZSgvPGxpIGNsYXNzXFw9J3Zha2F0YS1jb250ZXh0LXNlcGFyYXRvcidcXD48XFwvbGlcXD4kLyxcIlwiKSxyJiYocys9XCI8L3VsPlwiKSxyfHwobi5odG1sPXMsZS52YWthdGEuY29udGV4dC5fdHJpZ2dlcihcInBhcnNlXCIpKSxzLmxlbmd0aD4xMCYmc30sX3Nob3dfc3VibWVudTpmdW5jdGlvbihuKXtpZigobj1lKG4pKS5sZW5ndGgmJm4uY2hpbGRyZW4oXCJ1bFwiKS5sZW5ndGgpe3ZhciByPW4uY2hpbGRyZW4oXCJ1bFwiKSxpPW4ub2Zmc2V0KCkubGVmdCxzPWkrbi5vdXRlcldpZHRoKCksYT1uLm9mZnNldCgpLnRvcCxvPXIud2lkdGgoKSxkPXIuaGVpZ2h0KCksYz1lKHdpbmRvdykud2lkdGgoKStlKHdpbmRvdykuc2Nyb2xsTGVmdCgpLGw9ZSh3aW5kb3cpLmhlaWdodCgpK2Uod2luZG93KS5zY3JvbGxUb3AoKTt0P25bcy0obysxMCtuLm91dGVyV2lkdGgoKSk8MD9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcInZha2F0YS1jb250ZXh0LWxlZnRcIik6bltzK28+YyYmaT5jLXM/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJ2YWthdGEtY29udGV4dC1yaWdodFwiKSxhK2QrMTA+bCYmci5jc3MoXCJib3R0b21cIixcIi0xcHhcIiksbi5oYXNDbGFzcyhcInZha2F0YS1jb250ZXh0LXJpZ2h0XCIpP2k8byYmci5jc3MoXCJtYXJnaW4tcmlnaHRcIixpLW8pOmMtczxvJiZyLmNzcyhcIm1hcmdpbi1sZWZ0XCIsYy1zLW8pLHIuc2hvdygpfX0sc2hvdzpmdW5jdGlvbihyLGkscyl7dmFyIGEsbyxkLGMsbCxoLHUsZjtzd2l0Y2gobi5lbGVtZW50JiZuLmVsZW1lbnQubGVuZ3RoJiZuLmVsZW1lbnQud2lkdGgoXCJcIiksITApe2Nhc2UhaSYmIXI6cmV0dXJuITE7Y2FzZSEhaSYmISFyOm4ucmVmZXJlbmNlPXIsbi5wb3NpdGlvbl94PWkueCxuLnBvc2l0aW9uX3k9aS55O2JyZWFrO2Nhc2UhaSYmISFyOm4ucmVmZXJlbmNlPXIsYT1yLm9mZnNldCgpLG4ucG9zaXRpb25feD1hLmxlZnQrci5vdXRlckhlaWdodCgpLG4ucG9zaXRpb25feT1hLnRvcDticmVhaztjYXNlISFpJiYhcjpuLnBvc2l0aW9uX3g9aS54LG4ucG9zaXRpb25feT1pLnl9ciYmIXMmJmUocikuZGF0YShcInZha2F0YV9jb250ZXh0bWVudVwiKSYmKHM9ZShyKS5kYXRhKFwidmFrYXRhX2NvbnRleHRtZW51XCIpKSxlLnZha2F0YS5jb250ZXh0Ll9wYXJzZShzKSYmbi5lbGVtZW50Lmh0bWwobi5odG1sKSxuLml0ZW1zLmxlbmd0aCYmKG4uZWxlbWVudC5hcHBlbmRUbyhcImJvZHlcIiksbz1uLmVsZW1lbnQsZD1uLnBvc2l0aW9uX3gsYz1uLnBvc2l0aW9uX3ksbD1vLndpZHRoKCksaD1vLmhlaWdodCgpLHU9ZSh3aW5kb3cpLndpZHRoKCkrZSh3aW5kb3cpLnNjcm9sbExlZnQoKSxmPWUod2luZG93KS5oZWlnaHQoKStlKHdpbmRvdykuc2Nyb2xsVG9wKCksdCYmKGQtPW8ub3V0ZXJXaWR0aCgpLWUocikub3V0ZXJXaWR0aCgpKTxlKHdpbmRvdykuc2Nyb2xsTGVmdCgpKzIwJiYoZD1lKHdpbmRvdykuc2Nyb2xsTGVmdCgpKzIwKSxkK2wrMjA+dSYmKGQ9dS0obCsyMCkpLGMraCsyMD5mJiYoYz1mLShoKzIwKSksbi5lbGVtZW50LmNzcyh7bGVmdDpkLHRvcDpjfSkuc2hvdygpLmZpbmQoXCJhXCIpLmZpcnN0KCkuZm9jdXMoKS5wYXJlbnQoKS5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLG4uaXNfdmlzaWJsZT0hMCxlLnZha2F0YS5jb250ZXh0Ll90cmlnZ2VyKFwic2hvd1wiKSl9LGhpZGU6ZnVuY3Rpb24oKXtuLmlzX3Zpc2libGUmJihuLmVsZW1lbnQuaGlkZSgpLmZpbmQoXCJ1bFwiKS5oaWRlKCkuZW5kKCkuZmluZChcIjpmb2N1c1wiKS5ibHVyKCkuZW5kKCkuZGV0YWNoKCksbi5pc192aXNpYmxlPSExLGUudmFrYXRhLmNvbnRleHQuX3RyaWdnZXIoXCJoaWRlXCIpKX19LGUoZnVuY3Rpb24oKXt0PVwicnRsXCI9PT1lKFwiYm9keVwiKS5jc3MoXCJkaXJlY3Rpb25cIik7dmFyIHI9ITE7bi5lbGVtZW50PWUoXCI8dWwgY2xhc3M9J3Zha2F0YS1jb250ZXh0Jz48L3VsPlwiKSxuLmVsZW1lbnQub24oXCJtb3VzZWVudGVyXCIsXCJsaVwiLGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5jb250YWlucyh0aGlzLHQucmVsYXRlZFRhcmdldCl8fChyJiZjbGVhclRpbWVvdXQociksbi5lbGVtZW50LmZpbmQoXCIudmFrYXRhLWNvbnRleHQtaG92ZXJcIikucmVtb3ZlQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKS5lbmQoKSxlKHRoaXMpLnNpYmxpbmdzKCkuZmluZChcInVsXCIpLmhpZGUoKS5lbmQoKS5lbmQoKS5wYXJlbnRzVW50aWwoXCIudmFrYXRhLWNvbnRleHRcIixcImxpXCIpLmFkZEJhY2soKS5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLGUudmFrYXRhLmNvbnRleHQuX3Nob3dfc3VibWVudSh0aGlzKSl9KS5vbihcIm1vdXNlbGVhdmVcIixcImxpXCIsZnVuY3Rpb24odCl7ZS5jb250YWlucyh0aGlzLHQucmVsYXRlZFRhcmdldCl8fGUodGhpcykuZmluZChcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5hZGRCYWNrKCkucmVtb3ZlQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKX0pLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKHQpe2UodGhpcykuZmluZChcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5yZW1vdmVDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLGUudmFrYXRhLmNvbnRleHQuc2V0dGluZ3MuaGlkZV9vbm1vdXNlbGVhdmUmJihyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnZha2F0YS5jb250ZXh0LmhpZGUoKX0sZS52YWthdGEuY29udGV4dC5zZXR0aW5ncy5oaWRlX29ubW91c2VsZWF2ZSkpfSkub24oXCJjbGlja1wiLFwiYVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxlKHRoaXMpLmJsdXIoKS5wYXJlbnQoKS5oYXNDbGFzcyhcInZha2F0YS1jb250ZXh0LWRpc2FibGVkXCIpfHwhMT09PWUudmFrYXRhLmNvbnRleHQuX2V4ZWN1dGUoZSh0aGlzKS5hdHRyKFwicmVsXCIpKXx8ZS52YWthdGEuY29udGV4dC5oaWRlKCl9KS5vbihcImtleWRvd25cIixcImFcIixmdW5jdGlvbih0KXt2YXIgcj1udWxsO3N3aXRjaCh0LndoaWNoKXtjYXNlIDEzOmNhc2UgMzI6dC50eXBlPVwiY2xpY2tcIix0LnByZXZlbnREZWZhdWx0KCksZSh0LmN1cnJlbnRUYXJnZXQpLnRyaWdnZXIodCk7YnJlYWs7Y2FzZSAzNzpuLmlzX3Zpc2libGUmJihuLmVsZW1lbnQuZmluZChcIi52YWthdGEtY29udGV4dC1ob3ZlclwiKS5sYXN0KCkuY2xvc2VzdChcImxpXCIpLmZpcnN0KCkuZmluZChcInVsXCIpLmhpZGUoKS5maW5kKFwiLnZha2F0YS1jb250ZXh0LWhvdmVyXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuZW5kKCkuZW5kKCkuY2hpbGRyZW4oXCJhXCIpLmZvY3VzKCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2Nhc2UgMzg6bi5pc192aXNpYmxlJiYoKHI9bi5lbGVtZW50LmZpbmQoXCJ1bDp2aXNpYmxlXCIpLmFkZEJhY2soKS5sYXN0KCkuY2hpbGRyZW4oXCIudmFrYXRhLWNvbnRleHQtaG92ZXJcIikucmVtb3ZlQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKS5wcmV2QWxsKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLmZpcnN0KCkpLmxlbmd0aHx8KHI9bi5lbGVtZW50LmZpbmQoXCJ1bDp2aXNpYmxlXCIpLmFkZEJhY2soKS5sYXN0KCkuY2hpbGRyZW4oXCJsaTpub3QoLnZha2F0YS1jb250ZXh0LXNlcGFyYXRvcilcIikubGFzdCgpKSxyLmFkZENsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuY2hpbGRyZW4oXCJhXCIpLmZvY3VzKCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2Nhc2UgMzk6bi5pc192aXNpYmxlJiYobi5lbGVtZW50LmZpbmQoXCIudmFrYXRhLWNvbnRleHQtaG92ZXJcIikubGFzdCgpLmNoaWxkcmVuKFwidWxcIikuc2hvdygpLmNoaWxkcmVuKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikuZmlyc3QoKS5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LWhvdmVyXCIpLmNoaWxkcmVuKFwiYVwiKS5mb2N1cygpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpKTticmVhaztjYXNlIDQwOm4uaXNfdmlzaWJsZSYmKChyPW4uZWxlbWVudC5maW5kKFwidWw6dmlzaWJsZVwiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKFwiLnZha2F0YS1jb250ZXh0LWhvdmVyXCIpLnJlbW92ZUNsYXNzKFwidmFrYXRhLWNvbnRleHQtaG92ZXJcIikubmV4dEFsbChcImxpOm5vdCgudmFrYXRhLWNvbnRleHQtc2VwYXJhdG9yKVwiKS5maXJzdCgpKS5sZW5ndGh8fChyPW4uZWxlbWVudC5maW5kKFwidWw6dmlzaWJsZVwiKS5hZGRCYWNrKCkubGFzdCgpLmNoaWxkcmVuKFwibGk6bm90KC52YWthdGEtY29udGV4dC1zZXBhcmF0b3IpXCIpLmZpcnN0KCkpLHIuYWRkQ2xhc3MoXCJ2YWthdGEtY29udGV4dC1ob3ZlclwiKS5jaGlsZHJlbihcImFcIikuZm9jdXMoKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSk7YnJlYWs7Y2FzZSAyNzplLnZha2F0YS5jb250ZXh0LmhpZGUoKSx0LnByZXZlbnREZWZhdWx0KCl9fSkub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PW4uZWxlbWVudC5maW5kKFwiLnZha2F0YS1jb250ZXh0bWVudS1zaG9ydGN1dC1cIitlLndoaWNoKS5wYXJlbnQoKTt0LnBhcmVudCgpLm5vdChcIi52YWthdGEtY29udGV4dC1kaXNhYmxlZFwiKSYmdC5jbGljaygpfSksZShjKS5vbihcIm1vdXNlZG93bi52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24odCl7bi5pc192aXNpYmxlJiZuLmVsZW1lbnRbMF0hPT10LnRhcmdldCYmIWUuY29udGFpbnMobi5lbGVtZW50WzBdLHQudGFyZ2V0KSYmZS52YWthdGEuY29udGV4dC5oaWRlKCl9KS5vbihcImNvbnRleHRfc2hvdy52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24oZSxyKXtuLmVsZW1lbnQuZmluZChcImxpOmhhcyh1bClcIikuY2hpbGRyZW4oXCJhXCIpLmFkZENsYXNzKFwidmFrYXRhLWNvbnRleHQtcGFyZW50XCIpLHQmJm4uZWxlbWVudC5hZGRDbGFzcyhcInZha2F0YS1jb250ZXh0LXJ0bFwiKS5jc3MoXCJkaXJlY3Rpb25cIixcInJ0bFwiKSxuLmVsZW1lbnQuZmluZChcInVsXCIpLmhpZGUoKS5lbmQoKX0pfSl9KGUpLGUuanN0cmVlLmRlZmF1bHRzLmRuZD17Y29weTohMCxvcGVuX3RpbWVvdXQ6NTAwLGlzX2RyYWdnYWJsZTohMCxjaGVja193aGlsZV9kcmFnZ2luZzohMCxhbHdheXNfY29weTohMSxpbnNpZGVfcG9zOjAsZHJhZ19zZWxlY3Rpb246ITAsdG91Y2g6ITAsbGFyZ2VfZHJvcF90YXJnZXQ6ITEsbGFyZ2VfZHJhZ190YXJnZXQ6ITEsdXNlX2h0bWw1OiExfSxlLmpzdHJlZS5wbHVnaW5zLmRuZD1mdW5jdGlvbih0LG4pe3RoaXMuaW5pdD1mdW5jdGlvbihlLHQpe24uaW5pdC5jYWxsKHRoaXMsZSx0KSx0aGlzLnNldHRpbmdzLmRuZC51c2VfaHRtbDU9dGhpcy5zZXR0aW5ncy5kbmQudXNlX2h0bWw1JiZcImRyYWdnYWJsZVwiaW4gYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKX0sdGhpcy5iaW5kPWZ1bmN0aW9uKCl7bi5iaW5kLmNhbGwodGhpcyksdGhpcy5lbGVtZW50Lm9uKHRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNT9cImRyYWdzdGFydC5qc3RyZWVcIjpcIm1vdXNlZG93bi5qc3RyZWUgdG91Y2hzdGFydC5qc3RyZWVcIix0aGlzLnNldHRpbmdzLmRuZC5sYXJnZV9kcmFnX3RhcmdldD9cIi5qc3RyZWUtbm9kZVwiOlwiLmpzdHJlZS1hbmNob3JcIixlLnByb3h5KGZ1bmN0aW9uKHQpe2lmKHRoaXMuc2V0dGluZ3MuZG5kLmxhcmdlX2RyYWdfdGFyZ2V0JiZlKHQudGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpWzBdIT09dC5jdXJyZW50VGFyZ2V0KXJldHVybiEwO2lmKFwidG91Y2hzdGFydFwiPT09dC50eXBlJiYoIXRoaXMuc2V0dGluZ3MuZG5kLnRvdWNofHxcInNlbGVjdGVkXCI9PT10aGlzLnNldHRpbmdzLmRuZC50b3VjaCYmIWUodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuaGFzQ2xhc3MoXCJqc3RyZWUtY2xpY2tlZFwiKSkpcmV0dXJuITA7dmFyIG49dGhpcy5nZXRfbm9kZSh0LnRhcmdldCkscj10aGlzLmlzX3NlbGVjdGVkKG4pJiZ0aGlzLnNldHRpbmdzLmRuZC5kcmFnX3NlbGVjdGlvbj90aGlzLmdldF90b3Bfc2VsZWN0ZWQoKS5sZW5ndGg6MSxpPXI+MT9yK1wiIFwiK3RoaXMuZ2V0X3N0cmluZyhcIm5vZGVzXCIpOnRoaXMuZ2V0X3RleHQodC5jdXJyZW50VGFyZ2V0KTtpZih0aGlzLnNldHRpbmdzLmNvcmUuZm9yY2VfdGV4dCYmKGk9ZS52YWthdGEuaHRtbC5lc2NhcGUoaSkpLG4mJm4uaWQmJm4uaWQhPT1lLmpzdHJlZS5yb290JiYoMT09PXQud2hpY2h8fFwidG91Y2hzdGFydFwiPT09dC50eXBlfHxcImRyYWdzdGFydFwiPT09dC50eXBlKSYmKCEwPT09dGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlfHxlLmlzRnVuY3Rpb24odGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlKSYmdGhpcy5zZXR0aW5ncy5kbmQuaXNfZHJhZ2dhYmxlLmNhbGwodGhpcyxyPjE/dGhpcy5nZXRfdG9wX3NlbGVjdGVkKCEwKTpbbl0sdCkpKXtpZihsPXtqc3RyZWU6ITAsb3JpZ2luOnRoaXMsb2JqOnRoaXMuZ2V0X25vZGUobiwhMCksbm9kZXM6cj4xP3RoaXMuZ2V0X3RvcF9zZWxlY3RlZCgpOltuLmlkXX0saD10LmN1cnJlbnRUYXJnZXQsIXRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNSlyZXR1cm4gdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJtb3VzZWRvd24uanN0cmVlXCIpLGUudmFrYXRhLmRuZC5zdGFydCh0LGwsJzxkaXYgaWQ9XCJqc3RyZWUtZG5kXCIgY2xhc3M9XCJqc3RyZWUtJyt0aGlzLmdldF90aGVtZSgpK1wiIGpzdHJlZS1cIit0aGlzLmdldF90aGVtZSgpK1wiLVwiK3RoaXMuZ2V0X3RoZW1lX3ZhcmlhbnQoKStcIiBcIisodGhpcy5zZXR0aW5ncy5jb3JlLnRoZW1lcy5yZXNwb25zaXZlP1wiIGpzdHJlZS1kbmQtcmVzcG9uc2l2ZVwiOlwiXCIpKydcIj48aSBjbGFzcz1cImpzdHJlZS1pY29uIGpzdHJlZS1lclwiPjwvaT4nK2krJzxpbnMgY2xhc3M9XCJqc3RyZWUtY29weVwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPis8L2lucz48L2Rpdj4nKTtlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJzdGFydFwiLHQse2hlbHBlcjplKCksZWxlbWVudDpoLGRhdGE6bH0pfX0sdGhpcykpLHRoaXMuc2V0dGluZ3MuZG5kLnVzZV9odG1sNSYmdGhpcy5lbGVtZW50Lm9uKFwiZHJhZ292ZXIuanN0cmVlXCIsZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJtb3ZlXCIsdCx7aGVscGVyOmUoKSxlbGVtZW50OmgsZGF0YTpsfSksITF9KS5vbihcImRyb3AuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcInN0b3BcIix0LHtoZWxwZXI6ZSgpLGVsZW1lbnQ6aCxkYXRhOmx9KSwhMX0sdGhpcykpfSx0aGlzLnJlZHJhd19ub2RlPWZ1bmN0aW9uKGUsdCxyLGkpe2lmKChlPW4ucmVkcmF3X25vZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSYmdGhpcy5zZXR0aW5ncy5kbmQudXNlX2h0bWw1KWlmKHRoaXMuc2V0dGluZ3MuZG5kLmxhcmdlX2RyYWdfdGFyZ2V0KWUuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsITApO2Vsc2V7dmFyIHMsYSxvPW51bGw7Zm9yKHM9MCxhPWUuY2hpbGROb2Rlcy5sZW5ndGg7czxhO3MrKylpZihlLmNoaWxkTm9kZXNbc10mJmUuY2hpbGROb2Rlc1tzXS5jbGFzc05hbWUmJi0xIT09ZS5jaGlsZE5vZGVzW3NdLmNsYXNzTmFtZS5pbmRleE9mKFwianN0cmVlLWFuY2hvclwiKSl7bz1lLmNoaWxkTm9kZXNbc107YnJlYWt9byYmby5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIiwhMCl9cmV0dXJuIGV9fSxlKGZ1bmN0aW9uKCl7dmFyIG49ITEscj0hMSxpPSExLHM9ITEsYT1lKCc8ZGl2IGlkPVwianN0cmVlLW1hcmtlclwiPiYjMTYwOzwvZGl2PicpLmhpZGUoKTtlKGMpLm9uKFwiZG5kX3N0YXJ0LnZha2F0YS5qc3RyZWVcIixmdW5jdGlvbihlLHQpe249ITEsaT0hMSx0JiZ0LmRhdGEmJnQuZGF0YS5qc3RyZWUmJmEuYXBwZW5kVG8oXCJib2R5XCIpfSkub24oXCJkbmRfbW92ZS52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24obyxkKXt2YXIgYz1kLmV2ZW50LnRhcmdldCE9PWkudGFyZ2V0O2lmKHMmJihkLmV2ZW50JiZcImRyYWdvdmVyXCI9PT1kLmV2ZW50LnR5cGUmJiFjfHxjbGVhclRpbWVvdXQocykpLGQmJmQuZGF0YSYmZC5kYXRhLmpzdHJlZSYmKCFkLmV2ZW50LnRhcmdldC5pZHx8XCJqc3RyZWUtbWFya2VyXCIhPT1kLmV2ZW50LnRhcmdldC5pZCkpe2k9ZC5ldmVudDt2YXIgbCxoLHUsZixwLGcsXyxtLHYseSx4LGIsaixrLHcsQyxUPWUuanN0cmVlLnJlZmVyZW5jZShkLmV2ZW50LnRhcmdldCksTj0hMSxTPSExLEU9ITE7aWYoVCYmVC5fZGF0YSYmVC5fZGF0YS5kbmQpaWYoYS5hdHRyKFwiY2xhc3NcIixcImpzdHJlZS1cIitULmdldF90aGVtZSgpKyhULnNldHRpbmdzLmNvcmUudGhlbWVzLnJlc3BvbnNpdmU/XCIganN0cmVlLWRuZC1yZXNwb25zaXZlXCI6XCJcIikpLHc9ZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKSxkLmhlbHBlci5jaGlsZHJlbigpLmF0dHIoXCJjbGFzc1wiLFwianN0cmVlLVwiK1QuZ2V0X3RoZW1lKCkrXCIganN0cmVlLVwiK1QuZ2V0X3RoZW1lKCkrXCItXCIrVC5nZXRfdGhlbWVfdmFyaWFudCgpK1wiIFwiKyhULnNldHRpbmdzLmNvcmUudGhlbWVzLnJlc3BvbnNpdmU/XCIganN0cmVlLWRuZC1yZXNwb25zaXZlXCI6XCJcIikpLmZpbmQoXCIuanN0cmVlLWNvcHlcIikuZmlyc3QoKVt3P1wic2hvd1wiOlwiaGlkZVwiXSgpLGQuZXZlbnQudGFyZ2V0IT09VC5lbGVtZW50WzBdJiZkLmV2ZW50LnRhcmdldCE9PVQuZ2V0X2NvbnRhaW5lcl91bCgpWzBdfHwwIT09VC5nZXRfY29udGFpbmVyX3VsKCkuY2hpbGRyZW4oKS5sZW5ndGgpe2lmKChOPVQuc2V0dGluZ3MuZG5kLmxhcmdlX2Ryb3BfdGFyZ2V0P2UoZC5ldmVudC50YXJnZXQpLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKTplKGQuZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1hbmNob3JcIikpJiZOLmxlbmd0aCYmTi5wYXJlbnQoKS5pcyhcIi5qc3RyZWUtY2xvc2VkLCAuanN0cmVlLW9wZW4sIC5qc3RyZWUtbGVhZlwiKSYmKFM9Ti5vZmZzZXQoKSxFPShkLmV2ZW50LnBhZ2VZIT09dD9kLmV2ZW50LnBhZ2VZOmQuZXZlbnQub3JpZ2luYWxFdmVudC5wYWdlWSktUy50b3AsdT1OLm91dGVySGVpZ2h0KCksZz1FPHUvMz9bXCJiXCIsXCJpXCIsXCJhXCJdOkU+dS11LzM/W1wiYVwiLFwiaVwiLFwiYlwiXTpFPnUvMj9bXCJpXCIsXCJhXCIsXCJiXCJdOltcImlcIixcImJcIixcImFcIl0sZS5lYWNoKGcsZnVuY3Rpb24odCxpKXtzd2l0Y2goaSl7Y2FzZVwiYlwiOmw9Uy5sZWZ0LTYsaD1TLnRvcCxmPVQuZ2V0X3BhcmVudChOKSxwPU4ucGFyZW50KCkuaW5kZXgoKTticmVhaztjYXNlXCJpXCI6aj1ULnNldHRpbmdzLmRuZC5pbnNpZGVfcG9zLGs9VC5nZXRfbm9kZShOLnBhcmVudCgpKSxsPVMubGVmdC0yLGg9Uy50b3ArdS8yKzEsZj1rLmlkLHA9XCJmaXJzdFwiPT09aj8wOlwibGFzdFwiPT09aj9rLmNoaWxkcmVuLmxlbmd0aDpNYXRoLm1pbihqLGsuY2hpbGRyZW4ubGVuZ3RoKTticmVhaztjYXNlXCJhXCI6bD1TLmxlZnQtNixoPVMudG9wK3UsZj1ULmdldF9wYXJlbnQoTikscD1OLnBhcmVudCgpLmluZGV4KCkrMX1mb3IoXz0hMCxtPTAsdj1kLmRhdGEubm9kZXMubGVuZ3RoO208djttKyspaWYoeT1kLmRhdGEub3JpZ2luJiYoZC5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuYWx3YXlzX2NvcHl8fGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmNvcHkmJihkLmV2ZW50Lm1ldGFLZXl8fGQuZXZlbnQuY3RybEtleSkpP1wiY29weV9ub2RlXCI6XCJtb3ZlX25vZGVcIix4PXAsXCJtb3ZlX25vZGVcIj09PXkmJlwiYVwiPT09aSYmZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbj09PVQmJmY9PT1ULmdldF9wYXJlbnQoZC5kYXRhLm5vZGVzW21dKSYmKGI9VC5nZXRfbm9kZShmKSx4PmUuaW5BcnJheShkLmRhdGEubm9kZXNbbV0sYi5jaGlsZHJlbikmJih4LT0xKSksIShfPV8mJihUJiZULnNldHRpbmdzJiZULnNldHRpbmdzLmRuZCYmITE9PT1ULnNldHRpbmdzLmRuZC5jaGVja193aGlsZV9kcmFnZ2luZ3x8VC5jaGVjayh5LGQuZGF0YS5vcmlnaW4mJmQuZGF0YS5vcmlnaW4hPT1UP2QuZGF0YS5vcmlnaW4uZ2V0X25vZGUoZC5kYXRhLm5vZGVzW21dKTpkLmRhdGEubm9kZXNbbV0sZix4LHtkbmQ6ITAscmVmOlQuZ2V0X25vZGUoTi5wYXJlbnQoKSkscG9zOmksb3JpZ2luOmQuZGF0YS5vcmlnaW4saXNfbXVsdGk6ZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbiE9PVQsaXNfZm9yZWlnbjohZC5kYXRhLm9yaWdpbn0pKSkpe1QmJlQubGFzdF9lcnJvciYmKHI9VC5sYXN0X2Vycm9yKCkpO2JyZWFrfXZhciBvLEU7aWYoXCJpXCI9PT1pJiZOLnBhcmVudCgpLmlzKFwiLmpzdHJlZS1jbG9zZWRcIikmJlQuc2V0dGluZ3MuZG5kLm9wZW5fdGltZW91dCYmKGQuZXZlbnQmJlwiZHJhZ292ZXJcIj09PWQuZXZlbnQudHlwZSYmIWN8fChzJiZjbGVhclRpbWVvdXQocykscz1zZXRUaW1lb3V0KChvPVQsRT1OLGZ1bmN0aW9uKCl7by5vcGVuX25vZGUoRSl9KSxULnNldHRpbmdzLmRuZC5vcGVuX3RpbWVvdXQpKSksXylyZXR1cm4oQz1ULmdldF9ub2RlKGYsITApKS5oYXNDbGFzcyhcIi5qc3RyZWUtZG5kLXBhcmVudFwiKXx8KGUoXCIuanN0cmVlLWRuZC1wYXJlbnRcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtZG5kLXBhcmVudFwiKSxDLmFkZENsYXNzKFwianN0cmVlLWRuZC1wYXJlbnRcIikpLG49e2luczpULHBhcjpmLHBvczpcImlcIiE9PWl8fFwibGFzdFwiIT09anx8MCE9PXB8fFQuaXNfbG9hZGVkKGspP3A6XCJsYXN0XCJ9LGEuY3NzKHtsZWZ0OmwrXCJweFwiLHRvcDpoK1wicHhcIn0pLnNob3coKSxkLmhlbHBlci5maW5kKFwiLmpzdHJlZS1pY29uXCIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtZXJcIikuYWRkQ2xhc3MoXCJqc3RyZWUtb2tcIiksZC5ldmVudC5vcmlnaW5hbEV2ZW50JiZkLmV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyJiYoZC5ldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PXc/XCJjb3B5XCI6XCJtb3ZlXCIpLHI9e30sZz0hMCwhMX0pLCEwPT09ZykpcmV0dXJufWVsc2V7Zm9yKF89ITAsbT0wLHY9ZC5kYXRhLm5vZGVzLmxlbmd0aDttPHYmJihfPV8mJlQuY2hlY2soZC5kYXRhLm9yaWdpbiYmKGQuZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxkLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYoZC5ldmVudC5tZXRhS2V5fHxkLmV2ZW50LmN0cmxLZXkpKT9cImNvcHlfbm9kZVwiOlwibW92ZV9ub2RlXCIsZC5kYXRhLm9yaWdpbiYmZC5kYXRhLm9yaWdpbiE9PVQ/ZC5kYXRhLm9yaWdpbi5nZXRfbm9kZShkLmRhdGEubm9kZXNbbV0pOmQuZGF0YS5ub2Rlc1ttXSxlLmpzdHJlZS5yb290LFwibGFzdFwiLHtkbmQ6ITAscmVmOlQuZ2V0X25vZGUoZS5qc3RyZWUucm9vdCkscG9zOlwiaVwiLG9yaWdpbjpkLmRhdGEub3JpZ2luLGlzX211bHRpOmQuZGF0YS5vcmlnaW4mJmQuZGF0YS5vcmlnaW4hPT1ULGlzX2ZvcmVpZ246IWQuZGF0YS5vcmlnaW59KSk7bSsrKTtpZihfKXJldHVybiBuPXtpbnM6VCxwYXI6ZS5qc3RyZWUucm9vdCxwb3M6XCJsYXN0XCJ9LGEuaGlkZSgpLGQuaGVscGVyLmZpbmQoXCIuanN0cmVlLWljb25cIikuZmlyc3QoKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1lclwiKS5hZGRDbGFzcyhcImpzdHJlZS1va1wiKSx2b2lkKGQuZXZlbnQub3JpZ2luYWxFdmVudCYmZC5ldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2ZlciYmKGQuZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD13P1wiY29weVwiOlwibW92ZVwiKSl9ZShcIi5qc3RyZWUtZG5kLXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1kbmQtcGFyZW50XCIpLG49ITEsZC5oZWxwZXIuZmluZChcIi5qc3RyZWUtaWNvblwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1va1wiKS5hZGRDbGFzcyhcImpzdHJlZS1lclwiKSxkLmV2ZW50Lm9yaWdpbmFsRXZlbnQmJmQuZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXImJihkLmV2ZW50Lm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJub25lXCIpLGEuaGlkZSgpfX0pLm9uKFwiZG5kX3Njcm9sbC52YWthdGEuanN0cmVlXCIsZnVuY3Rpb24oZSx0KXt0JiZ0LmRhdGEmJnQuZGF0YS5qc3RyZWUmJihhLmhpZGUoKSxuPSExLGk9ITEsdC5oZWxwZXIuZmluZChcIi5qc3RyZWUtaWNvblwiKS5maXJzdCgpLnJlbW92ZUNsYXNzKFwianN0cmVlLW9rXCIpLmFkZENsYXNzKFwianN0cmVlLWVyXCIpKX0pLm9uKFwiZG5kX3N0b3AudmFrYXRhLmpzdHJlZVwiLGZ1bmN0aW9uKHQsbyl7aWYoZShcIi5qc3RyZWUtZG5kLXBhcmVudFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS1kbmQtcGFyZW50XCIpLHMmJmNsZWFyVGltZW91dChzKSxvJiZvLmRhdGEmJm8uZGF0YS5qc3RyZWUpe2EuaGlkZSgpLmRldGFjaCgpO3ZhciBkLGMsbD1bXTtpZihuKXtmb3IoZD0wLGM9by5kYXRhLm5vZGVzLmxlbmd0aDtkPGM7ZCsrKWxbZF09by5kYXRhLm9yaWdpbj9vLmRhdGEub3JpZ2luLmdldF9ub2RlKG8uZGF0YS5ub2Rlc1tkXSk6by5kYXRhLm5vZGVzW2RdO24uaW5zW28uZGF0YS5vcmlnaW4mJihvLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5hbHdheXNfY29weXx8by5kYXRhLm9yaWdpbi5zZXR0aW5ncy5kbmQuY29weSYmKG8uZXZlbnQubWV0YUtleXx8by5ldmVudC5jdHJsS2V5KSk/XCJjb3B5X25vZGVcIjpcIm1vdmVfbm9kZVwiXShsLG4ucGFyLG4ucG9zLCExLCExLCExLG8uZGF0YS5vcmlnaW4pfWVsc2UoZD1lKG8uZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZVwiKSkubGVuZ3RoJiZyJiZyLmVycm9yJiZcImNoZWNrXCI9PT1yLmVycm9yJiYoZD1kLmpzdHJlZSghMCkpJiZkLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHIpO2k9ITEsbj0hMX19KS5vbihcImtleXVwLmpzdHJlZSBrZXlkb3duLmpzdHJlZVwiLGZ1bmN0aW9uKHQsbyl7KG89ZS52YWthdGEuZG5kLl9nZXQoKSkmJm8uZGF0YSYmby5kYXRhLmpzdHJlZSYmKFwia2V5dXBcIj09PXQudHlwZSYmMjc9PT10LndoaWNoPyhzJiZjbGVhclRpbWVvdXQocyksbj0hMSxyPSExLGk9ITEscz0hMSxhLmhpZGUoKS5kZXRhY2goKSxlLnZha2F0YS5kbmQuX2NsZWFuKCkpOihvLmhlbHBlci5maW5kKFwiLmpzdHJlZS1jb3B5XCIpLmZpcnN0KClbby5kYXRhLm9yaWdpbiYmKG8uZGF0YS5vcmlnaW4uc2V0dGluZ3MuZG5kLmFsd2F5c19jb3B5fHxvLmRhdGEub3JpZ2luLnNldHRpbmdzLmRuZC5jb3B5JiYodC5tZXRhS2V5fHx0LmN0cmxLZXkpKT9cInNob3dcIjpcImhpZGVcIl0oKSxpJiYoaS5tZXRhS2V5PXQubWV0YUtleSxpLmN0cmxLZXk9dC5jdHJsS2V5LGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcIm1vdmVcIixpKSkpKX0pfSksZnVuY3Rpb24oZSl7ZS52YWthdGEuaHRtbD17ZGl2OmUoXCI8ZGl2IC8+XCIpLGVzY2FwZTpmdW5jdGlvbih0KXtyZXR1cm4gZS52YWthdGEuaHRtbC5kaXYudGV4dCh0KS5odG1sKCl9LHN0cmlwOmZ1bmN0aW9uKHQpe3JldHVybiBlLnZha2F0YS5odG1sLmRpdi5lbXB0eSgpLmFwcGVuZChlLnBhcnNlSFRNTCh0KSkudGV4dCgpfX07dmFyIG49e2VsZW1lbnQ6ITEsdGFyZ2V0OiExLGlzX2Rvd246ITEsaXNfZHJhZzohMSxoZWxwZXI6ITEsaGVscGVyX3c6MCxkYXRhOiExLGluaXRfeDowLGluaXRfeTowLHNjcm9sbF9sOjAsc2Nyb2xsX3Q6MCxzY3JvbGxfZTohMSxzY3JvbGxfaTohMSxpc190b3VjaDohMX07ZS52YWthdGEuZG5kPXtzZXR0aW5nczp7c2Nyb2xsX3NwZWVkOjEwLHNjcm9sbF9wcm94aW1pdHk6MjAsaGVscGVyX2xlZnQ6NSxoZWxwZXJfdG9wOjEwLHRocmVzaG9sZDo1LHRocmVzaG9sZF90b3VjaDoxMH0sX3RyaWdnZXI6ZnVuY3Rpb24obixyLGkpe2k9PT10JiYoaT1lLnZha2F0YS5kbmQuX2dldCgpKSxpLmV2ZW50PXIsZShjKS50cmlnZ2VySGFuZGxlcihcImRuZF9cIituK1wiLnZha2F0YVwiLGkpfSxfZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2RhdGE6bi5kYXRhLGVsZW1lbnQ6bi5lbGVtZW50LGhlbHBlcjpuLmhlbHBlcn19LF9jbGVhbjpmdW5jdGlvbigpe24uaGVscGVyJiZuLmhlbHBlci5yZW1vdmUoKSxuLnNjcm9sbF9pJiYoY2xlYXJJbnRlcnZhbChuLnNjcm9sbF9pKSxuLnNjcm9sbF9pPSExKSxuPXtlbGVtZW50OiExLHRhcmdldDohMSxpc19kb3duOiExLGlzX2RyYWc6ITEsaGVscGVyOiExLGhlbHBlcl93OjAsZGF0YTohMSxpbml0X3g6MCxpbml0X3k6MCxzY3JvbGxfbDowLHNjcm9sbF90OjAsc2Nyb2xsX2U6ITEsc2Nyb2xsX2k6ITEsaXNfdG91Y2g6ITF9LGUoYykub2ZmKFwibW91c2Vtb3ZlLnZha2F0YS5qc3RyZWUgdG91Y2htb3ZlLnZha2F0YS5qc3RyZWVcIixlLnZha2F0YS5kbmQuZHJhZyksZShjKS5vZmYoXCJtb3VzZXVwLnZha2F0YS5qc3RyZWUgdG91Y2hlbmQudmFrYXRhLmpzdHJlZVwiLGUudmFrYXRhLmRuZC5zdG9wKX0sX3Njcm9sbDpmdW5jdGlvbih0KXtpZighbi5zY3JvbGxfZXx8IW4uc2Nyb2xsX2wmJiFuLnNjcm9sbF90KXJldHVybiBuLnNjcm9sbF9pJiYoY2xlYXJJbnRlcnZhbChuLnNjcm9sbF9pKSxuLnNjcm9sbF9pPSExKSwhMTtpZighbi5zY3JvbGxfaSlyZXR1cm4gbi5zY3JvbGxfaT1zZXRJbnRlcnZhbChlLnZha2F0YS5kbmQuX3Njcm9sbCwxMDApLCExO2lmKCEwPT09dClyZXR1cm4hMTt2YXIgcj1uLnNjcm9sbF9lLnNjcm9sbFRvcCgpLGk9bi5zY3JvbGxfZS5zY3JvbGxMZWZ0KCk7bi5zY3JvbGxfZS5zY3JvbGxUb3AocituLnNjcm9sbF90KmUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfc3BlZWQpLG4uc2Nyb2xsX2Uuc2Nyb2xsTGVmdChpK24uc2Nyb2xsX2wqZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9zcGVlZCkscj09PW4uc2Nyb2xsX2Uuc2Nyb2xsVG9wKCkmJmk9PT1uLnNjcm9sbF9lLnNjcm9sbExlZnQoKXx8ZS52YWthdGEuZG5kLl90cmlnZ2VyKFwic2Nyb2xsXCIsbi5zY3JvbGxfZSl9LHN0YXJ0OmZ1bmN0aW9uKHQscixpKXtcInRvdWNoc3RhcnRcIj09PXQudHlwZSYmdC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHQucGFnZVg9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHQucGFnZVk9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLHQudGFyZ2V0PWMuZWxlbWVudEZyb21Qb2ludCh0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpKSxuLmlzX2RyYWcmJmUudmFrYXRhLmRuZC5zdG9wKHt9KTt0cnl7dC5jdXJyZW50VGFyZ2V0LnVuc2VsZWN0YWJsZT1cIm9uXCIsdC5jdXJyZW50VGFyZ2V0Lm9uc2VsZWN0c3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdC5jdXJyZW50VGFyZ2V0LnN0eWxlJiYodC5jdXJyZW50VGFyZ2V0LnN0eWxlLnRvdWNoQWN0aW9uPVwibm9uZVwiLHQuY3VycmVudFRhcmdldC5zdHlsZS5tc1RvdWNoQWN0aW9uPVwibm9uZVwiLHQuY3VycmVudFRhcmdldC5zdHlsZS5Nb3pVc2VyU2VsZWN0PVwibm9uZVwiKX1jYXRjaChlKXt9cmV0dXJuIG4uaW5pdF94PXQucGFnZVgsbi5pbml0X3k9dC5wYWdlWSxuLmRhdGE9cixuLmlzX2Rvd249ITAsbi5lbGVtZW50PXQuY3VycmVudFRhcmdldCxuLnRhcmdldD10LnRhcmdldCxuLmlzX3RvdWNoPVwidG91Y2hzdGFydFwiPT09dC50eXBlLCExIT09aSYmKG4uaGVscGVyPWUoXCI8ZGl2IGlkPSd2YWthdGEtZG5kJz48L2Rpdj5cIikuaHRtbChpKS5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLG1hcmdpbjpcIjBcIixwYWRkaW5nOlwiMFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItMjAwMHB4XCIsbGluZUhlaWdodDpcIjE2cHhcIix6SW5kZXg6XCIxMDAwMFwifSkpLGUoYykub24oXCJtb3VzZW1vdmUudmFrYXRhLmpzdHJlZSB0b3VjaG1vdmUudmFrYXRhLmpzdHJlZVwiLGUudmFrYXRhLmRuZC5kcmFnKSxlKGMpLm9uKFwibW91c2V1cC52YWthdGEuanN0cmVlIHRvdWNoZW5kLnZha2F0YS5qc3RyZWVcIixlLnZha2F0YS5kbmQuc3RvcCksITF9LGRyYWc6ZnVuY3Rpb24odCl7aWYoXCJ0b3VjaG1vdmVcIj09PXQudHlwZSYmdC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHQucGFnZVg9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHQucGFnZVk9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLHQudGFyZ2V0PWMuZWxlbWVudEZyb21Qb2ludCh0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpKSxuLmlzX2Rvd24pe2lmKCFuLmlzX2RyYWcpe2lmKCEoTWF0aC5hYnModC5wYWdlWC1uLmluaXRfeCk+KG4uaXNfdG91Y2g/ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZF90b3VjaDplLnZha2F0YS5kbmQuc2V0dGluZ3MudGhyZXNob2xkKXx8TWF0aC5hYnModC5wYWdlWS1uLmluaXRfeSk+KG4uaXNfdG91Y2g/ZS52YWthdGEuZG5kLnNldHRpbmdzLnRocmVzaG9sZF90b3VjaDplLnZha2F0YS5kbmQuc2V0dGluZ3MudGhyZXNob2xkKSkpcmV0dXJuO24uaGVscGVyJiYobi5oZWxwZXIuYXBwZW5kVG8oXCJib2R5XCIpLG4uaGVscGVyX3c9bi5oZWxwZXIub3V0ZXJXaWR0aCgpKSxuLmlzX2RyYWc9ITAsZShuLnRhcmdldCkub25lKFwiY2xpY2sudmFrYXRhXCIsITEpLGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcInN0YXJ0XCIsdCl9dmFyIHI9ITEsaT0hMSxzPSExLGE9ITEsbz0hMSxkPSExLGw9ITEsaD0hMSx1PSExLGY9ITE7cmV0dXJuIG4uc2Nyb2xsX3Q9MCxuLnNjcm9sbF9sPTAsbi5zY3JvbGxfZT0hMSxlKGUodC50YXJnZXQpLnBhcmVudHNVbnRpbChcImJvZHlcIikuYWRkQmFjaygpLmdldCgpLnJldmVyc2UoKSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuL15hdXRvfHNjcm9sbCQvLnRlc3QoZSh0aGlzKS5jc3MoXCJvdmVyZmxvd1wiKSkmJih0aGlzLnNjcm9sbEhlaWdodD50aGlzLm9mZnNldEhlaWdodHx8dGhpcy5zY3JvbGxXaWR0aD50aGlzLm9mZnNldFdpZHRoKX0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1lKHRoaXMpLGk9ci5vZmZzZXQoKTtpZih0aGlzLnNjcm9sbEhlaWdodD50aGlzLm9mZnNldEhlaWdodCYmKGkudG9wK3IuaGVpZ2h0KCktdC5wYWdlWTxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKG4uc2Nyb2xsX3Q9MSksdC5wYWdlWS1pLnRvcDxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKG4uc2Nyb2xsX3Q9LTEpKSx0aGlzLnNjcm9sbFdpZHRoPnRoaXMub2Zmc2V0V2lkdGgmJihpLmxlZnQrci53aWR0aCgpLXQucGFnZVg8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihuLnNjcm9sbF9sPTEpLHQucGFnZVgtaS5sZWZ0PGUudmFrYXRhLmRuZC5zZXR0aW5ncy5zY3JvbGxfcHJveGltaXR5JiYobi5zY3JvbGxfbD0tMSkpLG4uc2Nyb2xsX3R8fG4uc2Nyb2xsX2wpcmV0dXJuIG4uc2Nyb2xsX2U9ZSh0aGlzKSwhMX0pLG4uc2Nyb2xsX2V8fChyPWUoYyksaT1lKHdpbmRvdykscz1yLmhlaWdodCgpLGE9aS5oZWlnaHQoKSxvPXIud2lkdGgoKSxkPWkud2lkdGgoKSxsPXIuc2Nyb2xsVG9wKCksaD1yLnNjcm9sbExlZnQoKSxzPmEmJnQucGFnZVktbDxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKG4uc2Nyb2xsX3Q9LTEpLHM+YSYmYS0odC5wYWdlWS1sKTxlLnZha2F0YS5kbmQuc2V0dGluZ3Muc2Nyb2xsX3Byb3hpbWl0eSYmKG4uc2Nyb2xsX3Q9MSksbz5kJiZ0LnBhZ2VYLWg8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihuLnNjcm9sbF9sPS0xKSxvPmQmJmQtKHQucGFnZVgtaCk8ZS52YWthdGEuZG5kLnNldHRpbmdzLnNjcm9sbF9wcm94aW1pdHkmJihuLnNjcm9sbF9sPTEpLChuLnNjcm9sbF90fHxuLnNjcm9sbF9sKSYmKG4uc2Nyb2xsX2U9cikpLG4uc2Nyb2xsX2UmJmUudmFrYXRhLmRuZC5fc2Nyb2xsKCEwKSxuLmhlbHBlciYmKHU9cGFyc2VJbnQodC5wYWdlWStlLnZha2F0YS5kbmQuc2V0dGluZ3MuaGVscGVyX3RvcCwxMCksZj1wYXJzZUludCh0LnBhZ2VYK2UudmFrYXRhLmRuZC5zZXR0aW5ncy5oZWxwZXJfbGVmdCwxMCkscyYmdSsyNT5zJiYodT1zLTUwKSxvJiZmK24uaGVscGVyX3c+byYmKGY9by0obi5oZWxwZXJfdysyKSksbi5oZWxwZXIuY3NzKHtsZWZ0OmYrXCJweFwiLHRvcDp1K1wicHhcIn0pKSxlLnZha2F0YS5kbmQuX3RyaWdnZXIoXCJtb3ZlXCIsdCksITF9fSxzdG9wOmZ1bmN0aW9uKHQpe2lmKFwidG91Y2hlbmRcIj09PXQudHlwZSYmdC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMmJnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSYmKHQucGFnZVg9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHQucGFnZVk9dC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZLHQudGFyZ2V0PWMuZWxlbWVudEZyb21Qb2ludCh0Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWS13aW5kb3cucGFnZVlPZmZzZXQpKSxuLmlzX2RyYWcpdC50YXJnZXQhPT1uLnRhcmdldCYmZShuLnRhcmdldCkub2ZmKFwiY2xpY2sudmFrYXRhXCIpLGUudmFrYXRhLmRuZC5fdHJpZ2dlcihcInN0b3BcIix0KTtlbHNlIGlmKFwidG91Y2hlbmRcIj09PXQudHlwZSYmdC50YXJnZXQ9PT1uLnRhcmdldCl7dmFyIHI9c2V0VGltZW91dChmdW5jdGlvbigpe2UodC50YXJnZXQpLmNsaWNrKCl9LDEwMCk7ZSh0LnRhcmdldCkub25lKFwiY2xpY2tcIixmdW5jdGlvbigpe3ImJmNsZWFyVGltZW91dChyKX0pfXJldHVybiBlLnZha2F0YS5kbmQuX2NsZWFuKCksITF9fX0oZSksZS5qc3RyZWUuZGVmYXVsdHMubWFzc2xvYWQ9bnVsbCxlLmpzdHJlZS5wbHVnaW5zLm1hc3Nsb2FkPWZ1bmN0aW9uKHQsbil7dGhpcy5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGF0YS5tYXNzbG9hZD17fSxuLmluaXQuY2FsbCh0aGlzLGUsdCl9LHRoaXMuX2xvYWRfbm9kZXM9ZnVuY3Rpb24odCxyLGkscyl7dmFyIG8sZCxjLGw9dGhpcy5zZXR0aW5ncy5tYXNzbG9hZCxoPShKU09OLnN0cmluZ2lmeSh0KSxbXSksdT10aGlzLl9tb2RlbC5kYXRhO2lmKCFpKXtmb3Iobz0wLGQ9dC5sZW5ndGg7bzxkO28rKyl1W3Rbb11dJiYodVt0W29dXS5zdGF0ZS5sb2FkZWR8fHVbdFtvXV0uc3RhdGUuZmFpbGVkKSYmIXN8fChoLnB1c2godFtvXSksKGM9dGhpcy5nZXRfbm9kZSh0W29dLCEwKSkmJmMubGVuZ3RoJiZjLmFkZENsYXNzKFwianN0cmVlLWxvYWRpbmdcIikuYXR0cihcImFyaWEtYnVzeVwiLCEwKSk7aWYodGhpcy5fZGF0YS5tYXNzbG9hZD17fSxoLmxlbmd0aCl7aWYoZS5pc0Z1bmN0aW9uKGwpKXJldHVybiBsLmNhbGwodGhpcyxoLGUucHJveHkoZnVuY3Rpb24oZSl7dmFyIGEsbztpZihlKWZvcihhIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShhKSYmKHRoaXMuX2RhdGEubWFzc2xvYWRbYV09ZVthXSk7Zm9yKGE9MCxvPXQubGVuZ3RoO2E8bzthKyspKGM9dGhpcy5nZXRfbm9kZSh0W2FdLCEwKSkmJmMubGVuZ3RoJiZjLnJlbW92ZUNsYXNzKFwianN0cmVlLWxvYWRpbmdcIikuYXR0cihcImFyaWEtYnVzeVwiLCExKTtuLl9sb2FkX25vZGVzLmNhbGwodGhpcyx0LHIsaSxzKX0sdGhpcykpO2lmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09bD9cInVuZGVmaW5lZFwiOmEobCkpJiZsJiZsLnVybClyZXR1cm4gbD1lLmV4dGVuZCghMCx7fSxsKSxlLmlzRnVuY3Rpb24obC51cmwpJiYobC51cmw9bC51cmwuY2FsbCh0aGlzLGgpKSxlLmlzRnVuY3Rpb24obC5kYXRhKSYmKGwuZGF0YT1sLmRhdGEuY2FsbCh0aGlzLGgpKSxlLmFqYXgobCkuZG9uZShlLnByb3h5KGZ1bmN0aW9uKGUsYSxvKXt2YXIgZCxsO2lmKGUpZm9yKGQgaW4gZSllLmhhc093blByb3BlcnR5KGQpJiYodGhpcy5fZGF0YS5tYXNzbG9hZFtkXT1lW2RdKTtmb3IoZD0wLGw9dC5sZW5ndGg7ZDxsO2QrKykoYz10aGlzLmdldF9ub2RlKHRbZF0sITApKSYmYy5sZW5ndGgmJmMucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtbG9hZGluZ1wiKS5hdHRyKFwiYXJpYS1idXN5XCIsITEpO24uX2xvYWRfbm9kZXMuY2FsbCh0aGlzLHQscixpLHMpfSx0aGlzKSkuZmFpbChlLnByb3h5KGZ1bmN0aW9uKGUpe24uX2xvYWRfbm9kZXMuY2FsbCh0aGlzLHQscixpLHMpfSx0aGlzKSl9fXJldHVybiBuLl9sb2FkX25vZGVzLmNhbGwodGhpcyx0LHIsaSxzKX0sdGhpcy5fbG9hZF9ub2RlPWZ1bmN0aW9uKHQscil7dmFyIGkscz10aGlzLl9kYXRhLm1hc3Nsb2FkW3QuaWRdLGE9bnVsbDtyZXR1cm4gcz8oYT10aGlzW1wic3RyaW5nXCI9PXR5cGVvZiBzP1wiX2FwcGVuZF9odG1sX2RhdGFcIjpcIl9hcHBlbmRfanNvbl9kYXRhXCJdKHQsXCJzdHJpbmdcIj09dHlwZW9mIHM/ZShlLnBhcnNlSFRNTChzKSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDMhPT10aGlzLm5vZGVUeXBlfSk6cyxmdW5jdGlvbihlKXtyLmNhbGwodGhpcyxlKX0pLChpPXRoaXMuZ2V0X25vZGUodC5pZCwhMCkpJiZpLmxlbmd0aCYmaS5yZW1vdmVDbGFzcyhcImpzdHJlZS1sb2FkaW5nXCIpLmF0dHIoXCJhcmlhLWJ1c3lcIiwhMSksZGVsZXRlIHRoaXMuX2RhdGEubWFzc2xvYWRbdC5pZF0sYSk6bi5fbG9hZF9ub2RlLmNhbGwodGhpcyx0LHIpfX0sZS5qc3RyZWUuZGVmYXVsdHMuc2VhcmNoPXthamF4OiExLGZ1enp5OiExLGNhc2Vfc2Vuc2l0aXZlOiExLHNob3dfb25seV9tYXRjaGVzOiExLHNob3dfb25seV9tYXRjaGVzX2NoaWxkcmVuOiExLGNsb3NlX29wZW5lZF9vbmNsZWFyOiEwLHNlYXJjaF9sZWF2ZXNfb25seTohMSxzZWFyY2hfY2FsbGJhY2s6ITF9LGUuanN0cmVlLnBsdWdpbnMuc2VhcmNoPWZ1bmN0aW9uKG4scil7dGhpcy5iaW5kPWZ1bmN0aW9uKCl7ci5iaW5kLmNhbGwodGhpcyksdGhpcy5fZGF0YS5zZWFyY2guc3RyPVwiXCIsdGhpcy5fZGF0YS5zZWFyY2guZG9tPWUoKSx0aGlzLl9kYXRhLnNlYXJjaC5yZXM9W10sdGhpcy5fZGF0YS5zZWFyY2gub3BuPVtdLHRoaXMuX2RhdGEuc2VhcmNoLnNvbT0hMSx0aGlzLl9kYXRhLnNlYXJjaC5zbWM9ITEsdGhpcy5fZGF0YS5zZWFyY2guaGRuPVtdLHRoaXMuZWxlbWVudC5vbihcInNlYXJjaC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKHQsbil7aWYodGhpcy5fZGF0YS5zZWFyY2guc29tJiZuLnJlcy5sZW5ndGgpe3ZhciByLGkscyxhLG89dGhpcy5fbW9kZWwuZGF0YSxkPVtdO2ZvcihyPTAsaT1uLnJlcy5sZW5ndGg7cjxpO3IrKylpZihvW24ucmVzW3JdXSYmIW9bbi5yZXNbcl1dLnN0YXRlLmhpZGRlbiYmKGQucHVzaChuLnJlc1tyXSksZD1kLmNvbmNhdChvW24ucmVzW3JdXS5wYXJlbnRzKSx0aGlzLl9kYXRhLnNlYXJjaC5zbWMpKWZvcihzPTAsYT1vW24ucmVzW3JdXS5jaGlsZHJlbl9kLmxlbmd0aDtzPGE7cysrKW9bb1tuLnJlc1tyXV0uY2hpbGRyZW5fZFtzXV0mJiFvW29bbi5yZXNbcl1dLmNoaWxkcmVuX2Rbc11dLnN0YXRlLmhpZGRlbiYmZC5wdXNoKG9bbi5yZXNbcl1dLmNoaWxkcmVuX2Rbc10pO2Q9ZS52YWthdGEuYXJyYXlfcmVtb3ZlX2l0ZW0oZS52YWthdGEuYXJyYXlfdW5pcXVlKGQpLGUuanN0cmVlLnJvb3QpLHRoaXMuX2RhdGEuc2VhcmNoLmhkbj10aGlzLmhpZGVfYWxsKCEwKSx0aGlzLnNob3dfbm9kZShkLCEwKSx0aGlzLnJlZHJhdyghMCl9fSx0aGlzKSkub24oXCJjbGVhcl9zZWFyY2guanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihlLHQpe3RoaXMuX2RhdGEuc2VhcmNoLnNvbSYmdC5yZXMubGVuZ3RoJiYodGhpcy5zaG93X25vZGUodGhpcy5fZGF0YS5zZWFyY2guaGRuLCEwKSx0aGlzLnJlZHJhdyghMCkpfSx0aGlzKSl9LHRoaXMuc2VhcmNoPWZ1bmN0aW9uKG4scixpLHMsYSxvKXtpZighMT09PW58fFwiXCI9PT1lLnRyaW0obi50b1N0cmluZygpKSlyZXR1cm4gdGhpcy5jbGVhcl9zZWFyY2goKTtzPShzPXRoaXMuZ2V0X25vZGUocykpJiZzLmlkP3MuaWQ6bnVsbCxuPW4udG9TdHJpbmcoKTt2YXIgZCxjLGw9dGhpcy5zZXR0aW5ncy5zZWFyY2gsaD0hIWwuYWpheCYmbC5hamF4LHU9dGhpcy5fbW9kZWwuZGF0YSxmPW51bGwscD1bXSxnPVtdO2lmKHRoaXMuX2RhdGEuc2VhcmNoLnJlcy5sZW5ndGgmJiFhJiZ0aGlzLmNsZWFyX3NlYXJjaCgpLGk9PT10JiYoaT1sLnNob3dfb25seV9tYXRjaGVzKSxvPT09dCYmKG89bC5zaG93X29ubHlfbWF0Y2hlc19jaGlsZHJlbiksIXImJiExIT09aClyZXR1cm4gZS5pc0Z1bmN0aW9uKGgpP2guY2FsbCh0aGlzLG4sZS5wcm94eShmdW5jdGlvbih0KXt0JiZ0LmQmJih0PXQuZCksdGhpcy5fbG9hZF9ub2RlcyhlLmlzQXJyYXkodCk/ZS52YWthdGEuYXJyYXlfdW5pcXVlKHQpOltdLGZ1bmN0aW9uKCl7dGhpcy5zZWFyY2gobiwhMCxpLHMsYSxvKX0pfSx0aGlzKSxzKTooKGg9ZS5leHRlbmQoe30saCkpLmRhdGF8fChoLmRhdGE9e30pLGguZGF0YS5zdHI9bixzJiYoaC5kYXRhLmluc2lkZT1zKSx0aGlzLl9kYXRhLnNlYXJjaC5sYXN0UmVxdWVzdCYmdGhpcy5fZGF0YS5zZWFyY2gubGFzdFJlcXVlc3QuYWJvcnQoKSx0aGlzLl9kYXRhLnNlYXJjaC5sYXN0UmVxdWVzdD1lLmFqYXgoaCkuZmFpbChlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiYWpheFwiLHBsdWdpbjpcInNlYXJjaFwiLGlkOlwic2VhcmNoXzAxXCIscmVhc29uOlwiQ291bGQgbm90IGxvYWQgc2VhcmNoIHBhcmVudHNcIixkYXRhOkpTT04uc3RyaW5naWZ5KGgpfSx0aGlzLnNldHRpbmdzLmNvcmUuZXJyb3IuY2FsbCh0aGlzLHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yKX0sdGhpcykpLmRvbmUoZS5wcm94eShmdW5jdGlvbih0KXt0JiZ0LmQmJih0PXQuZCksdGhpcy5fbG9hZF9ub2RlcyhlLmlzQXJyYXkodCk/ZS52YWthdGEuYXJyYXlfdW5pcXVlKHQpOltdLGZ1bmN0aW9uKCl7dGhpcy5zZWFyY2gobiwhMCxpLHMsYSxvKX0pfSx0aGlzKSksdGhpcy5fZGF0YS5zZWFyY2gubGFzdFJlcXVlc3QpO2lmKGF8fCh0aGlzLl9kYXRhLnNlYXJjaC5zdHI9bix0aGlzLl9kYXRhLnNlYXJjaC5kb209ZSgpLHRoaXMuX2RhdGEuc2VhcmNoLnJlcz1bXSx0aGlzLl9kYXRhLnNlYXJjaC5vcG49W10sdGhpcy5fZGF0YS5zZWFyY2guc29tPWksdGhpcy5fZGF0YS5zZWFyY2guc21jPW8pLGY9bmV3IGUudmFrYXRhLnNlYXJjaChuLCEwLHtjYXNlU2Vuc2l0aXZlOmwuY2FzZV9zZW5zaXRpdmUsZnV6enk6bC5mdXp6eX0pLGUuZWFjaCh1W3N8fGUuanN0cmVlLnJvb3RdLmNoaWxkcmVuX2QsZnVuY3Rpb24oZSx0KXt2YXIgcj11W3RdO3IudGV4dCYmIXIuc3RhdGUuaGlkZGVuJiYoIWwuc2VhcmNoX2xlYXZlc19vbmx5fHxyLnN0YXRlLmxvYWRlZCYmMD09PXIuY2hpbGRyZW4ubGVuZ3RoKSYmKGwuc2VhcmNoX2NhbGxiYWNrJiZsLnNlYXJjaF9jYWxsYmFjay5jYWxsKHRoaXMsbixyKXx8IWwuc2VhcmNoX2NhbGxiYWNrJiZmLnNlYXJjaChyLnRleHQpLmlzTWF0Y2gpJiYocC5wdXNoKHQpLGc9Zy5jb25jYXQoci5wYXJlbnRzKSl9KSxwLmxlbmd0aCl7Zm9yKGc9ZS52YWthdGEuYXJyYXlfdW5pcXVlKGcpLGQ9MCxjPWcubGVuZ3RoO2Q8YztkKyspZ1tkXSE9PWUuanN0cmVlLnJvb3QmJnVbZ1tkXV0mJiEwPT09dGhpcy5vcGVuX25vZGUoZ1tkXSxudWxsLDApJiZ0aGlzLl9kYXRhLnNlYXJjaC5vcG4ucHVzaChnW2RdKTthPyh0aGlzLl9kYXRhLnNlYXJjaC5kb209dGhpcy5fZGF0YS5zZWFyY2guZG9tLmFkZChlKHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiK2UubWFwKHAsZnVuY3Rpb24odCl7cmV0dXJuLTEhPT1cIjAxMjM0NTY3ODlcIi5pbmRleE9mKHRbMF0pP1wiXFxcXDNcIit0WzBdK1wiIFwiK3Quc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKTp0LnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKX0pLmpvaW4oXCIsICNcIikpKSksdGhpcy5fZGF0YS5zZWFyY2gucmVzPWUudmFrYXRhLmFycmF5X3VuaXF1ZSh0aGlzLl9kYXRhLnNlYXJjaC5yZXMuY29uY2F0KHApKSk6KHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1lKHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiK2UubWFwKHAsZnVuY3Rpb24odCl7cmV0dXJuLTEhPT1cIjAxMjM0NTY3ODlcIi5pbmRleE9mKHRbMF0pP1wiXFxcXDNcIit0WzBdK1wiIFwiK3Quc3Vic3RyKDEpLnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKTp0LnJlcGxhY2UoZS5qc3RyZWUuaWRyZWdleCxcIlxcXFwkJlwiKX0pLmpvaW4oXCIsICNcIikpKSx0aGlzLl9kYXRhLnNlYXJjaC5yZXM9cCksdGhpcy5fZGF0YS5zZWFyY2guZG9tLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuYWRkQ2xhc3MoXCJqc3RyZWUtc2VhcmNoXCIpfXRoaXMudHJpZ2dlcihcInNlYXJjaFwiLHtub2Rlczp0aGlzLl9kYXRhLnNlYXJjaC5kb20sc3RyOm4scmVzOnRoaXMuX2RhdGEuc2VhcmNoLnJlcyxzaG93X29ubHlfbWF0Y2hlczppfSl9LHRoaXMuY2xlYXJfc2VhcmNoPWZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncy5zZWFyY2guY2xvc2Vfb3BlbmVkX29uY2xlYXImJnRoaXMuY2xvc2Vfbm9kZSh0aGlzLl9kYXRhLnNlYXJjaC5vcG4sMCksdGhpcy50cmlnZ2VyKFwiY2xlYXJfc2VhcmNoXCIse25vZGVzOnRoaXMuX2RhdGEuc2VhcmNoLmRvbSxzdHI6dGhpcy5fZGF0YS5zZWFyY2guc3RyLHJlczp0aGlzLl9kYXRhLnNlYXJjaC5yZXN9KSx0aGlzLl9kYXRhLnNlYXJjaC5yZXMubGVuZ3RoJiYodGhpcy5fZGF0YS5zZWFyY2guZG9tPWUodGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoXCIjXCIrZS5tYXAodGhpcy5fZGF0YS5zZWFyY2gucmVzLGZ1bmN0aW9uKHQpe3JldHVybi0xIT09XCIwMTIzNDU2Nzg5XCIuaW5kZXhPZih0WzBdKT9cIlxcXFwzXCIrdFswXStcIiBcIit0LnN1YnN0cigxKS5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIik6dC5yZXBsYWNlKGUuanN0cmVlLmlkcmVnZXgsXCJcXFxcJCZcIil9KS5qb2luKFwiLCAjXCIpKSksdGhpcy5fZGF0YS5zZWFyY2guZG9tLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikucmVtb3ZlQ2xhc3MoXCJqc3RyZWUtc2VhcmNoXCIpKSx0aGlzLl9kYXRhLnNlYXJjaC5zdHI9XCJcIix0aGlzLl9kYXRhLnNlYXJjaC5yZXM9W10sdGhpcy5fZGF0YS5zZWFyY2gub3BuPVtdLHRoaXMuX2RhdGEuc2VhcmNoLmRvbT1lKCl9LHRoaXMucmVkcmF3X25vZGU9ZnVuY3Rpb24odCxuLGkscyl7aWYoKHQ9ci5yZWRyYXdfbm9kZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpJiYtMSE9PWUuaW5BcnJheSh0LmlkLHRoaXMuX2RhdGEuc2VhcmNoLnJlcykpe3ZhciBhLG8sZD1udWxsO2ZvcihhPTAsbz10LmNoaWxkTm9kZXMubGVuZ3RoO2E8bzthKyspaWYodC5jaGlsZE5vZGVzW2FdJiZ0LmNoaWxkTm9kZXNbYV0uY2xhc3NOYW1lJiYtMSE9PXQuY2hpbGROb2Rlc1thXS5jbGFzc05hbWUuaW5kZXhPZihcImpzdHJlZS1hbmNob3JcIikpe2Q9dC5jaGlsZE5vZGVzW2FdO2JyZWFrfWQmJihkLmNsYXNzTmFtZSs9XCIganN0cmVlLXNlYXJjaFwiKX1yZXR1cm4gdH19LGZ1bmN0aW9uKGUpe2UudmFrYXRhLnNlYXJjaD1mdW5jdGlvbih0LG4scil7cj1yfHx7fSwhMSE9PShyPWUuZXh0ZW5kKHt9LGUudmFrYXRhLnNlYXJjaC5kZWZhdWx0cyxyKSkuZnV6enkmJihyLmZ1enp5PSEwKSx0PXIuY2FzZVNlbnNpdGl2ZT90OnQudG9Mb3dlckNhc2UoKTt2YXIgaSxzLGEsbyxkPXIubG9jYXRpb24sYz1yLmRpc3RhbmNlLGw9ci50aHJlc2hvbGQsaD10Lmxlbmd0aDtyZXR1cm4gaD4zMiYmKHIuZnV6enk9ITEpLHIuZnV6enkmJihpPTE8PGgtMSxzPWZ1bmN0aW9uKCl7dmFyIGU9e30sbj0wO2ZvcihuPTA7bjxoO24rKyllW3QuY2hhckF0KG4pXT0wO2ZvcihuPTA7bjxoO24rKyllW3QuY2hhckF0KG4pXXw9MTw8aC1uLTE7cmV0dXJuIGV9KCksYT1mdW5jdGlvbihlLHQpe3ZhciBuPWUvaCxyPU1hdGguYWJzKGQtdCk7cmV0dXJuIGM/bityL2M6cj8xOm59KSxvPWZ1bmN0aW9uKGUpe2lmKGU9ci5jYXNlU2Vuc2l0aXZlP2U6ZS50b0xvd2VyQ2FzZSgpLHQ9PT1lfHwtMSE9PWUuaW5kZXhPZih0KSlyZXR1cm57aXNNYXRjaDohMCxzY29yZTowfTtpZighci5mdXp6eSlyZXR1cm57aXNNYXRjaDohMSxzY29yZToxfTt2YXIgbixvLGMsdSxmLHAsZyxfLG0sdj1lLmxlbmd0aCx5PWwseD1lLmluZGV4T2YodCxkKSxiPWgrdixqPTEsaz1bXTtmb3IoLTEhPT14JiYoeT1NYXRoLm1pbihhKDAseCkseSksLTEhPT0oeD1lLmxhc3RJbmRleE9mKHQsZCtoKSkmJih5PU1hdGgubWluKGEoMCx4KSx5KSkpLHg9LTEsbj0wO248aDtuKyspe2ZvcihjPTAsdT1iO2M8dTspYShuLGQrdSk8PXk/Yz11OmI9dSx1PU1hdGguZmxvb3IoKGItYykvMitjKTtmb3IoYj11LHA9TWF0aC5tYXgoMSxkLXUrMSksZz1NYXRoLm1pbihkK3UsdikraCwoXz1uZXcgQXJyYXkoZysyKSlbZysxXT0oMTw8biktMSxvPWc7bz49cDtvLS0paWYobT1zW2UuY2hhckF0KG8tMSldLF9bb109MD09PW4/KF9bbysxXTw8MXwxKSZtOihfW28rMV08PDF8MSkmbXwoZltvKzFdfGZbb10pPDwxfDF8ZltvKzFdLF9bb10maSYmKGo9YShuLG8tMSkpPD15KXtpZih5PWoseD1vLTEsay5wdXNoKHgpLCEoeD5kKSlicmVhaztwPU1hdGgubWF4KDEsMipkLXgpfWlmKGEobisxLGQpPnkpYnJlYWs7Zj1ffXJldHVybntpc01hdGNoOng+PTAsc2NvcmU6an19LCEwPT09bj97c2VhcmNoOm99Om8obil9LGUudmFrYXRhLnNlYXJjaC5kZWZhdWx0cz17bG9jYXRpb246MCxkaXN0YW5jZToxMDAsdGhyZXNob2xkOi42LGZ1enp5OiExLGNhc2VTZW5zaXRpdmU6ITF9fShlKSxlLmpzdHJlZS5kZWZhdWx0cy5zb3J0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0X3RleHQoZSk+dGhpcy5nZXRfdGV4dCh0KT8xOi0xfSxlLmpzdHJlZS5wbHVnaW5zLnNvcnQ9ZnVuY3Rpb24odCxuKXt0aGlzLmJpbmQ9ZnVuY3Rpb24oKXtuLmJpbmQuY2FsbCh0aGlzKSx0aGlzLmVsZW1lbnQub24oXCJtb2RlbC5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50LCEwKX0sdGhpcykpLm9uKFwicmVuYW1lX25vZGUuanN0cmVlIGNyZWF0ZV9ub2RlLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLnNvcnQodC5wYXJlbnR8fHQubm9kZS5wYXJlbnQsITEpLHRoaXMucmVkcmF3X25vZGUodC5wYXJlbnR8fHQubm9kZS5wYXJlbnQsITApfSx0aGlzKSkub24oXCJtb3ZlX25vZGUuanN0cmVlIGNvcHlfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5zb3J0KHQucGFyZW50LCExKSx0aGlzLnJlZHJhd19ub2RlKHQucGFyZW50LCEwKX0sdGhpcykpfSx0aGlzLnNvcnQ9ZnVuY3Rpb24odCxuKXt2YXIgcixpO2lmKCh0PXRoaXMuZ2V0X25vZGUodCkpJiZ0LmNoaWxkcmVuJiZ0LmNoaWxkcmVuLmxlbmd0aCYmKHQuY2hpbGRyZW4uc29ydChlLnByb3h5KHRoaXMuc2V0dGluZ3Muc29ydCx0aGlzKSksbikpZm9yKHI9MCxpPXQuY2hpbGRyZW5fZC5sZW5ndGg7cjxpO3IrKyl0aGlzLnNvcnQodC5jaGlsZHJlbl9kW3JdLCExKX19O3ZhciBmPSExO2UuanN0cmVlLmRlZmF1bHRzLnN0YXRlPXtrZXk6XCJqc3RyZWVcIixldmVudHM6XCJjaGFuZ2VkLmpzdHJlZSBvcGVuX25vZGUuanN0cmVlIGNsb3NlX25vZGUuanN0cmVlIGNoZWNrX25vZGUuanN0cmVlIHVuY2hlY2tfbm9kZS5qc3RyZWVcIix0dGw6ITEsZmlsdGVyOiExLHByZXNlcnZlX2xvYWRlZDohMX0sZS5qc3RyZWUucGx1Z2lucy5zdGF0ZT1mdW5jdGlvbih0LG4pe3RoaXMuYmluZD1mdW5jdGlvbigpe24uYmluZC5jYWxsKHRoaXMpO3ZhciB0PWUucHJveHkoZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub24odGhpcy5zZXR0aW5ncy5zdGF0ZS5ldmVudHMsZS5wcm94eShmdW5jdGlvbigpe2YmJmNsZWFyVGltZW91dChmKSxmPXNldFRpbWVvdXQoZS5wcm94eShmdW5jdGlvbigpe3RoaXMuc2F2ZV9zdGF0ZSgpfSx0aGlzKSwxMDApfSx0aGlzKSksdGhpcy50cmlnZ2VyKFwic3RhdGVfcmVhZHlcIil9LHRoaXMpO3RoaXMuZWxlbWVudC5vbihcInJlYWR5LmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSxuKXt0aGlzLmVsZW1lbnQub25lKFwicmVzdG9yZV9zdGF0ZS5qc3RyZWVcIix0KSx0aGlzLnJlc3RvcmVfc3RhdGUoKXx8dCgpfSx0aGlzKSl9LHRoaXMuc2F2ZV9zdGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0X3N0YXRlKCk7dGhpcy5zZXR0aW5ncy5zdGF0ZS5wcmVzZXJ2ZV9sb2FkZWR8fGRlbGV0ZSB0LmNvcmUubG9hZGVkO3ZhciBuPXtzdGF0ZTp0LHR0bDp0aGlzLnNldHRpbmdzLnN0YXRlLnR0bCxzZWM6K25ldyBEYXRlfTtlLnZha2F0YS5zdG9yYWdlLnNldCh0aGlzLnNldHRpbmdzLnN0YXRlLmtleSxKU09OLnN0cmluZ2lmeShuKSl9LHRoaXMucmVzdG9yZV9zdGF0ZT1mdW5jdGlvbigpe3ZhciB0PWUudmFrYXRhLnN0b3JhZ2UuZ2V0KHRoaXMuc2V0dGluZ3Muc3RhdGUua2V5KTtpZih0KXRyeXt0PUpTT04ucGFyc2UodCl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuISh0JiZ0LnR0bCYmdC5zZWMmJituZXcgRGF0ZS10LnNlYz50LnR0bHx8KHQmJnQuc3RhdGUmJih0PXQuc3RhdGUpLHQmJmUuaXNGdW5jdGlvbih0aGlzLnNldHRpbmdzLnN0YXRlLmZpbHRlcikmJih0PXRoaXMuc2V0dGluZ3Muc3RhdGUuZmlsdGVyLmNhbGwodGhpcyx0KSksIXR8fCh0aGlzLnNldHRpbmdzLnN0YXRlLnByZXNlcnZlX2xvYWRlZHx8ZGVsZXRlIHQuY29yZS5sb2FkZWQsdGhpcy5lbGVtZW50Lm9uZShcInNldF9zdGF0ZS5qc3RyZWVcIixmdW5jdGlvbihuLHIpe3IuaW5zdGFuY2UudHJpZ2dlcihcInJlc3RvcmVfc3RhdGVcIix7c3RhdGU6ZS5leHRlbmQoITAse30sdCl9KX0pLHRoaXMuc2V0X3N0YXRlKHQpLDApKSl9LHRoaXMuY2xlYXJfc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS52YWthdGEuc3RvcmFnZS5kZWwodGhpcy5zZXR0aW5ncy5zdGF0ZS5rZXkpfX0sZnVuY3Rpb24oZSx0KXtlLnZha2F0YS5zdG9yYWdlPXtzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpfSxkZWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX19fShlKSxlLmpzdHJlZS5kZWZhdWx0cy50eXBlcz17ZGVmYXVsdDp7fX0sZS5qc3RyZWUuZGVmYXVsdHMudHlwZXNbZS5qc3RyZWUucm9vdF09e30sZS5qc3RyZWUucGx1Z2lucy50eXBlcz1mdW5jdGlvbihuLHIpe3RoaXMuaW5pdD1mdW5jdGlvbihuLGkpe3ZhciBzLGE7aWYoaSYmaS50eXBlcyYmaS50eXBlcy5kZWZhdWx0KWZvcihzIGluIGkudHlwZXMpaWYoXCJkZWZhdWx0XCIhPT1zJiZzIT09ZS5qc3RyZWUucm9vdCYmaS50eXBlcy5oYXNPd25Qcm9wZXJ0eShzKSlmb3IoYSBpbiBpLnR5cGVzLmRlZmF1bHQpaS50eXBlcy5kZWZhdWx0Lmhhc093blByb3BlcnR5KGEpJiZpLnR5cGVzW3NdW2FdPT09dCYmKGkudHlwZXNbc11bYV09aS50eXBlcy5kZWZhdWx0W2FdKTtyLmluaXQuY2FsbCh0aGlzLG4saSksdGhpcy5fbW9kZWwuZGF0YVtlLmpzdHJlZS5yb290XS50eXBlPWUuanN0cmVlLnJvb3R9LHRoaXMucmVmcmVzaD1mdW5jdGlvbih0LG4pe3IucmVmcmVzaC5jYWxsKHRoaXMsdCxuKSx0aGlzLl9tb2RlbC5kYXRhW2UuanN0cmVlLnJvb3RdLnR5cGU9ZS5qc3RyZWUucm9vdH0sdGhpcy5iaW5kPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKFwibW9kZWwuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbihuLHIpe3ZhciBpLHMsbyxkPXRoaXMuX21vZGVsLmRhdGEsYz1yLm5vZGVzLGw9dGhpcy5zZXR0aW5ncy50eXBlcyxoPVwiZGVmYXVsdFwiO2ZvcihpPTAscz1jLmxlbmd0aDtpPHM7aSsrKXtpZihoPVwiZGVmYXVsdFwiLGRbY1tpXV0ub3JpZ2luYWwmJmRbY1tpXV0ub3JpZ2luYWwudHlwZSYmbFtkW2NbaV1dLm9yaWdpbmFsLnR5cGVdJiYoaD1kW2NbaV1dLm9yaWdpbmFsLnR5cGUpLGRbY1tpXV0uZGF0YSYmZFtjW2ldXS5kYXRhLmpzdHJlZSYmZFtjW2ldXS5kYXRhLmpzdHJlZS50eXBlJiZsW2RbY1tpXV0uZGF0YS5qc3RyZWUudHlwZV0mJihoPWRbY1tpXV0uZGF0YS5qc3RyZWUudHlwZSksZFtjW2ldXS50eXBlPWgsITA9PT1kW2NbaV1dLmljb24mJmxbaF0uaWNvbiE9PXQmJihkW2NbaV1dLmljb249bFtoXS5pY29uKSxsW2hdLmxpX2F0dHIhPT10JiZcIm9iamVjdFwiPT09YShsW2hdLmxpX2F0dHIpKWZvcihvIGluIGxbaF0ubGlfYXR0cilpZihsW2hdLmxpX2F0dHIuaGFzT3duUHJvcGVydHkobykpe2lmKFwiaWRcIj09PW8pY29udGludWU7ZFtjW2ldXS5saV9hdHRyW29dPT09dD9kW2NbaV1dLmxpX2F0dHJbb109bFtoXS5saV9hdHRyW29dOlwiY2xhc3NcIj09PW8mJihkW2NbaV1dLmxpX2F0dHIuY2xhc3M9bFtoXS5saV9hdHRyLmNsYXNzK1wiIFwiK2RbY1tpXV0ubGlfYXR0ci5jbGFzcyl9aWYobFtoXS5hX2F0dHIhPT10JiZcIm9iamVjdFwiPT09YShsW2hdLmFfYXR0cikpZm9yKG8gaW4gbFtoXS5hX2F0dHIpaWYobFtoXS5hX2F0dHIuaGFzT3duUHJvcGVydHkobykpe2lmKFwiaWRcIj09PW8pY29udGludWU7ZFtjW2ldXS5hX2F0dHJbb109PT10P2RbY1tpXV0uYV9hdHRyW29dPWxbaF0uYV9hdHRyW29dOlwiaHJlZlwiPT09byYmXCIjXCI9PT1kW2NbaV1dLmFfYXR0cltvXT9kW2NbaV1dLmFfYXR0ci5ocmVmPWxbaF0uYV9hdHRyLmhyZWY6XCJjbGFzc1wiPT09byYmKGRbY1tpXV0uYV9hdHRyLmNsYXNzPWxbaF0uYV9hdHRyLmNsYXNzK1wiIFwiK2RbY1tpXV0uYV9hdHRyLmNsYXNzKX19ZFtlLmpzdHJlZS5yb290XS50eXBlPWUuanN0cmVlLnJvb3R9LHRoaXMpKSxyLmJpbmQuY2FsbCh0aGlzKX0sdGhpcy5nZXRfanNvbj1mdW5jdGlvbih0LG4saSl7dmFyIHMsYSxvPXRoaXMuX21vZGVsLmRhdGEsZD1uP2UuZXh0ZW5kKCEwLHt9LG4se25vX2lkOiExfSk6e30sYz1yLmdldF9qc29uLmNhbGwodGhpcyx0LGQsaSk7aWYoITE9PT1jKXJldHVybiExO2lmKGUuaXNBcnJheShjKSlmb3Iocz0wLGE9Yy5sZW5ndGg7czxhO3MrKyljW3NdLnR5cGU9Y1tzXS5pZCYmb1tjW3NdLmlkXSYmb1tjW3NdLmlkXS50eXBlP29bY1tzXS5pZF0udHlwZTpcImRlZmF1bHRcIixuJiZuLm5vX2lkJiYoZGVsZXRlIGNbc10uaWQsY1tzXS5saV9hdHRyJiZjW3NdLmxpX2F0dHIuaWQmJmRlbGV0ZSBjW3NdLmxpX2F0dHIuaWQsY1tzXS5hX2F0dHImJmNbc10uYV9hdHRyLmlkJiZkZWxldGUgY1tzXS5hX2F0dHIuaWQpO2Vsc2UgYy50eXBlPWMuaWQmJm9bYy5pZF0mJm9bYy5pZF0udHlwZT9vW2MuaWRdLnR5cGU6XCJkZWZhdWx0XCIsbiYmbi5ub19pZCYmKGM9dGhpcy5fZGVsZXRlX2lkcyhjKSk7cmV0dXJuIGN9LHRoaXMuX2RlbGV0ZV9pZHM9ZnVuY3Rpb24odCl7aWYoZS5pc0FycmF5KHQpKXtmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjtuKyspdFtuXT10aGlzLl9kZWxldGVfaWRzKHRbbl0pO3JldHVybiB0fXJldHVybiBkZWxldGUgdC5pZCx0LmxpX2F0dHImJnQubGlfYXR0ci5pZCYmZGVsZXRlIHQubGlfYXR0ci5pZCx0LmFfYXR0ciYmdC5hX2F0dHIuaWQmJmRlbGV0ZSB0LmFfYXR0ci5pZCx0LmNoaWxkcmVuJiZlLmlzQXJyYXkodC5jaGlsZHJlbikmJih0LmNoaWxkcmVuPXRoaXMuX2RlbGV0ZV9pZHModC5jaGlsZHJlbikpLHR9LHRoaXMuY2hlY2s9ZnVuY3Rpb24obixpLHMsYSxvKXtpZighMT09PXIuY2hlY2suY2FsbCh0aGlzLG4saSxzLGEsbykpcmV0dXJuITE7aT1pJiZpLmlkP2k6dGhpcy5nZXRfbm9kZShpKSxzPXMmJnMuaWQ/czp0aGlzLmdldF9ub2RlKHMpO3ZhciBkLGMsbCxoLHU9aSYmaS5pZD9vJiZvLm9yaWdpbj9vLm9yaWdpbjplLmpzdHJlZS5yZWZlcmVuY2UoaS5pZCk6bnVsbDtzd2l0Y2godT11JiZ1Ll9tb2RlbCYmdS5fbW9kZWwuZGF0YT91Ll9tb2RlbC5kYXRhOm51bGwsbil7Y2FzZVwiY3JlYXRlX25vZGVcIjpjYXNlXCJtb3ZlX25vZGVcIjpjYXNlXCJjb3B5X25vZGVcIjppZihcIm1vdmVfbm9kZVwiIT09bnx8LTE9PT1lLmluQXJyYXkoaS5pZCxzLmNoaWxkcmVuKSl7aWYoKGQ9dGhpcy5nZXRfcnVsZXMocykpLm1heF9jaGlsZHJlbiE9PXQmJi0xIT09ZC5tYXhfY2hpbGRyZW4mJmQubWF4X2NoaWxkcmVuPT09cy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwidHlwZXNcIixpZDpcInR5cGVzXzAxXCIscmVhc29uOlwibWF4X2NoaWxkcmVuIHByZXZlbnRzIGZ1bmN0aW9uOiBcIituLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpuLHBvczphLG9iajohKCFpfHwhaS5pZCkmJmkuaWQscGFyOiEoIXN8fCFzLmlkKSYmcy5pZH0pfSwhMTtpZihkLnZhbGlkX2NoaWxkcmVuIT09dCYmLTEhPT1kLnZhbGlkX2NoaWxkcmVuJiYtMT09PWUuaW5BcnJheShpLnR5cGV8fFwiZGVmYXVsdFwiLGQudmFsaWRfY2hpbGRyZW4pKXJldHVybiB0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInR5cGVzXCIsaWQ6XCJ0eXBlc18wMlwiLHJlYXNvbjpcInZhbGlkX2NoaWxkcmVuIHByZXZlbnRzIGZ1bmN0aW9uOiBcIituLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpuLHBvczphLG9iajohKCFpfHwhaS5pZCkmJmkuaWQscGFyOiEoIXN8fCFzLmlkKSYmcy5pZH0pfSwhMTtpZih1JiZpLmNoaWxkcmVuX2QmJmkucGFyZW50cyl7Zm9yKGM9MCxsPTAsaD1pLmNoaWxkcmVuX2QubGVuZ3RoO2w8aDtsKyspYz1NYXRoLm1heChjLHVbaS5jaGlsZHJlbl9kW2xdXS5wYXJlbnRzLmxlbmd0aCk7Yz1jLWkucGFyZW50cy5sZW5ndGgrMX0oYzw9MHx8Yz09PXQpJiYoYz0xKTtkb3tpZihkLm1heF9kZXB0aCE9PXQmJi0xIT09ZC5tYXhfZGVwdGgmJmQubWF4X2RlcHRoPGMpcmV0dXJuIHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwidHlwZXNcIixpZDpcInR5cGVzXzAzXCIscmVhc29uOlwibWF4X2RlcHRoIHByZXZlbnRzIGZ1bmN0aW9uOiBcIituLGRhdGE6SlNPTi5zdHJpbmdpZnkoe2NoazpuLHBvczphLG9iajohKCFpfHwhaS5pZCkmJmkuaWQscGFyOiEoIXN8fCFzLmlkKSYmcy5pZH0pfSwhMTtzPXRoaXMuZ2V0X25vZGUocy5wYXJlbnQpLGQ9dGhpcy5nZXRfcnVsZXMocyksYysrfXdoaWxlKHMpfX1yZXR1cm4hMH0sdGhpcy5nZXRfcnVsZXM9ZnVuY3Rpb24oZSl7aWYoIShlPXRoaXMuZ2V0X25vZGUoZSkpKXJldHVybiExO3ZhciBuPXRoaXMuZ2V0X3R5cGUoZSwhMCk7cmV0dXJuIG4ubWF4X2RlcHRoPT09dCYmKG4ubWF4X2RlcHRoPS0xKSxuLm1heF9jaGlsZHJlbj09PXQmJihuLm1heF9jaGlsZHJlbj0tMSksbi52YWxpZF9jaGlsZHJlbj09PXQmJihuLnZhbGlkX2NoaWxkcmVuPS0xKSxufSx0aGlzLmdldF90eXBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuISEodD10aGlzLmdldF9ub2RlKHQpKSYmKG4/ZS5leHRlbmQoe3R5cGU6dC50eXBlfSx0aGlzLnNldHRpbmdzLnR5cGVzW3QudHlwZV0pOnQudHlwZSl9LHRoaXMuc2V0X3R5cGU9ZnVuY3Rpb24obixyKXt2YXIgaSxzLG8sZCxjLGwsaCx1LGY9dGhpcy5fbW9kZWwuZGF0YTtpZihlLmlzQXJyYXkobikpe2ZvcihuPW4uc2xpY2UoKSxzPTAsbz1uLmxlbmd0aDtzPG87cysrKXRoaXMuc2V0X3R5cGUobltzXSxyKTtyZXR1cm4hMH1pZihpPXRoaXMuc2V0dGluZ3MudHlwZXMsbj10aGlzLmdldF9ub2RlKG4pLCFpW3JdfHwhbilyZXR1cm4hMTtpZigoaD10aGlzLmdldF9ub2RlKG4sITApKSYmaC5sZW5ndGgmJih1PWguY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKSksZD1uLnR5cGUsYz10aGlzLmdldF9pY29uKG4pLG4udHlwZT1yLCghMD09PWN8fCFpW2RdfHxpW2RdLmljb24hPT10JiZjPT09aVtkXS5pY29uKSYmdGhpcy5zZXRfaWNvbihuLGlbcl0uaWNvbj09PXR8fGlbcl0uaWNvbiksaVtkXSYmaVtkXS5saV9hdHRyIT09dCYmXCJvYmplY3RcIj09PWEoaVtkXS5saV9hdHRyKSlmb3IobCBpbiBpW2RdLmxpX2F0dHIpaWYoaVtkXS5saV9hdHRyLmhhc093blByb3BlcnR5KGwpKXtpZihcImlkXCI9PT1sKWNvbnRpbnVlO1wiY2xhc3NcIj09PWw/KGZbbi5pZF0ubGlfYXR0ci5jbGFzcz0oZltuLmlkXS5saV9hdHRyLmNsYXNzfHxcIlwiKS5yZXBsYWNlKGlbZF0ubGlfYXR0cltsXSxcIlwiKSxoJiZoLnJlbW92ZUNsYXNzKGlbZF0ubGlfYXR0cltsXSkpOmZbbi5pZF0ubGlfYXR0cltsXT09PWlbZF0ubGlfYXR0cltsXSYmKGZbbi5pZF0ubGlfYXR0cltsXT1udWxsLGgmJmgucmVtb3ZlQXR0cihsKSl9aWYoaVtkXSYmaVtkXS5hX2F0dHIhPT10JiZcIm9iamVjdFwiPT09YShpW2RdLmFfYXR0cikpZm9yKGwgaW4gaVtkXS5hX2F0dHIpaWYoaVtkXS5hX2F0dHIuaGFzT3duUHJvcGVydHkobCkpe2lmKFwiaWRcIj09PWwpY29udGludWU7XCJjbGFzc1wiPT09bD8oZltuLmlkXS5hX2F0dHIuY2xhc3M9KGZbbi5pZF0uYV9hdHRyLmNsYXNzfHxcIlwiKS5yZXBsYWNlKGlbZF0uYV9hdHRyW2xdLFwiXCIpLHUmJnUucmVtb3ZlQ2xhc3MoaVtkXS5hX2F0dHJbbF0pKTpmW24uaWRdLmFfYXR0cltsXT09PWlbZF0uYV9hdHRyW2xdJiYoXCJocmVmXCI9PT1sPyhmW24uaWRdLmFfYXR0cltsXT1cIiNcIix1JiZ1LmF0dHIoXCJocmVmXCIsXCIjXCIpKTooZGVsZXRlIGZbbi5pZF0uYV9hdHRyW2xdLHUmJnUucmVtb3ZlQXR0cihsKSkpfWlmKGlbcl0ubGlfYXR0ciE9PXQmJlwib2JqZWN0XCI9PT1hKGlbcl0ubGlfYXR0cikpZm9yKGwgaW4gaVtyXS5saV9hdHRyKWlmKGlbcl0ubGlfYXR0ci5oYXNPd25Qcm9wZXJ0eShsKSl7aWYoXCJpZFwiPT09bCljb250aW51ZTtmW24uaWRdLmxpX2F0dHJbbF09PT10PyhmW24uaWRdLmxpX2F0dHJbbF09aVtyXS5saV9hdHRyW2xdLGgmJihcImNsYXNzXCI9PT1sP2guYWRkQ2xhc3MoaVtyXS5saV9hdHRyW2xdKTpoLmF0dHIobCxpW3JdLmxpX2F0dHJbbF0pKSk6XCJjbGFzc1wiPT09bCYmKGZbbi5pZF0ubGlfYXR0ci5jbGFzcz1pW3JdLmxpX2F0dHJbbF0rXCIgXCIrZltuLmlkXS5saV9hdHRyLmNsYXNzLGgmJmguYWRkQ2xhc3MoaVtyXS5saV9hdHRyW2xdKSl9aWYoaVtyXS5hX2F0dHIhPT10JiZcIm9iamVjdFwiPT09YShpW3JdLmFfYXR0cikpZm9yKGwgaW4gaVtyXS5hX2F0dHIpaWYoaVtyXS5hX2F0dHIuaGFzT3duUHJvcGVydHkobCkpe2lmKFwiaWRcIj09PWwpY29udGludWU7ZltuLmlkXS5hX2F0dHJbbF09PT10PyhmW24uaWRdLmFfYXR0cltsXT1pW3JdLmFfYXR0cltsXSx1JiYoXCJjbGFzc1wiPT09bD91LmFkZENsYXNzKGlbcl0uYV9hdHRyW2xdKTp1LmF0dHIobCxpW3JdLmFfYXR0cltsXSkpKTpcImhyZWZcIj09PWwmJlwiI1wiPT09ZltuLmlkXS5hX2F0dHJbbF0/KGZbbi5pZF0uYV9hdHRyLmhyZWY9aVtyXS5hX2F0dHIuaHJlZix1JiZ1LmF0dHIoXCJocmVmXCIsaVtyXS5hX2F0dHIuaHJlZikpOlwiY2xhc3NcIj09PWwmJihmW24uaWRdLmFfYXR0ci5jbGFzcz1pW3JdLmFfYXR0ci5jbGFzcytcIiBcIitmW24uaWRdLmFfYXR0ci5jbGFzcyx1JiZ1LmFkZENsYXNzKGlbcl0uYV9hdHRyW2xdKSl9cmV0dXJuITB9fSxlLmpzdHJlZS5kZWZhdWx0cy51bmlxdWU9e2Nhc2Vfc2Vuc2l0aXZlOiExLHRyaW1fd2hpdGVzcGFjZTohMSxkdXBsaWNhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZStcIiAoXCIrdCtcIilcIn19LGUuanN0cmVlLnBsdWdpbnMudW5pcXVlPWZ1bmN0aW9uKG4scil7dGhpcy5jaGVjaz1mdW5jdGlvbih0LG4saSxzLGEpe2lmKCExPT09ci5jaGVjay5jYWxsKHRoaXMsdCxuLGkscyxhKSlyZXR1cm4hMTtpZihuPW4mJm4uaWQ/bjp0aGlzLmdldF9ub2RlKG4pLCEoaT1pJiZpLmlkP2k6dGhpcy5nZXRfbm9kZShpKSl8fCFpLmNoaWxkcmVuKXJldHVybiEwO3ZhciBvLGQsYyxsPVwicmVuYW1lX25vZGVcIj09PXQ/czpuLnRleHQsaD1bXSx1PXRoaXMuc2V0dGluZ3MudW5pcXVlLmNhc2Vfc2Vuc2l0aXZlLGY9dGhpcy5zZXR0aW5ncy51bmlxdWUudHJpbV93aGl0ZXNwYWNlLHA9dGhpcy5fbW9kZWwuZGF0YTtmb3Iobz0wLGQ9aS5jaGlsZHJlbi5sZW5ndGg7bzxkO28rKyljPXBbaS5jaGlsZHJlbltvXV0udGV4dCx1fHwoYz1jLnRvTG93ZXJDYXNlKCkpLGYmJihjPWMucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXCJcIikpLGgucHVzaChjKTtzd2l0Y2godXx8KGw9bC50b0xvd2VyQ2FzZSgpKSxmJiYobD1sLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpKSx0KXtjYXNlXCJkZWxldGVfbm9kZVwiOnJldHVybiEwO2Nhc2VcInJlbmFtZV9ub2RlXCI6cmV0dXJuIGM9bi50ZXh0fHxcIlwiLHV8fChjPWMudG9Mb3dlckNhc2UoKSksZiYmKGM9Yy5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKSksKG89LTE9PT1lLmluQXJyYXkobCxoKXx8bi50ZXh0JiZjPT09bCl8fCh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInVuaXF1ZVwiLGlkOlwidW5pcXVlXzAxXCIscmVhc29uOlwiQ2hpbGQgd2l0aCBuYW1lIFwiK2wrXCIgYWxyZWFkeSBleGlzdHMuIFByZXZlbnRpbmc6IFwiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnMsb2JqOiEoIW58fCFuLmlkKSYmbi5pZCxwYXI6ISghaXx8IWkuaWQpJiZpLmlkfSl9KSxvO2Nhc2VcImNyZWF0ZV9ub2RlXCI6cmV0dXJuKG89LTE9PT1lLmluQXJyYXkobCxoKSl8fCh0aGlzLl9kYXRhLmNvcmUubGFzdF9lcnJvcj17ZXJyb3I6XCJjaGVja1wiLHBsdWdpbjpcInVuaXF1ZVwiLGlkOlwidW5pcXVlXzA0XCIscmVhc29uOlwiQ2hpbGQgd2l0aCBuYW1lIFwiK2wrXCIgYWxyZWFkeSBleGlzdHMuIFByZXZlbnRpbmc6IFwiK3QsZGF0YTpKU09OLnN0cmluZ2lmeSh7Y2hrOnQscG9zOnMsb2JqOiEoIW58fCFuLmlkKSYmbi5pZCxwYXI6ISghaXx8IWkuaWQpJiZpLmlkfSl9KSxvO2Nhc2VcImNvcHlfbm9kZVwiOnJldHVybihvPS0xPT09ZS5pbkFycmF5KGwsaCkpfHwodGhpcy5fZGF0YS5jb3JlLmxhc3RfZXJyb3I9e2Vycm9yOlwiY2hlY2tcIixwbHVnaW46XCJ1bmlxdWVcIixpZDpcInVuaXF1ZV8wMlwiLHJlYXNvbjpcIkNoaWxkIHdpdGggbmFtZSBcIitsK1wiIGFscmVhZHkgZXhpc3RzLiBQcmV2ZW50aW5nOiBcIit0LGRhdGE6SlNPTi5zdHJpbmdpZnkoe2Noazp0LHBvczpzLG9iajohKCFufHwhbi5pZCkmJm4uaWQscGFyOiEoIWl8fCFpLmlkKSYmaS5pZH0pfSksbztjYXNlXCJtb3ZlX25vZGVcIjpyZXR1cm4obz1uLnBhcmVudD09PWkuaWQmJighYXx8IWEuaXNfbXVsdGkpfHwtMT09PWUuaW5BcnJheShsLGgpKXx8KHRoaXMuX2RhdGEuY29yZS5sYXN0X2Vycm9yPXtlcnJvcjpcImNoZWNrXCIscGx1Z2luOlwidW5pcXVlXCIsaWQ6XCJ1bmlxdWVfMDNcIixyZWFzb246XCJDaGlsZCB3aXRoIG5hbWUgXCIrbCtcIiBhbHJlYWR5IGV4aXN0cy4gUHJldmVudGluZzogXCIrdCxkYXRhOkpTT04uc3RyaW5naWZ5KHtjaGs6dCxwb3M6cyxvYmo6ISghbnx8IW4uaWQpJiZuLmlkLHBhcjohKCFpfHwhaS5pZCkmJmkuaWR9KX0pLG99cmV0dXJuITB9LHRoaXMuY3JlYXRlX25vZGU9ZnVuY3Rpb24obixpLHMsYSxvKXtpZighaXx8aS50ZXh0PT09dCl7aWYobnVsbD09PW4mJihuPWUuanN0cmVlLnJvb3QpLCEobj10aGlzLmdldF9ub2RlKG4pKSlyZXR1cm4gci5jcmVhdGVfbm9kZS5jYWxsKHRoaXMsbixpLHMsYSxvKTtpZighKHM9cz09PXQ/XCJsYXN0XCI6cykudG9TdHJpbmcoKS5tYXRjaCgvXihiZWZvcmV8YWZ0ZXIpJC8pJiYhbyYmIXRoaXMuaXNfbG9hZGVkKG4pKXJldHVybiByLmNyZWF0ZV9ub2RlLmNhbGwodGhpcyxuLGkscyxhLG8pO2l8fChpPXt9KTt2YXIgZCxjLGwsaCx1LGYscD10aGlzLl9tb2RlbC5kYXRhLGc9dGhpcy5zZXR0aW5ncy51bmlxdWUuY2FzZV9zZW5zaXRpdmUsXz10aGlzLnNldHRpbmdzLnVuaXF1ZS50cmltX3doaXRlc3BhY2UsbT10aGlzLnNldHRpbmdzLnVuaXF1ZS5kdXBsaWNhdGU7Zm9yKGM9ZD10aGlzLmdldF9zdHJpbmcoXCJOZXcgbm9kZVwiKSxsPVtdLGg9MCx1PW4uY2hpbGRyZW4ubGVuZ3RoO2g8dTtoKyspZj1wW24uY2hpbGRyZW5baF1dLnRleHQsZ3x8KGY9Zi50b0xvd2VyQ2FzZSgpKSxfJiYoZj1mLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpKSxsLnB1c2goZik7Zm9yKGg9MSxmPWMsZ3x8KGY9Zi50b0xvd2VyQ2FzZSgpKSxfJiYoZj1mLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpKTstMSE9PWUuaW5BcnJheShmLGwpOyljPW0uY2FsbCh0aGlzLGQsKytoKS50b1N0cmluZygpLGY9YyxnfHwoZj1mLnRvTG93ZXJDYXNlKCkpLF8mJihmPWYucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXCJcIikpO2kudGV4dD1jfXJldHVybiByLmNyZWF0ZV9ub2RlLmNhbGwodGhpcyxuLGkscyxhLG8pfX07dmFyIHA9Yy5jcmVhdGVFbGVtZW50KFwiRElWXCIpO2lmKHAuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKSxwLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInByZXNlbnRhdGlvblwiKSxwLmNsYXNzTmFtZT1cImpzdHJlZS13aG9sZXJvd1wiLHAuaW5uZXJIVE1MPVwiJiMxNjA7XCIsZS5qc3RyZWUucGx1Z2lucy53aG9sZXJvdz1mdW5jdGlvbih0LG4pe3RoaXMuYmluZD1mdW5jdGlvbigpe24uYmluZC5jYWxsKHRoaXMpLHRoaXMuZWxlbWVudC5vbihcInJlYWR5LmpzdHJlZSBzZXRfc3RhdGUuanN0cmVlXCIsZS5wcm94eShmdW5jdGlvbigpe3RoaXMuaGlkZV9kb3RzKCl9LHRoaXMpKS5vbihcImluaXQuanN0cmVlIGxvYWRpbmcuanN0cmVlIHJlYWR5LmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oKXt0aGlzLmdldF9jb250YWluZXJfdWwoKS5hZGRDbGFzcyhcImpzdHJlZS13aG9sZXJvdy11bFwiKX0sdGhpcykpLm9uKFwiZGVzZWxlY3RfYWxsLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtd2hvbGVyb3ctY2xpY2tlZFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS13aG9sZXJvdy1jbGlja2VkXCIpfSx0aGlzKSkub24oXCJjaGFuZ2VkLmpzdHJlZVwiLGUucHJveHkoZnVuY3Rpb24oZSx0KXt0aGlzLmVsZW1lbnQuZmluZChcIi5qc3RyZWUtd2hvbGVyb3ctY2xpY2tlZFwiKS5yZW1vdmVDbGFzcyhcImpzdHJlZS13aG9sZXJvdy1jbGlja2VkXCIpO3ZhciBuLHIsaT0hMTtmb3Iobj0wLHI9dC5zZWxlY3RlZC5sZW5ndGg7bjxyO24rKykoaT10aGlzLmdldF9ub2RlKHQuc2VsZWN0ZWRbbl0sITApKSYmaS5sZW5ndGgmJmkuY2hpbGRyZW4oXCIuanN0cmVlLXdob2xlcm93XCIpLmFkZENsYXNzKFwianN0cmVlLXdob2xlcm93LWNsaWNrZWRcIil9LHRoaXMpKS5vbihcIm9wZW5fbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7dGhpcy5nZXRfbm9kZSh0Lm5vZGUsITApLmZpbmQoXCIuanN0cmVlLWNsaWNrZWRcIikucGFyZW50KCkuY2hpbGRyZW4oXCIuanN0cmVlLXdob2xlcm93XCIpLmFkZENsYXNzKFwianN0cmVlLXdob2xlcm93LWNsaWNrZWRcIil9LHRoaXMpKS5vbihcImhvdmVyX25vZGUuanN0cmVlIGRlaG92ZXJfbm9kZS5qc3RyZWVcIixlLnByb3h5KGZ1bmN0aW9uKGUsdCl7XCJob3Zlcl9ub2RlXCI9PT1lLnR5cGUmJnRoaXMuaXNfZGlzYWJsZWQodC5ub2RlKXx8dGhpcy5nZXRfbm9kZSh0Lm5vZGUsITApLmNoaWxkcmVuKFwiLmpzdHJlZS13aG9sZXJvd1wiKVtcImhvdmVyX25vZGVcIj09PWUudHlwZT9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImpzdHJlZS13aG9sZXJvdy1ob3ZlcmVkXCIpfSx0aGlzKSkub24oXCJjb250ZXh0bWVudS5qc3RyZWVcIixcIi5qc3RyZWUtd2hvbGVyb3dcIixlLnByb3h5KGZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RhdGEuY29udGV4dG1lbnUpe3QucHJldmVudERlZmF1bHQoKTt2YXIgbj1lLkV2ZW50KFwiY29udGV4dG1lbnVcIix7bWV0YUtleTp0Lm1ldGFLZXksY3RybEtleTp0LmN0cmxLZXksYWx0S2V5OnQuYWx0S2V5LHNoaWZ0S2V5OnQuc2hpZnRLZXkscGFnZVg6dC5wYWdlWCxwYWdlWTp0LnBhZ2VZfSk7ZSh0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5maXJzdCgpLnRyaWdnZXIobil9fSx0aGlzKSlcbi8qIVxuICAgLm9uKFwibW91c2Vkb3duLmpzdHJlZSB0b3VjaHN0YXJ0LmpzdHJlZVwiLCBcIi5qc3RyZWUtd2hvbGVyb3dcIiwgZnVuY3Rpb24gKGUpIHtcbiAgIFx0XHRpZihlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XG4gICBcdFx0XHR2YXIgYSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIik7XG4gICBcdFx0XHRlLnRhcmdldCA9IGFbMF07XG4gICBcdFx0XHRhLnRyaWdnZXIoZSk7XG4gICBcdFx0fVxuICAgXHR9KVxuICAgKi8ub24oXCJjbGljay5qc3RyZWVcIixcIi5qc3RyZWUtd2hvbGVyb3dcIixmdW5jdGlvbih0KXt0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3ZhciBuPWUuRXZlbnQoXCJjbGlja1wiLHttZXRhS2V5OnQubWV0YUtleSxjdHJsS2V5OnQuY3RybEtleSxhbHRLZXk6dC5hbHRLZXksc2hpZnRLZXk6dC5zaGlmdEtleX0pO2UodC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KFwiLmpzdHJlZS1ub2RlXCIpLmNoaWxkcmVuKFwiLmpzdHJlZS1hbmNob3JcIikuZmlyc3QoKS50cmlnZ2VyKG4pLmZvY3VzKCl9KS5vbihcImRibGNsaWNrLmpzdHJlZVwiLFwiLmpzdHJlZS13aG9sZXJvd1wiLGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIG49ZS5FdmVudChcImRibGNsaWNrXCIse21ldGFLZXk6dC5tZXRhS2V5LGN0cmxLZXk6dC5jdHJsS2V5LGFsdEtleTp0LmFsdEtleSxzaGlmdEtleTp0LnNoaWZ0S2V5fSk7ZSh0LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoXCIuanN0cmVlLW5vZGVcIikuY2hpbGRyZW4oXCIuanN0cmVlLWFuY2hvclwiKS5maXJzdCgpLnRyaWdnZXIobikuZm9jdXMoKX0pLm9uKFwiY2xpY2suanN0cmVlXCIsXCIuanN0cmVlLWxlYWYgPiAuanN0cmVlLW9jbFwiLGUucHJveHkoZnVuY3Rpb24odCl7dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgbj1lLkV2ZW50KFwiY2xpY2tcIix7bWV0YUtleTp0Lm1ldGFLZXksY3RybEtleTp0LmN0cmxLZXksYWx0S2V5OnQuYWx0S2V5LHNoaWZ0S2V5OnQuc2hpZnRLZXl9KTtlKHQuY3VycmVudFRhcmdldCkuY2xvc2VzdChcIi5qc3RyZWUtbm9kZVwiKS5jaGlsZHJlbihcIi5qc3RyZWUtYW5jaG9yXCIpLmZpcnN0KCkudHJpZ2dlcihuKS5mb2N1cygpfSx0aGlzKSkub24oXCJtb3VzZW92ZXIuanN0cmVlXCIsXCIuanN0cmVlLXdob2xlcm93LCAuanN0cmVlLWljb25cIixlLnByb3h5KGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuaXNfZGlzYWJsZWQoZS5jdXJyZW50VGFyZ2V0KXx8dGhpcy5ob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCksITF9LHRoaXMpKS5vbihcIm1vdXNlbGVhdmUuanN0cmVlXCIsXCIuanN0cmVlLW5vZGVcIixlLnByb3h5KGZ1bmN0aW9uKGUpe3RoaXMuZGVob3Zlcl9ub2RlKGUuY3VycmVudFRhcmdldCl9LHRoaXMpKX0sdGhpcy50ZWFyZG93bj1mdW5jdGlvbigpe3RoaXMuc2V0dGluZ3Mud2hvbGVyb3cmJnRoaXMuZWxlbWVudC5maW5kKFwiLmpzdHJlZS13aG9sZXJvd1wiKS5yZW1vdmUoKSxuLnRlYXJkb3duLmNhbGwodGhpcyl9LHRoaXMucmVkcmF3X25vZGU9ZnVuY3Rpb24odCxyLGkscyl7aWYodD1uLnJlZHJhd19ub2RlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl7dmFyIGE9cC5jbG9uZU5vZGUoITApOy0xIT09ZS5pbkFycmF5KHQuaWQsdGhpcy5fZGF0YS5jb3JlLnNlbGVjdGVkKSYmKGEuY2xhc3NOYW1lKz1cIiBqc3RyZWUtd2hvbGVyb3ctY2xpY2tlZFwiKSx0aGlzLl9kYXRhLmNvcmUuZm9jdXNlZCYmdGhpcy5fZGF0YS5jb3JlLmZvY3VzZWQ9PT10LmlkJiYoYS5jbGFzc05hbWUrPVwiIGpzdHJlZS13aG9sZXJvdy1ob3ZlcmVkXCIpLHQuaW5zZXJ0QmVmb3JlKGEsdC5jaGlsZE5vZGVzWzBdKX1yZXR1cm4gdH19LGMucmVnaXN0ZXJFbGVtZW50JiZPYmplY3QmJk9iamVjdC5jcmVhdGUpe3ZhciBnPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKTtnLmNyZWF0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3ZhciB0LG49e2NvcmU6e30scGx1Z2luczpbXX07Zm9yKHQgaW4gZS5qc3RyZWUucGx1Z2lucyllLmpzdHJlZS5wbHVnaW5zLmhhc093blByb3BlcnR5KHQpJiZ0aGlzLmF0dHJpYnV0ZXNbdF0mJihuLnBsdWdpbnMucHVzaCh0KSx0aGlzLmdldEF0dHJpYnV0ZSh0KSYmSlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSh0KSkmJihuW3RdPUpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUodCkpKSk7Zm9yKHQgaW4gZS5qc3RyZWUuZGVmYXVsdHMuY29yZSllLmpzdHJlZS5kZWZhdWx0cy5jb3JlLmhhc093blByb3BlcnR5KHQpJiZ0aGlzLmF0dHJpYnV0ZXNbdF0mJihuLmNvcmVbdF09SlNPTi5wYXJzZSh0aGlzLmdldEF0dHJpYnV0ZSh0KSl8fHRoaXMuZ2V0QXR0cmlidXRlKHQpKTtlKHRoaXMpLmpzdHJlZShuKX07dHJ5e2MucmVnaXN0ZXJFbGVtZW50KFwidmFrYXRhLWpzdHJlZVwiLHtwcm90b3R5cGU6Z30pfWNhdGNoKGUpe319fX0pP3IuYXBwbHkodCxpKTpyKXx8KGUuZXhwb3J0cz1zKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZS53ZWJwYWNrUG9seWZpbGx8fChlLmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sZS5wYXRocz1bXSxlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pfX0pLGUud2VicGFja1BvbHlmaWxsPTEpLGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHIsaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpLHM9bigwKSxhPShyPXMpJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfTtuKDMpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4peyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdC5kYXRhc2V0Lm5ndWl0cmVlfHwodGhpcy5zZXR0aW5ncz1PYmplY3QuYXNzaWduKHt9LHttb2RhbDohMSx0cmVlQ2xhc3NOYW1lOlwibmctdWktdHJlZVwiLG1vZGFsQ2xhc3NOYW1lOlwibmctbW9kYWxcIn0sbiksdGhpcy5lbD10LHRoaXMudHJlZT10aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5zZXR0aW5ncy50cmVlQ2xhc3NOYW1lKSx0aGlzLiR0cmVlPSgwLGEuZGVmYXVsdCkodGhpcy50cmVlKSx0aGlzLmRpc2FibGVTdWJ0cmVlPXRoaXMudHJlZS5kYXRhc2V0LmRpc2FibGVzdWJ0cmVlLHRoaXMuc2V0dGluZ3MubW9kYWwmJih0aGlzLm1vZGFsPXRoaXMuZWwucXVlcnlTZWxlY3RvcihcIi5cIit0aGlzLnNldHRpbmdzLm1vZGFsQ2xhc3NOYW1lKSx0aGlzLm1vZGFsSW5pdCgpKSx0aGlzLnRyZWVJbml0KCkpfXJldHVybiBpKGUsW3trZXk6XCJ0cmVlSW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVsLmRhdGFzZXQubmd1aXRyZWU9ITAsdGhpcy4kdHJlZS5qc3RyZWUoe3BsdWdpbnM6W1wic29ydFwiLFwiY29udGV4dG1lbnVcIixcInVpXCJdLGNvbnRleHRtZW51OntzZWxlY3Rfbm9kZTohMSxpdGVtczp0aGlzLnNldHRpbmdzLm1vZGFsP1wiXCI6ZS50cmVlQ29udGV4dE1lbnV9LGNvcmU6e3dvcmtlcjohMSxkYXRhOnt1cmw6ZnVuY3Rpb24oZSl7dmFyIG49dC50cmVlLmRhdGFzZXQucGF0aCxyPXQudHJlZS5kYXRhc2V0LnJvb3RpdGVtaWQ7cmV0dXJuIG4ucmVwbGFjZShcIl9pdGVtSWRfXCIsZS5pZCkucmVwbGFjZShcIiNcIixyK1wiL3RydWVcIil9fSx0aGVtZXM6e25hbWU6XCJuZy11aVwifX19KS5vbihcInJlYWR5LmpzdHJlZVwiLGZ1bmN0aW9uKGUsbil7dmFyIHI9dC50cmVlLmRhdGFzZXQuc2VsZWN0ZWRpdGVtcGF0aHx8XCIvMC9cIjtyPXIucmVwbGFjZSgvXlxcLy8sXCJcIikucmVwbGFjZSgvXFwvJC8sXCJcIikuc3BsaXQoXCIvXCIpLHQuJHRyZWUuanN0cmVlKCEwKS5sb2FkX25vZGUocixmdW5jdGlvbigpe3ZhciBlPXJbci5sZW5ndGgtMV07bi5pbnN0YW5jZS5zZWxlY3Rfbm9kZShlKSx0LnNldHRpbmdzLm1vZGFsfHx0LiR0cmVlLmZpbmQoXCJhI1wiK2UrXCJfYW5jaG9yXCIpLmFkZENsYXNzKFwic2VsZWN0ZWRcIil9KSxcIlwiIT09dC5kaXNhYmxlU3VidHJlZSYmdC5kaXNhYmxlU3VidHJlZS50b1N0cmluZygpLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuZGlzYWJsZU5vZGUoZSl9KX0pLm9uKFwibG9hZF9ub2RlLmpzdHJlZVwiLGZ1bmN0aW9uKGUsbil7XCJcIiE9PXQuZGlzYWJsZVN1YnRyZWUmJi0xIT09dC5kaXNhYmxlU3VidHJlZS50b1N0cmluZygpLnNwbGl0KFwiLFwiKS5pbmRleE9mKG4ubm9kZS5pZCkmJnQuZGlzYWJsZU5vZGUobi5ub2RlLmlkKX0pLm9uKFwib3Blbl9ub2RlLmpzdHJlZVwiLGZ1bmN0aW9uKCl7XCJcIiE9PXQuZGlzYWJsZVN1YnRyZWUmJnQuZGlzYWJsZU5vZGUodC5kaXNhYmxlU3VidHJlZSl9KS5vbihcImNsaWNrXCIsXCIuanN0cmVlLWFuY2hvclwiLGZ1bmN0aW9uKGUpe3ZhciBuPSgwLGEuZGVmYXVsdCkoZS5jdXJyZW50VGFyZ2V0KS5qc3RyZWUoITApLmdldF9ub2RlKCgwLGEuZGVmYXVsdCkoZS5jdXJyZW50VGFyZ2V0KSk7aWYoXCJcIiE9PXQuZGlzYWJsZVN1YnRyZWUpe2lmKHQuZGlzYWJsZVN1YnRyZWU9dC5kaXNhYmxlU3VidHJlZS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSwtMSE9PXQuZGlzYWJsZVN1YnRyZWUuaW5kZXhPZihuLmlkKSlyZXR1cm47aWYodC5kaXNhYmxlU3VidHJlZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1uLnBhcmVudHMuaW5kZXhPZihlKX0pLmxlbmd0aD4wKXJldHVybn10LnNldHRpbmdzLm1vZGFsPyh0LmVsLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dC5pdGVtLWlkXCIpLnZhbHVlPW4uaWQsdm9pZCAwPT09bi50ZXh0fHxcIjBcIj09PW4uaWQ/dC5lbC5xdWVyeVNlbGVjdG9yKFwic3Bhbi5uZy11aS1rZXl3b3JkXCIpLmlubmVySFRNTD10LmVsLmRhdGFzZXQubm92YWx1ZXRleHQ6dC5lbC5xdWVyeVNlbGVjdG9yKFwic3Bhbi5uZy11aS1rZXl3b3JkXCIpLmlubmVySFRNTD1uLnRleHQsdC5jbG9zZU1vZGFsKCkpOmRvY3VtZW50LmxvY2F0aW9uLmhyZWY9bi5hX2F0dHIuaHJlZn0pfX0se2tleTpcImRpc2FibGVOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy4kdHJlZS5maW5kKFwibGkjXCIrZSkuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKX19LHtrZXk6XCJtb2RhbEluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7KDAsYS5kZWZhdWx0KSh0aGlzLmVsKS5vbihcImNsaWNrXCIsXCIubW9kYWwtdHJlZS1idXR0b25cIix0aGlzLm9wZW5Nb2RhbC5iaW5kKHRoaXMpKSwoMCxhLmRlZmF1bHQpKHRoaXMubW9kYWwpLm9uKFwiY2xpY2tcIixcIi5jbG9zZVwiLHRoaXMuY2xvc2VNb2RhbC5iaW5kKHRoaXMpKSwoMCxhLmRlZmF1bHQpKHdpbmRvdykub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3QudGFyZ2V0LmNsYXNzTmFtZT09PWUuc2V0dGluZ3MubW9kYWxDbGFzc05hbWUmJmUuY2xvc2VNb2RhbCgpfSl9fSx7a2V5Olwib3Blbk1vZGFsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLm1vZGFsJiYoMCxhLmRlZmF1bHQpKHRoaXMubW9kYWwpLnNob3coKX19LHtrZXk6XCJjbG9zZU1vZGFsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldHRpbmdzLm1vZGFsJiYoMCxhLmRlZmF1bHQpKHRoaXMubW9kYWwpLmhpZGUoKX19XSxbe2tleTpcInRyZWVDb250ZXh0TWVudVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmRhdGEuY29udGV4dF9tZW51LmZvckVhY2goZnVuY3Rpb24oZSl7dFtlLm5hbWVdPXtsYWJlbDplLnRleHQsYWN0aW9uOmZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLmhyZWY9ZS51cmx9fX0pLHR9fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuZWw9dCx0aGlzLmNvbnRyb2xzPXRoaXMuZWwucXVlcnlTZWxlY3RvckFsbChcIi5uZy11aS10YWItY29udHJvbFwiKSx0aGlzLmluaXQoKX1yZXR1cm4gcihlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbC5kYXRhc2V0Lm5ndWl0YWJzfHwodGhpcy5lbC5kYXRhc2V0Lm5ndWl0YWJzPSEwLHRoaXMuc2V0dXBFdmVudHMoKSx0aGlzLmluaXRpYWxTZWxlY3QoKSl9fSx7a2V5OlwiaW5pdGlhbFNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250cm9sc1swXTtsb2NhbFN0b3JhZ2UudGFnc1RhYkFjdGl2ZSYmdGhpcy5jb250cm9scy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuaGFzaD09PWxvY2FsU3RvcmFnZS50YWdzVGFiQWN0aXZlJiYoZT10KX0pLHRoaXMuc2hvd1RhYihlKX19LHtrZXk6XCJzZXR1cEV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNvbnRyb2xzLmZvckVhY2goZnVuY3Rpb24odCl7dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dmFyIG49dC5jdXJyZW50VGFyZ2V0O2xvY2FsU3RvcmFnZS50YWdzVGFiQWN0aXZlPW4uaGFzaCxlLnRvZ2dsZUFjdGl2ZShuKX0pfSl9fSx7a2V5OlwidG9nZ2xlQWN0aXZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5kZWFjdGl2YXRlVGFiKCksdGhpcy5zaG93VGFiKGUpfX0se2tleTpcImRlYWN0aXZhdGVUYWJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWwucXVlcnlTZWxlY3RvcihcIltkYXRhLXRhYl0uYWN0aXZlXCIpO3RoaXMuY29udHJvbHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpJiZlLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKX0pLGUmJmUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKX19LHtrZXk6XCJzaG93VGFiXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZSYmZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7dmFyIHQ9dGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10YWI9XCInK2UuaGFzaCsnXCJdJyk7dCYmdC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpfX1dKSxlfSgpO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24odCxuLHIpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLHImJmUodCxyKSx0fX0oKTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmVsPXQsdGhpcy5pbml0KCl9cmV0dXJuIHIoZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWwuZGF0YXNldC5uZ3VpYnRufHwodGhpcy5zZXR1cEV2ZW50cygpLHRoaXMuZWwuZGF0YXNldC5uZ3VpYnRuPSEwKX19LHtrZXk6XCJzZXR1cEV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2UuY3VycmVudFRhcmdldC5hdHRyaWJ1dGVzLmRpc2FibGVkJiZlLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixmdW5jdGlvbih0KXtlLnJlbW92ZUVmZmVjdCgpLGUuYWRkRWZmZWN0KHQpfSl9fSx7a2V5OlwiYWRkRWZmZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7dC5jbGFzc0xpc3QuYWRkKFwibmctdWktYnRuLWVmZmVjdFwiKSx0aGlzLmVsLmFwcGVuZENoaWxkKHQpLHRoaXMuY2FsY1BvcyhlLHQpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLHRoaXMucmVtb3ZlRWZmZWN0LmJpbmQodGhpcykpfX0se2tleTpcInJlbW92ZUVmZmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbC5xdWVyeVNlbGVjdG9yKFwiLm5nLXVpLWJ0bi1lZmZlY3RcIikmJnRoaXMuZWwucmVtb3ZlQ2hpbGQodGhpcy5lbC5xdWVyeVNlbGVjdG9yKFwiLm5nLXVpLWJ0bi1lZmZlY3RcIikpfX0se2tleTpcImNhbGNQb3NcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZWwub2Zmc2V0V2lkdGgscj1lLnBhZ2VYLXRoaXMuZWwub2Zmc2V0TGVmdCxpPWUucGFnZVktdGhpcy5lbC5vZmZzZXRUb3Ascz1yPD1uLzI/Mi40KihuLXIpOjIuNCpyLGE9e2xlZnQ6citcInB4XCIsdG9wOmkrXCJweFwiLHdpZHRoOnMrXCJweFwiLGhlaWdodDpzK1wicHhcIn07T2JqZWN0LmFzc2lnbih0LnN0eWxlLGEpfX1dKSxlfSgpO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5OZ1VpVHJlZUluaXQ9dC5OZ1VpVGFic0luaXQ9dC5OZ1VpQnRuSW5pdD10Lk5nVWlJbml0PXZvaWQgMDt2YXIgcj1kKG4oNykpLGk9ZChuKDYpKSxzPWQobig1KSksYT1kKG4oMikpLG89ZChuKDEpKTtmdW5jdGlvbiBkKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBjKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZXx8XCJuZy11aS1idG5cIik7W10uZm9yRWFjaC5jYWxsKHQsZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyByLmRlZmF1bHQoZSl9KX1mdW5jdGlvbiBsKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZXx8XCJuZy11aS10YWJzXCIpO1tdLmZvckVhY2guY2FsbCh0LGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5kZWZhdWx0KGUpfSl9ZnVuY3Rpb24gaChlLHQpe3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZXx8XCJuZy11aS10cmVlLXdyYXBwZXJcIik7W10uZm9yRWFjaC5jYWxsKG4sZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBzLmRlZmF1bHQoZSx0KX0pfXQuTmdVaUluaXQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG47YygpLGwoKSxoKCksKDAsby5kZWZhdWx0KSgpLG49ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlfHxcIm5nLXVpLXNpZGViYXItcmVzaXphYmxlXCIpLFtdLmZvckVhY2guY2FsbChuLGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYS5kZWZhdWx0KGUsdHx8e2Nvbm5lY3RXaXRoOlwiLm5nLXVpLWxvZ29cIn0pfSl9LHQuTmdVaUJ0bkluaXQ9Yyx0Lk5nVWlUYWJzSW5pdD1sLHQuTmdVaVRyZWVJbml0PWh9XSl9KTsiLCJpbXBvcnQgeyBOZ1VpSW5pdCwgTmdVaVRyZWVJbml0IH0gZnJvbSAnQG5ldGdlbi9hZG1pbi11aSc7XG5cbmZ1bmN0aW9uIG5nVGFnc0luaXQoKSB7XG4gIE5nVWlJbml0KCk7XG4gIE5nVWlUcmVlSW5pdCgnbmctdWktdHJlZS13cmFwcGVyJyk7XG4gIE5nVWlUcmVlSW5pdCgnbmctdWktbW9kYWwtdHJlZScsIHsgbW9kYWw6IHRydWUgfSk7XG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICBuZ1RhZ3NJbml0KCk7XG59KTtcbiJdfQ==
